!function(t){function e(e){for(var i,o,a=e[0],r=e[1],s=0,l=[];s<a.length;s++)o=a[s],n[o]&&l.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);for(c&&c(e);l.length;)l.shift()()}var i={},n={0:0};function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise(function(e,o){i=n[t]=[e,o]});e.push(i[2]=a);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+""+({}[t]||t)+"."+{1:"2123a21190550e5dd6a2"}[t]+".js"}(t),r=function(e){s.onerror=s.onload=null,clearTimeout(c);var i=n[t];if(0!==i){if(i){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,i[1](r)}n[t]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:s})},12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var c=r;o(o.s=28)}([function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,i){t.exports={app:"app",mode_night:"mode_night",modeNight:"mode_night",charts:"charts",chart_title:"chart_title",chartTitle:"chart_title",charts__minimap_wrapper:"charts__minimap_wrapper",chartsMinimapWrapper:"charts__minimap_wrapper",minimap:"minimap",minimap__zone:"minimap__zone",minimapZone:"minimap__zone",minimap__left_zone:"minimap__left_zone",minimapLeftZone:"minimap__left_zone",minimap__right_zone:"minimap__right_zone",minimapRightZone:"minimap__right_zone",minimap__left_size_zone:"minimap__left_size_zone",minimapLeftSizeZone:"minimap__left_size_zone",minimap__right_size_zone:"minimap__right_size_zone",minimapRightSizeZone:"minimap__right_size_zone",minimap__size_zone__helper:"minimap__size_zone__helper",minimapSizeZoneHelper:"minimap__size_zone__helper",minimap__canvas_wrapper:"minimap__canvas_wrapper",minimapCanvasWrapper:"minimap__canvas_wrapper",color__switcher:"color__switcher",colorSwitcher:"color__switcher",color__switcher__item:"color__switcher__item",colorSwitcherItem:"color__switcher__item"}},function(t,e,i){var n=i(0);t.exports=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),o.forEach(function(e){n(t,e,i[e])})}return t}},function(t,e,i){t.exports={canvas_wrapper:"canvas_wrapper",canvasWrapper:"canvas_wrapper",canvas__show_info:"canvas__show_info",canvasShowInfo:"canvas__show_info",canvas__show_info__wrapper:"canvas__show_info__wrapper",canvasShowInfoWrapper:"canvas__show_info__wrapper",mode_night:"mode_night",modeNight:"mode_night",canvas__show_info__title:"canvas__show_info__title",canvasShowInfoTitle:"canvas__show_info__title",canvas__show_info__row:"canvas__show_info__row",canvasShowInfoRow:"canvas__show_info__row",canvas__show_info__row__item:"canvas__show_info__row__item",canvasShowInfoRowItem:"canvas__show_info__row__item",canvas__show_info__row__item__value:"canvas__show_info__row__item__value",canvasShowInfoRowItemValue:"canvas__show_info__row__item__value",canvas__show_info__row__item__name:"canvas__show_info__row__item__name",canvasShowInfoRowItemName:"canvas__show_info__row__item__name",canvas_wrapper__x_labels_wrapper:"canvas_wrapper__x_labels_wrapper",canvasWrapperXLabelsWrapper:"canvas_wrapper__x_labels_wrapper",canvas_wrapper__x_labels_wrapper__item:"canvas_wrapper__x_labels_wrapper__item",canvasWrapperXLabelsWrapperItem:"canvas_wrapper__x_labels_wrapper__item"}},function(t,e,i){var n=i(23),o=i(1);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e,i){var n=i(24);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,i){t.exports=i(19)},function(t,e,i){t.exports={index_selector:"index_selector",indexSelector:"index_selector",index_selector__title:"index_selector__title",indexSelectorTitle:"index_selector__title",index_selector__indicator:"index_selector__indicator",indexSelectorIndicator:"index_selector__indicator",index_selector__btn:"index_selector__btn",indexSelectorBtn:"index_selector__btn",index_selector__btn__icon:"index_selector__btn__icon",indexSelectorBtnIcon:"index_selector__btn__icon",mode_night:"mode_night",modeNight:"mode_night"}},function(t,e,i){t.exports={line__switchers:"line__switchers",lineSwitchers:"line__switchers",line__switchers__item:"line__switchers__item",lineSwitchersItem:"line__switchers__item",mode_night:"mode_night",modeNight:"mode_night",line__switchers__item__check:"line__switchers__item__check",lineSwitchersItemCheck:"line__switchers__item__check",line__switchers__item__check__circle_color:"line__switchers__item__check__circle_color",lineSwitchersItemCheckCircleColor:"line__switchers__item__check__circle_color",line__switchers__item__check__circle_blank:"line__switchers__item__check__circle_blank",lineSwitchersItemCheckCircleBlank:"line__switchers__item__check__circle_blank",line__switchers__item__check__icon:"line__switchers__item__check__icon",lineSwitchersItemCheckIcon:"line__switchers__item__check__icon",line__switchers__item__label:"line__switchers__item__label",lineSwitchersItemLabel:"line__switchers__item__label"}},function(t,e){function i(t,e,i,n,o,a,r){try{var s=t[a](r),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var r=t.apply(e,n);function s(t){i(r,o,a,s,c,"next",t)}function c(t){i(r,o,a,s,c,"throw",t)}s(void 0)})}}},function(t,e,i){var n=i(20),o=i(21),a=i(22);t.exports=function(t){return n(t)||o(t)||a()}},function(t,e,i){var n=i(25),o=i(26),a=i(27);t.exports=function(t,e){return n(t)||o(t,e)||a()}},function(t,e,i){t.exports=i.p+"images/92680f0a2c2bc2e52a2b62cf576a7db7.svg"},function(t,e,i){},function(t,e,i){t.exports={chromeframe:"chromeframe"}},function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,i,n){var o=e&&e.prototype instanceof _?e:_,a=Object.create(o.prototype),r=new E(n||[]);return a._invoke=function(t,e,i){var n=h;return function(o,a){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw a;return I()}for(i.method=o,i.arg=a;;){var r=i.delegate;if(r){var s=M(r,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=d;var c=l(t,e,i);if("normal"===c.type){if(n=i.done?p:u,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=p,i.method="throw",i.arg=c.arg)}}}(t,i,r),a}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",u="suspendedYield",d="executing",p="completed",f={};function _(){}function v(){}function m(){}var w={};w[a]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(z([])));g&&g!==i&&n.call(g,a)&&(w=g);var x=m.prototype=_.prototype=Object.create(w);function b(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(i,o){function a(){return new Promise(function(e,a){!function e(i,o,a,r){var s=l(t[i],t,o);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,a,r)},function(t){e("throw",t,a,r)}):Promise.resolve(h).then(function(t){c.value=t,a(c)},function(t){return e("throw",t,a,r)})}r(s.arg)}(i,o,e,a)})}return e=e?e.then(a,a):a()}}function M(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,M(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=l(n,t.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,f;var a=o.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function z(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function i(){for(;++o<t.length;)if(n.call(t,o))return i.value=t[o],i.done=!1,i;return i.value=e,i.done=!0,i};return r.next=r}}return{next:I}}function I(){return{value:e,done:!0}}return v.prototype=x.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},b(S.prototype),S.prototype[r]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,n,o){var a=new S(c(e,i,n,o));return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=z,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function o(n,o){return s.type="throw",s.arg=t,i.next=n,o&&(i.method="next",i.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;L(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:z(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},n(e)}t.exports=n},function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return i}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){"use strict";i.r(e);i(17),i(18);var n=i(10),o=i.n(n),a=i(13),r=i.n(a),s=i(14),c=i.n(s),l=i(5),h=i.n(l),u=i(2),d=i.n(u),p=i(3),f=i.n(p),_=i(7),v=i.n(_),m=i(8),w=i.n(m),y=i(1),g=i.n(y),x=i(9),b=i.n(x),S=i(0),M=i.n(S),k=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=document.createElement(t),n=Object.keys(e),o=function(t){var o=n[t],a=e[o];if("className"===o)a&&a.constructor===Array?a.forEach(function(t){return i.classList.add(t)}):i.classList.add(a);else if("style"===o)i.setAttribute("style",a);else if("on"===o.substr(0,2))i.addEventListener(o.substr(2).toLocaleLowerCase(),a);else if("children"===o)if(a.constructor===Array)for(var r=0;r<a.length;r+=1)i.appendChild(a[r]);else i.appendChild(a);else if("text"===o)i.innerText=a;else if("data"===o){Object.keys(a).forEach(function(t){i.dataset[t]=a[t]})}else i.setAttribute(o,a)},a=0;a<n.length;a+=1)o(a);return i},L=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()(this,t),M()(this,"state",{}),M()(this,"props",{}),M()(this,"node",null),M()(this,"setState",function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h()({},e.state);e.state=h()({},e.state,t),e.componentDidUpdate(e.props,n),i&&i()}),M()(this,"setProps",function(t){var i=h()({},e.props);e.props=h()({},e.props,t),e.componentDidUpdate(i,e.state)}),this.props=h()({},this.constructor.defaultProps,i)}return f()(t,[{key:"componentDidMount",value:function(){return null}},{key:"componentDidUpdate",value:function(){return null}},{key:"componentWillUnmount",value:function(){}},{key:"destroy",value:function(){this.componentWillUnmount(),this.ownElement.removeChild(this.node)}},{key:"render",value:function(){return document.createElement("div")}},{key:"renderDom",value:function(t){this.node=this.render(),this.ownElement=t,t.appendChild(this.node),this.componentDidMount()}}]),t}();M()(L,"defaultProps",{});var E=L,z=i(15),I=i.n(z),N=function(t,e){var i,n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=o,r=!1;return function s(){r||(o&&setTimeout(function(){a=!1,i&&(s.apply(n,i),i=null,n=null)},e),r=!0);for(var c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];if(a)return i=l,void(n=this);t.apply(this,l),a=!0,setTimeout(function(){a=!1,i&&(s.apply(n,i),i=null,n=null)},e)}},O=function(t,e,i,n){var o=!1,a=Date.now(),r=!1,s=function(){r=!0};return requestAnimationFrame(function c(){if(o||(o=!0,n&&n()),!r){var l=Date.now()-a;l>e&&(l=e);var h=+(l/e).toFixed(2);t(100*h),l<e?requestAnimationFrame(c):(s(),i&&i())}}),{stop:s}},P=function(t){return t.touches&&t.touches.length>0?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.pageX,y:t.pageY}},A=function(t){var e=t;if(t>=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)){for(var i=Math.floor((""+t).length/3),n="",o=2;o>=1;o=-1){if(((n=parseFloat((0!=i?t/Math.pow(1e3,i):t).toPrecision(o)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!=0&&(n=n.toFixed(1)),e=n+["","k","m","b","t"][i]}return e},D=function(t){return"".concat(function(t,e,i,n){e=isNaN(e=Math.abs(e))?2:e,i=null==i?".":i,n=null==n?",":n;var o=t<0?"-":"",a=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),r=(r=a.length)>3?r%3:0;return o+(r?a.substr(0,r)+n:"")+a.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?i+Math.abs(t-a).toFixed(e).slice(2):"")}(parseFloat(t),0,"."," ")).replace(".00","")},C=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d()(this,t),this.text=e,this.params=i},T=function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d()(this,t),this.from=e,this.to=i,this.params=n},F=function(){function t(e,i){d()(this,t),this.element=e,this.props=i,this.dpr=t.getRetinaRatio(),this.resize(i.width,i.height)}return f()(t,null,[{key:"getRetinaRatio",value:function(){var t=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d");return t/[e.webkitBackingStorePixelRatio,e.mozBackingStorePixelRatio,e.msBackingStorePixelRatio,e.oBackingStorePixelRatio,e.backingStorePixelRatio,1].reduce(function(t,e){return t||e})}}]),f()(t,[{key:"resize",value:function(e,i){this.props.width=e,this.props.height=i,this.ctx=this.element.getContext("2d"),this.dpr=t.getRetinaRatio(),this.ctx.scale(this.dpr,this.dpr),this.element.style.width="".concat(e,"px"),this.element.style.height="".concat(i,"px"),this.element.setAttribute("width",e*this.dpr),this.element.setAttribute("height",i*this.dpr)}},{key:"clear",value:function(){var t=this.props,e=t.width,i=void 0===e?0:e,n=t.height,o=void 0===n?0:n;this.ctx.clearRect(0,0,i*this.dpr,o*this.dpr)}},{key:"text",value:function(t,e){var i=e.x,n=e.y,o=e.size,a=void 0===o?12:o,r=e.align,s=void 0===r?"center":r,c=e.font,l=void 0===c?"serif":c,h=e.color,u=void 0===h?"black":h;this.ctx.font="".concat(Math.floor(a*this.dpr),"px ").concat(l),this.ctx.textAlign=s,this.ctx.fillStyle=u,this.ctx.fillText(t,i*this.dpr,n*this.dpr)}},{key:"line",value:function(t,e,i){var n=i.color,o=void 0===n?"black":n,a=i.lineWidth,r=void 0===a?2:a;this.ctx.beginPath(),this.ctx.strokeStyle=o,this.ctx.lineWidth=r*this.dpr,this.ctx.moveTo(t.x*this.dpr,t.y*this.dpr),this.ctx.lineTo(e.x*this.dpr,e.y*this.dpr),this.ctx.stroke()}},{key:"rect",value:function(t,e,i){var n=i.width,o=void 0===n?10:n,a=i.height,r=void 0===a?10:a,s=i.color,c=void 0===s?"black":s,l=i.fill,h=void 0!==l&&l;this.ctx.strokeStyle=c,this.ctx.fillStyle=c,h&&this.ctx.fillRect(t*this.dpr,e*this.dpr,o*this.dpr,r*this.dpr),h||this.ctx.strokeRect(t*this.dpr,e*this.dpr,o*this.dpr,r*this.dpr)}},{key:"circle",value:function(t,e,i,n){var o=n.color,a=void 0===o?"black":o,r=n.strokColor,s=void 0!==r&&r,c=n.lineWidth,l=void 0===c?1:c;this.ctx.beginPath(),this.ctx.arc(t*this.dpr,e*this.dpr,i*this.dpr,0,2*Math.PI,!0),s&&(this.ctx.strokeStyle=s,this.ctx.lineWidth=l*this.dpr,this.ctx.stroke()),a&&(this.ctx.fillStyle=a,this.ctx.fill())}},{key:"beginPath",value:function(t){var e=this,i=t.color,n=t.lineWidth;return this.ctx.beginPath(),{moveTo:function(t,i){e.ctx.moveTo(t*e.dpr,i*e.dpr)},lineTo:function(t,i){e.ctx.lineTo(t*e.dpr,i*e.dpr)},stroke:function(){e.ctx.strokeStyle=i,e.ctx.lineWidth=n*e.dpr,e.ctx.stroke()}}}},{key:"draw",value:function(t){t instanceof C&&this.text(t.text,t.params),t instanceof T&&this.line(t.from,t.to,t.params)}}]),t}(),Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],j=i(6),R=i.n(j),X=function(t){function e(){var t,i;d()(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=v()(this,(t=w()(e)).call.apply(t,[this].concat(o))),M()(g()(i),"domLabels",{}),i}return b()(e,t),f()(e,[{key:"drawXLabels",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.props,n=i.labels,o=void 0===n?[]:n,a=i.getLabel,r=this.calcXLabels(),s=r.positions,c=r.intervalFactor,l=r.removed,h=Object.keys(s),u=Object.keys(this.domLabels),d=function(e){var i=+u[e],n=t.domLabels[i];i%c!=0?(n.style.opacity=0,O(function(){var e=100/t.props.width,a=(t.props.scroll-t.props.width)/100,r=t.props.layout.width*(i/(o.length-1)-a)*e;n.style.left="".concat(r,"px")},200,function(){n.remove()}),delete t.domLabels[i]):l.includes(i)&&(n.remove(),delete t.domLabels[i])},p=0;p<u.length;p+=1)d(p);var f=function(i){var n=+h[i],r=s[n],c=a(o[n]),l=t.domLabels[n];if(l){var u="left: ".concat(r.toFixed(2),"px;opacity: 1;");l.setAttribute("style",u)}else{var d="left: ".concat(r.toFixed(2),"px;opacity: ").concat(e?0:1,";");l=k("div",{id:n,className:R.a.canvas_wrapper__x_labels_wrapper__item,text:c,style:d,data:{state:"rendered"}}),t.element.appendChild(l),e&&setTimeout(function(){l.style.opacity=1},1),t.domLabels[n]=l}};for(p=0;p<h.length;p+=1)f(p);this.indexes=h}},{key:"clear",value:function(){for(var t=Object.keys(this.domLabels),e=0;e<t.length;e+=1){var i=+t[e];this.domLabels[i].remove(),delete this.domLabels[i]}}},{key:"calcXLabels",value:function(){for(var t=this.props,e=t.scroll,i=t.labels,n=void 0===i?[]:i,o=t.layout,a=t.graphLayout.labelsXWidth,r=void 0===a?0:a,s=[],c=100/this.props.width,l=Math.ceil(o.width/r),h=o.width/l,u=Math.floor(n.length/l),d=Math.ceil(Math.log2(u/c)),p=Math.pow(2,d),f=Math.ceil(c*n.length/p),_={},v=0;v<f;v+=1){var m=v*p,w=(e-this.props.width)/100,y=o.width*(m/(n.length-1)-w)*c;n[m]&&(o.width>=y&&y>=0-h?_[m]=y:s.push(m))}return{positions:_,count:f,intervalFactor:p,removed:s}}},{key:"componentDidMount",value:function(){this.clear(),this.drawXLabels()}},{key:"componentDidUpdate",value:function(t){this.props.labels===t.labels&&this.props.id===t.id||this.clear(),this.props.width!==t.width?this.drawXLabels(!0):this.drawXLabels(!1)}},{key:"render",value:function(){return this.element=k("div",{className:R.a.canvas_wrapper__x_labels_wrapper}),this.element}}]),e}(E);M()(X,"defaultProps",{width:0,labels:[],scroll:0,layout:{width:0,height:0},graphLayout:{labelsXWidth:0},getLabel:function(t){return t}});var Z=X,U=function(t){function e(t){var i;return d()(this,e),i=v()(this,w()(e).call(this,t)),M()(g()(i),"state",{step:10,showInfo:!1,graphLayout:{width:0,height:0,labelsXWidth:70,labelsXOffset:10},graphMinMax:{minY:0,maxY:0},offset:0,graphOffset:{top:0,left:0,bottom:0,right:0,asixX:0,asixY:0},graphScale:{x:0,y:0},minStep:1,maxStep:1e3}),M()(g()(i),"init",!1),M()(g()(i),"initialize",r()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.props.layout,i.canvas=new F(i.canvasNode,h()({},e)),t.next=4,i.calc();case 4:i.init=!0;case 5:case"end":return t.stop()}},t)}))),M()(g()(i),"reInit",r()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.calc();case 2:case"end":return t.stop()}},t)}))),M()(g()(i),"updateState",function(){var t=r()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){i.setState(e,t)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),M()(g()(i),"updateAnimateYLines",N(function(t){i.setState({graphScale:h()({},i.state.graphScale,{animateYLines:t})})},10)),M()(g()(i),"animationInterval",!1),M()(g()(i),"eventStartShowInfo",N(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=P(t),o=i.state,a=o.step,r=o.showInfo,s=void 0!==r&&r,c=i.props,l=c.scroll,h=c.labels,u=void 0===h?[]:h,d=n.x-i.element.offsetLeft,p=u.length*a/100*(l-i.props.width),f=i.nAsix(d,0).x+p,_=Math.round(f/a);_>0&&_<u.length?!1===s||e!==_?i.setState({showInfo:_}):i.setState({showInfo:!1}):!1===s||e||i.setState({showInfo:!1})},100)),M()(g()(i),"eventMouseDown",function(t){i.isShowInfo||(i.tapPosition=P(t),i.prevShowInfo=i.state.showInfo,i.isShowInfo=!0,i.eventStartShowInfo(t))}),M()(g()(i),"eventMouseMove",function(t){i.isShowInfo&&i.eventStartShowInfo(t)}),M()(g()(i),"eventMouseUp",function(t){if(i.isShowInfo){var e=P(t);Math.abs(e.x-i.tapPosition.x)<+i.state.step.toFixed(2)&&i.eventStartShowInfo(t,i.prevShowInfo),i.isShowInfo=!1}}),i.safeCalc=N(i.calc,1),i.props.allowYAsix?i.state.graphOffset.bottom=30:i.state.graphOffset.bottom=0,i}return b()(e,t),f()(e,null,[{key:"getXLabelText",value:function(t){var e=new Date(t),i=Y[e.getMonth()],n=e.getDate();return"".concat(i," ").concat(n)}}]),f()(e,[{key:"componentDidMount",value:function(){this.documentEventMouseMove=this.eventMouseMove.bind(this),this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mousemove",this.documentEventMouseMove),document.addEventListener("mouseup",this.documentEventMouseUp),document.addEventListener("touchmove",this.documentEventMouseMove),this.initialize()}},{key:"componentDidUpdate",value:function(t,e){var i=this.props,n=i.dataset,o=i.layout,a=this.state,r=a.step,s=a.graphOffset,c=a.graphMinMax,l=this.props,h=l.layout,u=h.width,d=void 0===u?0:u,p=h.height,f=void 0===p?0:p,_=l.limit,v=l.offset,m=l.scroll,w=l.colors;l.id!==t.id&&this.setState({showInfo:!1}),t.dataset!==n||t.layout.width!==o.width||t.layout.height!==o.height||t.limit!==_||t.offset!==v?(t.layout.width===d&&t.layout.height===f||this.canvas.resize(d,f),this.reInit()):e.step===r&&e.graphOffset.top===s.top&&e.graphOffset.bottom===s.bottom&&e.graphOffset.left===s.left&&e.graphOffset.right===s.right&&t.scroll===m&&t.width===d&&t.colors===w&&e.graphMinMax.minY===c.minY&&e.graphMinMax.maxY===c.maxY||this.draw()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.documentEventMouseMove),document.removeEventListener("mouseup",this.documentEventMouseUp),document.removeEventListener("touchmove",this.documentEventMouseMove),document.removeEventListener("touchend",this.documentEventMouseUp),this.cart&&(this.cart.destroy(),this.cart=null),this.cartMiniMap&&(this.cartMiniMap.destroy(),this.cartMiniMap=null)}},{key:"findMinMax",value:function(){var t=this.props,e=t.dataset,i=void 0===e?[]:e,n=t.offset,o=t.limit,a=99999999,r=0;if(i.length>0)for(var s=0;s<i.length;s+=1){var c=i[s].list,l=n+o;0===l&&(l=c.length);for(var h=n;h<c.length&&h<l;h+=1){var u=c[h];a=u<a?u:a,r=u>r?u:r}}else a=0,r=10;return[a,r]}},{key:"nAsix",value:function(t,e){var i=this.props.layout.height,n=void 0===i?0:i,o=this.state,a=o.graphMinMax.minY,r=o.graphScale,s=o.graphOffset,c=s.left,l=s.bottom,h=+(n-(e-a)*r.y-l).toFixed(2);return{x:+(c+t*r.x).toFixed(2),y:h}}},{key:"updateGraphOptions",value:function(t,i,n,o){var a=n.limit,r=void 0===a?0:a,s=n.length,c=n.animateYLines,l=void 0===c?0:c,u=o.width,d=o.height,p=o.left,f=o.top,_=o.right,v=o.bottom,m=o.asixX,w=o.asixY,y=i-t,g=d-f-v,x=u-p-_,b=y>0?+(g/y).toFixed(5):1,S=+(x/u).toFixed(5),M=e.calcXStep({width:u,limit:r,length:s});this.setState({step:M,graphOffset:{left:p,right:_,top:f,bottom:v,asixX:m,asixY:w},graphMinMax:{minY:t,maxY:i},graphScale:{x:S,y:b,animateYLines:l},graphLayout:h()({},this.state.graphLayout,{width:x,height:g})})}},{key:"getLength",value:function(){var t=this.props.dataset,e=void 0===t?[]:t;return Math.max.apply(Math,c()(e.map(function(t){return t.list.length})))}},{key:"calc",value:function(){var t=this,e=this.props,i=e.width,n=e.layout,o=this.state,a=o.graphMinMax,r=o.graphOffset,s=r.left,c=r.top,l=r.right,u=r.bottom,d=r.asixX,p=r.asixY,f=this.getLength(),_=this.findMinMax(),v=I()(_,2),m=v[0],w=v[1],y=function(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.updateGraphOptions(e,o,{limit:i,length:f,animateYLines:a},h()({},n,{left:s,top:c,right:l,bottom:u,asixX:d,asixY:p}))};if(a.minY!==m||a.maxY!==w){var g=m-a.minY,x=w-a.maxY,b=a.maxY>w?1:-1,S=Math.abs(x);if(a.maxY==w&&(b=a.minY<m?1:-1,S=Math.abs(g)),Math.abs(S)>n.height/2){var M=S>=0?1:-1;S=n.height/2*M}this.animationInterval&&(this.animationInterval=!1),this.animationInterval=O(function(t){var e=x*t/100,i=+(g*t/100+a.minY).toFixed(2),n=+(e+a.maxY).toFixed(2),o=t>0?t*b:b,r=o>=0?1:-1,s=100-Math.abs(o);y(i,n,0!==o&&0!==s?S*s/100*r:0)},200,function(){t.animationInterval=!1})}else y(m,w);return!0}},{key:"drawGraph",value:function(t,e){var i=this,n=e.color,o=void 0===n?"black":n,a=e.lineWidth,r=void 0===a?3:a,s=e.step,c=e.drawPointValue,l=this.props,h=l.scroll,u=void 0===h?0:h,d=l.width,p=void 0===d?0:d,f=+(s*t.length*(u-p)/100).toFixed(2),_=this.canvas.beginPath({color:o,lineWidth:r});t.forEach(function(t,e){var n=i.nAsix(e*s-f,t),o=n.x,a=n.y;0===e?_.moveTo(o,a):_.lineTo(o,a),c&&i.canvas.text(t.value,{x:o,y:a,align:"center",font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}),_.stroke()}},{key:"createYLabels",value:function(){for(var t=this.props,e=t.layout,i=e.width,n=e.height,o=t.colors,a=this.state,r=a.graphMinMax,s=r.minY,c=r.maxY,l=a.graphOffset,h=l.asixX,u=void 0===h?0:h,d=l.asixY,p=void 0===d?0:d,f=a.graphScale.animateYLines,_=c-s,v=_>0?_/6:n/6,m=c/6,w=[],y=-25;y<25;y+=1){var g=this.nAsix(0,v*y+s),x=Math.floor(m*y+s);w.push(new C(A(x),{x:0+u,y:g.y-10+p+f,align:"start",color:o.text,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial",size:14})),w.push(new T({x:0+u,y:g.y+p+f},{x:i+u,y:g.y+p+f},{color:y>0?o.lines:o.lastLine,lineWidth:2}))}return w}},{key:"drawDebugInfo",value:function(){var t=this.props,e=t.layout,i=t.offset,n=t.limit,o=t.scroll,a=t.width,r=this.state,s=r.graphMinMax,c=s.minY,l=s.maxY,h=r.graphScale,u=r.graphOffset,d=u.left,p=u.top,f=u.right,_=u.bottom,v=r.step;this.canvas.rect(0,0,{width:300,height:150,color:"rgba(0, 0, 0, 0.5)",fill:!0}),this.canvas.text("Min/Max Y: ".concat(c," / ").concat(l),{x:10,y:20,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Scale X/Y: ".concat(h.x," / ").concat(h.y),{x:10,y:40,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset L/T/R/B: ".concat(d,"px / ").concat(p,"px / ").concat(f,"px / ").concat(_,"px"),{x:10,y:60,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Width/Height: ".concat(e.width.toFixed(2),"px / ").concat(e.height.toFixed(2),"px"),{x:10,y:80,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Step: ".concat(v,"px"),{x:10,y:100,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit: ".concat(i," / ").concat(n),{x:10,y:120,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit (%): ".concat(o.toFixed(2)," / ").concat(a.toFixed(2)),{x:10,y:140,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}},{key:"draw",value:function(){var t=this,e=this.state,i=e.step,n=e.showInfo,o=void 0!==n&&n,a=this.props,r=a.dataset,s=void 0===r?[]:r,c=a.allowXAsix,l=a.allowYAsix,u=a.allowPointValue,d=a.lineWidth,p=void 0===d?3:d;this.canvas.clear();var f=[];if(l&&(f=this.createYLabels()),c){var _=this.props,v=_.id,m=_.scroll,w=_.labels,y=_.layout,g=_.width,x=this.state.graphLayout;this.labelX.setProps({id:v,width:g,scroll:m,labels:w,layout:y,graphLayout:x})}f.filter(function(t){return t instanceof T}).forEach(function(e){return t.canvas.draw(e)}),s.forEach(function(e){t.drawGraph(e.list,h()({},e,{step:i,lineWidth:p,drawPointValue:u}))}),f.filter(function(t){return t instanceof C}).forEach(function(e){return t.canvas.draw(e)}),this.props.debug&&this.drawDebugInfo(),!1!==o?this.drawShowInfo():this.showInfoNode.setAttribute("style","opacity: 0;")}},{key:"drawShowInfo",value:function(){var t=this,e=this.props,i=e.scroll,n=e.labels,o=void 0===n?[]:n,a=e.dataset,r=void 0===a?[]:a,s=e.lineWidth,c=e.colors,l=e.layout,u=this.state,d=u.step,p=u.graphOffset,f=u.showInfo,_=o.length*d/100*(i-this.props.width),v=f,m=o[v],w=new Date(m),y=Y[w.getMonth()],g=W[w.getDay()],x=w.getDate(),b="".concat(g,", ").concat(y," ").concat(x),S=this.nAsix(v*d-_,0).x,M=r.map(function(t){return{value:t.list[v],color:t.color,label:t.label}}).map(function(e){return h()({},e,t.nAsix(v*d-_,e.value))});this.canvas.line({x:S,y:0},{x:S,y:l.height-p.bottom},{color:c.activeLine,lineWidth:2}),M.forEach(function(e){t.canvas.circle(e.x,e.y,5,{lineWidth:s+2,color:c.background,strokColor:e.color})});var L=v*d-_-30;L<0&&(L=0),this.showInfoNode.innerHTML="";for(var E=[],z=function(t){var e=M.slice(t,t+2),i=k("div",{className:R.a.canvas__show_info__row});e.forEach(function(t){i.appendChild(k("div",{className:R.a.canvas__show_info__row__item,style:"color: ".concat(t.color),children:[k("div",{className:R.a.canvas__show_info__row__item__value,text:D(t.value)}),k("div",{className:R.a.canvas__show_info__row__item__name,text:t.label})]}))}),E.push(i)},I=0;I<M.length;I+=2)z(I);this.showInfoNode.appendChild(k("div",{className:R.a.canvas__show_info__wrapper,children:[k("div",{className:R.a.canvas__show_info__title,text:b})].concat(E)})),L+this.showInfoNode.clientWidth>l.width&&(L=l.width-this.showInfoNode.clientWidth),this.showInfoNode.setAttribute("style","opacity: 1;left: ".concat(L,"px"))}},{key:"handleCreateLabelX",value:function(){var t=this.props,i=t.id,n=t.scroll,o=t.labels,a=t.layout,r=t.width,s=this.state.graphLayout;return new Z({id:i,width:r,scroll:n,labels:o,layout:a,graphLayout:s,getLabel:e.getXLabelText})}},{key:"render",value:function(){var t=this.props.allowXAsix,e=void 0!==t&&t;this.canvasNode=k("canvas"),this.showInfoNode=k("div",{className:R.a.canvas__show_info,style:"opacity: 0;"});var i=[this.canvasNode,this.showInfoNode];return this.element=k("div",{className:R.a.canvas_wrapper,children:i,onMouseDown:N(this.eventMouseDown.bind(this),10),onTouchStart:N(this.eventMouseDown.bind(this),10)}),e&&(this.labelX=this.handleCreateLabelX(),this.labelX.renderDom(this.element)),this.element}}]),e}(E);M()(U,"defaultProps",{allowXAsix:!0,allowYAsix:!0,allowPointValue:!1,offset:0,limit:0,dataset:[],width:0,scroll:0,layout:{width:0,height:0}}),M()(U,"calcXStep",function(t){var e=t.width,i=t.limit,n=t.length,o=t.maxStep,a=void 0===o?1e3:o,r=t.minStep,s=void 0===r?1:r,c=i>0?+(e/((n-1)*i/100)).toFixed(5):e/n;return c=Math.min(c,a),c=Math.max(c,s)});var H=U,B=i(11),G=i.n(B),J=function(t){function e(){return d()(this,e),v()(this,w()(e).apply(this,arguments))}return b()(e,t),f()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.index,n=void 0===i?0:i,o=e.charts,a=void 0===o?0:o;t.index===n&&t.charts===a||(this.nodes.indicator.innerText=a>0?"".concat(n+1," of ").concat(a):"0 of 0")}},{key:"render",value:function(){var t=this.props,e=t.index,i=void 0===e?0:e,n=t.charts,o=void 0===n?0:n,a=t.onNext,r=t.onPrev,s=k("div",{className:G.a.index_selector__title,text:"Select chart:"}),c=k("div",{className:[G.a.index_selector__btn,G.a.index_selector__prev_btn],children:k("div",{className:G.a.index_selector__btn__icon,text:"<"}),onClick:r}),l=k("div",{className:G.a.index_selector__indicator,text:o>0?"".concat(i+1,"/").concat(o):"0/0"}),h=k("div",{className:[G.a.index_selector__btn,G.a.index_selector__next_btn],children:k("div",{className:G.a.index_selector__btn__icon,text:">"}),onClick:a}),u=k("div",{className:G.a.index_selector,children:[s,c,l,h]});return this.nodes={element:u,title:s,prevBtn:c,indicator:l,nextBtn:h},u}}]),e}(E);M()(J,"defaultProps",{index:0,charts:0,onNext:function(){return!1},onPrev:function(){return!1}});var V=J,q=i(12),$=i.n(q),K=i(16),Q=i.n(K),tt=function(t){function e(){return d()(this,e),v()(this,w()(e).apply(this,arguments))}return b()(e,t),f()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.dataset,n=void 0===i?[]:i,o=e.visibled,a=void 0===o?[]:o;t.dataset!==n?this.handleReRender():t.visibled!==a&&this.handleApplayVisibled()}},{key:"handleApplayVisibled",value:function(){var t=this,e=this.props,i=e.dataset,n=void 0===i?[]:i,o=e.visibled,a=void 0===o?[]:o;n.forEach(function(e){var i=t.items.find(function(t){return t.id==="switcher-for-".concat(e.id)});if(!i)throw new Error("Can't find swticher for ".concat(e.id));var n=i.querySelector(".".concat($.a.line__switchers__item__check__circle_blank));if(!n)throw new Error("Can't find circle-blank by selector ."+$.a.line__switchers__item__check__circle_blank+"in swticher for ".concat(e.id));n.style="".concat($.a.line__switchers__item__check__circle_blank,";")+"transform: scale(".concat(a.includes(e.id)?0:.9,");")})}},{key:"handleReRender",value:function(){var t=this,i=this.props,n=i.dataset,o=void 0===n?[]:n,a=i.visibled,r=void 0===a?[]:a,s=i.onSwitch;this.items.forEach(function(t){return t.remove()}),this.items=e.createItems(o,r,s),this.items.forEach(function(e){return t.element.appendChild(e)})}},{key:"render",value:function(){var t=this.props,i=t.dataset,n=void 0===i?[]:i,o=t.visibled,a=void 0===o?[]:o,r=t.onSwitch;return this.items=e.createItems(n,a,r),this.element=k("div",{className:$.a.line__switchers,children:this.items}),this.element}}],[{key:"createItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t.map(function(t){return k("div",{id:"switcher-for-".concat(t.id),className:$.a.line__switchers__item,children:[k("div",{className:$.a.line__switchers__item__check,style:"background-color: ".concat(t.color),children:[k("div",{className:$.a.line__switchers__item__check__circle_blank,style:"transform: scale(".concat(e.includes(t.id)?0:1,");")}),k("div",{className:$.a.line__switchers__item__check__icon,style:"background-image: url(".concat(Q.a,")")})]}),k("div",{className:$.a.line__switchers__item__label,text:t.label})],onClick:function(){return i(t.id)}})})}}]),e}(E);M()(tt,"defaultProps",{dataset:[],visibled:[]});var et,it,nt=tt,ot=function(){function t(e){d()(this,t),this.data=e}return f()(t,[{key:"getXAsix",value:function(){var t=this,e=Object.keys(this.data.types).find(function(e){return"x"===t.data.types[e]});if(!e)throw new Error("Can't found x type");var i=this.data.columns.find(function(t){return t.length>0&&t[0]===e});if(!i)throw new Error("Can't found x column");return i.slice(1)}},{key:"getLines",value:function(){var t=this,e=Object.keys(this.data.types).filter(function(e){return"line"===t.data.types[e]});if(0===e.length)throw new Error("Can't found any lines");if(this.data.columns.filter(function(t){return t.length>0&&e.includes(t[0])}).length!==e.length)throw new Error("Can't found lines #".concat(e.join(",")," in columns"));return e.map(function(e){return t.getLine(e)})}},{key:"getLine",value:function(t){var e=this.data.columns.find(function(e){return e.length>0&&e[0]===t}),i=this.data.names[t],n=this.data.colors[t];if(!e)throw new Error("Can't found ".concat(t," column"));if(!i)throw new Error("Can't name for type #".concat(t));if(!n)throw new Error("Can't found color for type #".concat(t));return{id:t,label:i,color:n,list:e.slice(1)}}}]),t}(),at="day",rt=(et={},M()(et,at,"Switch to Night Mode"),M()(et,"night","Switch to Day Mode"),et),st=(it={},M()(it,at,{background:"#fff",text:"#96A2AA",lines:"#F2F4F5",lastLine:"#F2F4F5",activeLine:"#F2F4F5"}),M()(it,"night",{background:"#242F3E",text:"#546778",lines:"#293544",lastLine:"#313D4D",activeLine:"#3B4A5A"}),it),ct=i(4),lt=i.n(ct),ht=function(t){function e(){var t,i;d()(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=v()(this,(t=w()(e)).call.apply(t,[this].concat(o))),M()(g()(i),"state",{title:"",mode:at,scroll:100,width:25,dataset:[],labels:[],init:!1,loading:!0,index:0}),M()(g()(i),"element",!1),M()(g()(i),"cart",!1),M()(g()(i),"cartMiniMap",!1),M()(g()(i),"eventLeftZoneMouseDown",function(t){var e=i.state,n=e.width,o=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=h()({},P(t),{side:"left",width:n,scroll:o})}),M()(g()(i),"eventRightZoneMouseDown",function(t){var e=i.state,n=e.width,o=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=h()({},P(t),{side:"right",width:n,scroll:o})}),M()(g()(i),"eventZoneMouseDown",function(t){var e=i.state.scroll;i.isChangePosition=!0,i.changePositionEvent=h()({},P(t),{scroll:e})}),M()(g()(i),"eventMouseMove",function(t){if(i.isChangePosition){var e=i.state,n=e.layout,o=e.width,a=i.changePositionEvent.scroll,r={x:i.changePositionEvent.x,y:i.changePositionEvent.y},s=P(t),c=r.x-s.x,l=c>0?1:0;if(0!==(c=Math.abs(c))){var h=100*c/n.width,u=a+h;1===l&&(u=a-h),u-o<0&&(u=o),u>100&&(u=100),i.state.scroll!==u&&i.setState({scroll:u})}}if(i.isChangeSize){var d=i.state.layout,p=i.changeSizeEvent,f=p.width,_=p.side,v=void 0===_?"left":_,m={x:i.changeSizeEvent.x,y:i.changeSizeEvent.y},w=P(t),y=m.x-w.x,g=y>0?1:0;if(0!==(y=Math.abs(y)))if("left"===v){var x=i.state.scroll,b=100*y/d.width,S=f-b;1===g&&(S=f+b),S>x&&(S=x),S<10&&(S=10),i.state.width!==S&&i.setState({width:S})}else if("right"===v){var M=i.changeSizeEvent.scroll,k=100*y/d.width,L=f+k,E=M+k;if(1===g&&(L=f-k,E=M-k),E>100)E=100,L=100-(M-f);L<10&&(L=10),i.state.width!==L&&i.setState({width:L,scroll:E})}}}),M()(g()(i),"eventMouseUp",function(){i.isChangePosition=!1,i.isChangeSize=!1,i.changePositionEvent=!1,i.changeSizeEvent=!1}),M()(g()(i),"handleSwitchDataSet",function(t){var e=i.state.visibled,n=void 0===e?[]:e;n.includes(t)?i.setState({visibled:n.filter(function(e){return e!==t})}):i.setState({visibled:[].concat(c()(n),[t])})}),M()(g()(i),"handleNextIndex",function(){var t=i.state,e=t.index,n=void 0===e?0:e,o=t.charts,a=n+1;a<(void 0===o?0:o)&&i.setState({index:a})}),M()(g()(i),"handlePrevIndex",function(){var t=i.state.index,e=(void 0===t?0:t)-1;e>=0&&i.setState({index:e})}),i}return b()(e,t),f()(e,[{key:"componentDidMount",value:function(){this.prepareOwnElement(),this.attachEvents(),this.state.layout={width:this.element.clientWidth,height:this.element.clientHeight},this.setState({init:!0}),this.handleLoadDataCharts()}},{key:"componentDidUpdate",value:function(t,i){var n=this.state,o=n.labels,a=void 0===o?[]:o,r=n.dataset,s=void 0===r?[]:r,c=n.visibled,l=void 0===c?[]:c,h=n.scroll,u=n.width,d=n.layout,p=n.mode,f=n.title,_=void 0===f?"":f,v=n.index,m=void 0===v?0:v,w=n.loading,y=void 0!==w&&w,g=n.charts,x=void 0===g?0:g,b=this.cart&&this.minimap&&this.minimapZone&&this.cartMiniMap;if(this.handleUpdateFontSize(),this.element)if(b){if(i.visibled!==l||i.dataset!==s||i.labels!==a||i.scroll!==h||i.width!==u||i.mode!==p){var S=s.filter(function(t){return l.includes(t.id)}),M=S.length>0?S[0].list.length:0,k=e.calcLimitOffset(M,u,h),L=k.limit,E=k.offset;this.cart.setProps({id:m,dataset:S,labels:a,offset:E,limit:L,scroll:h,width:u,colors:st[p]}),i.dataset===s&&i.visibled===l||(this.cartMiniMap.setProps({dataset:S}),this.lineSwitcher.setProps({dataset:s,visibled:l})),i.mode!==p&&this.handleApplyColorMode()}i.layout!==d&&(this.cart.setProps({layout:{width:d.width-30,height:window.innerHeight/100*40}}),this.cartMiniMap.setProps({layout:{width:d.width-30,height:50}})),i.scroll===h&&i.width===u||this.handleUpdateMiniMap(),i.title===_&&i.loading===y||this.handleUpdateTitle(),i.index!==m&&this.handleLoadDataCharts(),i.index===m&&i.charts===x||this.indexSelector.setProps({index:m,charts:x})}else this.handleInitilizeCharts()}},{key:"componentWillUnmount",value:function(){this.dettachEvents(),this.cart&&(this.cart.destroy(),this.cart=null),this.cartMiniMap&&(this.cartMiniMap.destroy(),this.cartMiniMap=null)}},{key:"dettachEvents",value:function(){document.removeEventListener("mousemove",this.documentEventMouseMove),document.removeEventListener("mouseup",this.documentEventMouseUp),document.removeEventListener("touchmove",this.documentEventMouseMove),document.removeEventListener("touchend",this.documentEventMouseUp)}},{key:"attachEvents",value:function(){var t=this;window.onresize=N(function(){t.setState({layout:{width:t.element.clientWidth,height:t.element.clientHeight}})},100),this.documentEventMouseMove=this.eventMouseMove.bind(this),this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mousemove",this.documentEventMouseMove),document.addEventListener("mouseup",this.documentEventMouseUp),document.addEventListener("touchmove",this.documentEventMouseMove),document.addEventListener("touchend",this.documentEventMouseUp)}},{key:"prepareOwnElement",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(lt.a.mode_night,"night"===t),this.ownElement.classList.add(lt.a.app)}},{key:"handleLoadDataCharts",value:function(){var t=r()(o.a.mark(function t(){var e,n,a,r,s,c,l,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.state,n=e.index,a=void 0===n?0:n,r=e.dataJson,s=void 0!==r&&r){t.next=8;break}return this.setState({loading:!0}),t.next=5,i.e(1).then(i.t.bind(null,29,3));case 5:s=(s=t.sent).default,a=0;case 8:c=new ot(s[a]),l=c.getLines(),h=c.getXAsix(),this.setState({labels:h,dataJson:s,title:"Chart ".concat(a+1),charts:s.length,dataset:l,visibled:l.map(function(t){return t.id}),scroll:100,width:25,loading:!1});case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"handleUpdateMiniMap",value:function(){var t=this.state,e=t.scroll,i=t.width;this.minimapZone.style.left="".concat(e-i,"%"),this.minimapZone.style.width="".concat(i,"%"),this.minimapLeftZone.style="width: ".concat(e-i,"%"),this.minimapRightZone.style="width: ".concat(100-e,"%"),this.minimapLeftSizeZone.style="left: ".concat(e-i,"%;"),this.minimapRightSizeZone.style="left: ".concat(e,"%;")}},{key:"handleInitilizeMinimap",value:function(){var t=this.state,e=t.scroll,i=t.width;this.minimapLeftZone=k("div",{className:lt.a.minimap__left_zone,style:"width: ".concat(e-i,"%")}),this.minimapLeftSizeZone=k("div",{className:lt.a.minimap__left_size_zone,style:"left: ".concat(e-i,"%;"),children:k("div",{className:lt.a.minimap__size_zone__helper,onMouseDown:this.eventLeftZoneMouseDown.bind(this),onTouchStart:this.eventLeftZoneMouseDown.bind(this)})}),this.minimapZone=k("div",{className:lt.a.minimap__zone,style:"left: ".concat(e-i,"%; width: ").concat(i,"%"),onMouseDown:this.eventZoneMouseDown.bind(this),onTouchStart:this.eventZoneMouseDown.bind(this)}),this.minimapRightSizeZone=k("div",{className:lt.a.minimap__right_size_zone,style:"left: ".concat(e,"%;"),children:k("div",{className:lt.a.minimap__size_zone__helper,onMouseDown:this.eventRightZoneMouseDown.bind(this),onTouchStart:this.eventRightZoneMouseDown.bind(this)})}),this.minimapRightZone=k("div",{className:lt.a.minimap__right_zone,style:"width: ".concat(100-e,"%")}),this.minimap=k("div",{className:lt.a.minimap,children:[this.minimapLeftZone,this.minimapLeftSizeZone,this.minimapZone,this.minimapRightSizeZone,this.minimapRightZone]}),this.canvasWrapper=k("div",{className:lt.a.minimap__canvas_wrapper}),this.minimapWrapper=k("div",{className:lt.a.charts__minimap_wrapper,children:[this.minimap,this.canvasWrapper]})}},{key:"handleInitilizeColorModeSwitcher",value:function(){var t=this.state.mode;this.colorSwitcherItem=k("div",{className:lt.a.color__switcher__item,text:rt[t],onClick:this.handleToggleColorMode.bind(this)}),this.colorSwitcher=k("div",{className:lt.a.color__switcher,children:this.colorSwitcherItem})}},{key:"handleInitilizeCharts",value:function(){var t=this.state,i=t.visibled,n=void 0===i?[]:i,o=t.dataset,a=void 0===o?[]:o,r=t.labels,s=t.scroll,c=t.width,l=t.layout,h=t.mode,u=t.index,d=a.filter(function(t){return n.includes(t.id)}),p=d.length>0?d[0].list.length:0,f=e.calcLimitOffset(p,c,s),_=f.limit,v=f.offset;this.cart=new H({id:u,lineWidth:3,dataset:d,offset:v,limit:_,scroll:s,width:c,labels:r,layout:{width:l.width,height:window.innerHeight/100*40},colors:st[h]}),this.cartMiniMap=new H({id:u,lineWidth:2,dataset:d,allowXAsix:!1,allowYAsix:!1,layout:{width:l.width-30,height:50}}),this.handleInitilizeMinimap(),this.lineSwitcher=new nt({dataset:a,visibled:n,onSwitch:this.handleSwitchDataSet.bind(this)}),this.handleInitilizeColorModeSwitcher(),this.cart.renderDom(this.element),this.cartMiniMap.renderDom(this.canvasWrapper),this.element.appendChild(this.minimapWrapper),this.lineSwitcher.renderDom(this.element),this.element.appendChild(this.colorSwitcher)}},{key:"handleUpdateFontSize",value:function(){var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.element.setAttribute("style","font-size: ".concat(t,"px"))}},{key:"handleToggleColorMode",value:function(){var t=this.state.mode;this.setState({mode:t===at?"night":at})}},{key:"handleApplyColorMode",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(lt.a.mode_night,"night"===t),this.colorSwitcherItem.innerText=rt[t]}},{key:"handleUpdateTitle",value:function(){var t=this.state,e=t.title,i=void 0===e?"":e,n=t.loading,o=void 0!==n&&n;this.title.innerText=o?"Loading...":i}},{key:"render",value:function(){var t=this.state,e=t.title,i=void 0===e?"":e,n=t.loading,o=void 0!==n&&n,a=t.index,r=void 0===a?0:a,s=t.charts,c=void 0===s?0:s,l=+(window.innerWidth/40).toFixed(2);return l>16&&(l=16),this.title=k("h1",{className:lt.a.chart_title,text:o?"Loading...":i}),this.indexSelector=new V({index:r,charts:c,onNext:this.handleNextIndex.bind(this),onPrev:this.handlePrevIndex.bind(this)}),this.element=k("div",{className:lt.a.charts,style:"font-size: ".concat(l,"px"),children:this.title}),this.indexSelector.renderDom(this.element),this.element}}],[{key:"calcLimitOffset",value:function(t,e,i){var n=t>0?Math.floor(t/100*e):0;return{limit:n,offset:t>0?Math.floor(t/100*i)-n:0}}}]),e}(E);window.app=new ht,window.app.renderDom(document.getElementById("app"))}]);
//# sourceMappingURL=main.bc211b4db3da8248bdb4.js.map