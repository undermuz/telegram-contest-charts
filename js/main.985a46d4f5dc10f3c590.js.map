{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./src/components/Charts/style.css?43f5","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./src/components/LineSwitcher/style.css?1ca5","webpack:///./src/components/style.css?7b11","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./src/components/MiniMap/style.css?5b9c","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/components/DatesRange/style.css?adb0","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/components/ColorSwithcer/style.css?b1ba","webpack:///./src/components/Charts/bar_chart.css?0ada","webpack:///./src/svg/arrow.svg","webpack:///./src/svg/checked.svg","webpack:///./src/svg/zoom.svg","webpack:///./src/styles/index.css?5983","webpack:///./src/styles/reset.css?b1ef","webpack:///./src/helpers/polyfills.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/components/base.js","webpack:///./src/helpers/utils.js","webpack:///./src/helpers/Colors.js","webpack:///./src/helpers/Canvas.js","webpack:///./src/constants/DATES.js","webpack:///./src/constants/COLORS.js","webpack:///./src/components/Charts/LabelsX.js","webpack:///./src/components/Charts/BarChart.js","webpack:///./src/components/Charts/index.js","webpack:///./src/components/LineSwitcher/index.js","webpack:///./src/helpers/DataChart.js","webpack:///./src/components/MiniMap/index.js","webpack:///./src/components/DatesRange/index.js","webpack:///./src/components/App.js","webpack:///./src/components/ColorSwithcer/index.js","webpack:///./src/index.js"],"names":["lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","cre","tag","params","node","document","createElement","paramKeys","Object","keys","i","name","value","constructor","Array","forEach","className","classList","add","setAttribute","substr","addEventListener","toLocaleLowerCase","index","appendChild","innerText","paramNames","paramName","dataset","Component","props","prevState","state","componentDidUpdate","defaultProps","prevProps","componentWillUnmount","ownElement","removeChild","element","render","componentDidMount","arrLimit","arr","limit","slice","arrOffset","offset","throttle","func","ms","firstSkip","isThrottled","savedArgs","savedThis","firstStart","wrapper","apply","args","getAnimProgress","startAt","duration","time","now","timePassed","progress","animateEase","animate","draw","endCallback","startCallback","stared","start","stopKey","stop","stepAnimate","calculateOffsets","el","top","left","parentOffsets","offsetParent","offsetTop","offsetLeft","getClickPosition","e","postion","touches","pageX","y","pageY","offsets","debounce","f","timer","onComplete","abbreviateNumber","from","direction","abs","newValue","suffixes","suffixNum","floor","shortValue","precision","parseFloat","pow","toPrecision","dotLessShortValue","replace","toFixed","formatMoney","n","c","d","t","isNaN","undefined","s","String","parseInt","Number","j","numberFormat","loadFile","url","Promise","ok","request","XMLHttpRequest","open","send","onreadystatechange","readyState","status","type","getResponseHeader","responseText","rgbToHsl","r","g","b","min","h","l","hue2rgb","p","q","hslToRgb","rgbToHsv","v","hsvToRgb","componentToHex","hex","toString","rgbToHex","hexToRgb","result","exec","CanvasText","text","CanvasLine","to","CanvasRect","CanvasPath","paths","isFill","isStroke","push","CanvasArc","startAngle","endAngle","Canvas","devicePixelRatio","getContext","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","reduce","a","dpr","getRetinaRatio","resize","width","height","ctx","scale","style","clearRect","size","align","font","color","opacity","rgb","textAlign","fillStyle","fillText","lineWidth","beginPath","strokeStyle","moveTo","lineTo","stroke","fill","fillRect","strokeRect","mouseX","mouseY","mouseMove","arc","isIntersect","isPointInPath","closePath","strokColor","PI","lineJoin","lineCap","item","line","rect","path","MAP_MONTHS","MAP_WEEK_DAYS","MODE_COLOR_DAY","MODE_COLOR_NIGHT","MAP_MODE_COLOR_TO_TEXT","MAP_MODE_COLOR_TO_CHART_COLORS","background","lines","lastLine","activeLine","textOpacity","lineOpacity","activeLineOpacity","LabelsX","changeViewWidth","labels","getLabel","calcXLabels","positions","intervalFactor","removed","indexes","existIndexes","domLabels","dom","scaleFactor","scrollFromLeft","scroll","layout","remove","includes","rIndex","labelStyle","canvas_wrapper__x_labels_wrapper__item","data","position","graphLayout","labelsXWidth","labelsOnPage","ceil","cellWidth","intervalCount","intervalFactorLog","log2","labelsCount","labelsPosition","newIndex","getLabelIndexByX","count","clear","drawXLabels","canvas_wrapper__x_labels_wrapper","BaseComponent","val","BarChart","itemStyle","join","canvas_wrapper__bar_chart__item","canvas_wrapper__bar_chart","Charts","hsl","darknessRgb","round","step","showInfo","labelsXOffset","graphMinMax","graphOffset","bottom","right","asixX","asixY","graphScale","minStep","maxStep","visibility","mouse","pointX","pointY","selectArc","zoom","animationsValues","yAsixOpacity","xAsixOpacity","arcsScale","areasScale","yMinMax","visibled","handleApplyVisibility","canvas","canvasNode","calc","init","reDraw","timeFactor","animations","filter","needDraw","animation","lastUpdateAt","console","warn","setState","animateYLines","minMax","getLength","setGraphOptions","currentPosition","getLabelIndexByRelativeX","arcMode","clickByShowInfo","isEventInShowInfo","mouseDown","isShowInfo","tapPosition","eventStartShowInfo","closestEl","target","closest","canvas__show_info","isNotOverShowInfo","showInfoNode","eventUpdateMouse","canvas_wrapper","isOutside","handleZoom","mouseEnter","startVal","endVal","range","createAnimation","iterVal","startScaleVal","arcsOpacity","startOpacityVal","rangeScale","rangeOpacity","iterScaleVal","iterOpacityVal","areaScale","areaOpacity","list","areas","bars","scaleX","canvasBars","calcBars","nativeOpacity","canvasAreas","calcAreas","canvasLines","calcLines","additionalDraw","selectArcShow","show","iterShow","keyVisibility","idsDataset","map","isVisible","handleFadeOutLine","handleFadeInLine","safeCalc","allowYAsix","mini","documentEventMouseUp","eventMouseUp","bind","initialize","handleFadeInYAsix","handleFadeInXAsix","handleFadeOutArcs","handleFadeInAreas","handleFadeInArcs","handleFadeOutYAsix","handleFadeOutXAsix","handleFadeOutAreas","colors","prevDatasets","some","_item","uid","handleFadeOutDatasets","calcDrawParams","reInit","handleFadeInSelectArc","handleFadeOutSelectArc","removeEventListener","cart","destroy","cartMiniMap","def","maxIter","items","findMinMaxForLine","findMinMaxForBars","common","minY","minMaxY","scaleY","zY","nY","nX","yType","transformPositions","options","heightGraph","getHeightGraph","widthGraph","getWidthGraph","scales","minmax_id","delta","calcXStep","fullWidth","offsetPx","yScaled","animateScale","absoluteMinMax","findAbsoluteMinMax","findMinMax","handleAnimScale","updateGraphOptions","showInfoShow","sum","nAsix","start_angle","radiusArc","radiusText","centerX","centerY","canvasObjList","showVal","slice_angle","cX","cos","cY","sin","precent","rText","textX","textY","maxY","fullOpacity","mode","additionalOffset","percent","offsetTopPercent","offsetTopPx","iterHeight","yOffset","barHeight","getDarknessColor","Bkg","rO","gO","bO","allOpacity","sums","localY","iter","hasOwnProperty","itemPaths","positionLast","positionStart","positionEnd","_index","allowPointValue","calcLine","drawPointValue","canvasArcs","isTypeAnimating","calcArc","alloShowInfo","cHeight","pos","withLines","canvasObjects","deltaY","yLabelStep","yLabelHeightStep","yLabelValueStep","dir","zoomFrom","zoomFactor","zoomTo","transformY","valueStep","percentage","createYLabels","createPercentYLabels","time2","fps","arcMouseMove","yLabesCanvasObjects","getYLabels","graphParams","datasetBeforeLines","drawGraphs","cnvsObj","datasetAfterLines","additionalAfterLines","allowXAsix","labelX","setProps","hoverId","calcDraw","item_id","debug","drawDebugInfo","drawFpsInfo","drawShowInfo","drawSelectArc","find","_i","showSelectArc","innerHTML","label","showArcX","showArcY","clientHeight","clientWidth","stacked","zoomType","offsetScroll","unixTimestamp","date","month","getMonth","weekDay","getDay","day","getDate","hours","getHours","minutes","getMinutes","values","_s","circle","showInfoX","rows","classesRoot","canvas__show_info__row__item","canvas__show_info__row__item_with_percent","children","canvas__show_info__row__item__percent","canvas__show_info__row__item__name","canvas__show_info__row__item__value","canvas__show_info__title__value","canvas__show_info__title__zoom","canvas__show_info__title__zoom__icon","ArrowIcon","canvas__show_info__wrapper","canvas__show_info__title","canvas__show_info__rows","dateFormat","performance","begin","types","indexOf","prevMin","prevMax","minYRange","maxYRange","animateYLinesDir","animHeight","animationStep","minR","maxR","_minY","_maxY","rangeMinProgress","rangeMaxXProgress","newMinY","newMaxY","reverseProgress","animYlines","fromValue","toValue","prevHeight","currentHeight","ranges","minValue","maxValue","getLabelText","onZoom","onMouseDown","eventClickShowInfo","canvas__show_select_arc","events","onTouchMove","eventTouchMove","onMouseMove","eventMouseMove","onMouseLeave","eventMouseLeave","onMouseEnter","eventMouseEnter","onTouchStart","eventMouseDown","renderDom","handleCreateLabelX","LineSwitcher","attachEvents","fadeIn","handleReRender","handleApplayVisibled","touching","timeoutId","long","switcher","_switcher","line__switchers__item","line__switchers__item__touching","isThisOnlyVisible","onSwitch","line__switchers__item_shake","preventDefault","stopPropagation","onSelectOne","longTouchingTimeout","visible","querySelector","line__switchers__item__label","getColor","toggle","line__switchers__item_active","line__switchers__item_fadein","createItems","handleMouseDown","line__switchers","line__switchers__item__check","line__switchers__item__check__icon","CheckedIcon","line__switchers__item__tap_indicator","DataChart","json","Error","column","columns","names","lineIds","lineId","getLine","y_scaled","MiniMap","isChangePosition","changePositionEvent","clickPosition","dinst","diffScroll","newScroll","handleChange","isChangeSize","changeSizeEvent","side","percentDinst","newWidth","minimapZone","minimapLeftZone","minimapRightZone","minimapLeftSizeZone","minimapRightSizeZone","documentEventMouseMove","grid","onChange","minimap__left_zone","minimap__left_size_zone","minimap__size_zone__helper","eventLeftZoneMouseDown","minimap__size_zone__helper__line","minimap__zone","eventZoneMouseDown","minimap__right_size_zone","eventRightZoneMouseDown","minimap__right_zone","minimap","canvasWrapper","minimap__canvas_wrapper","charts__minimap_wrapper","DatesRange","date_from","date_to","applyTimestamp","appearDatesRange","prevFrom","prevTo","applyDateItem","isSameDay","isDateItemShown","hideDateItem","year","getFullYear","parseTimestamp","yearNode","dates_range__item__year","monthNode","dates_range__item__month","dayNode","dates_range__item__day","itemNode","dates_range__item","nodes","createDateItem","appearDateItem","updateDateItem","showDateItem","dates_range","ChartItem","miniMap","fontSize","loading","applyColorMode","lineSwitcher","title","updateTitle","getElementClassNames","App","calcLimitOffset","datesRange","mode_night","onChangeOffsets","classNames","charts","changeMiniMap","onSwitchVisible","onSelectOneVisible","chart_title","zoomOut","charts__zoom_out","charts__zoom_out__icon","ZoomIcon","charts__zoom_out__text","onClick","onZoomOut","chartsHeader","charts__header","footer","charts__footer","getZoomedDataUrl","getCurrentData","offsetBefore","offsetAfter","dataUrl","loadData","dataChart","getCharts","getXAsix","setCurrentData","_lineId","prepareOwnElement","innerWidth","handleLoadDataCharts","setInterval","newHeight","tt","chart","onresize","updateFontSize","app","dataJson","JSON","parse","IsYScaled","IsStacked","IsPercentage","setDataChart","handleSwitchDataSet","handleSelectOneVisibleDataSet","handleUpdateMiniMap","handleZoomOut","ColorSwitcher","colorSwitcherItem","onToggle","color__switcher__item","handleToggle","color__switcher","folder","year_month","location","pathname","app0","getElementById","app1","app2","app3","app4","colorSwitcher"],"mappings":"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;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrtBA,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEnW;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;AChBA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iC;;;;;;ACTA;AACA;AACA;;AAEA,iC;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;AC1BA;AACA;AACA;;AAEA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA,IAAMG,GAAG,GAAG,SAANA,GAAM,CAACC,GAAD,EAAsB;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;AAC9B,MAAMC,IAAI,GAAGC,QAAQ,CAACC,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","file":"js/main.985a46d4f5dc10f3c590.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas_wrapper\":\"canvas_wrapper\",\"canvasWrapper\":\"canvas_wrapper\",\"canvas__show_info\":\"canvas__show_info\",\"canvasShowInfo\":\"canvas__show_info\",\"canvas__show_info__wrapper\":\"canvas__show_info__wrapper\",\"canvasShowInfoWrapper\":\"canvas__show_info__wrapper\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"canvas__show_info__title\":\"canvas__show_info__title\",\"canvasShowInfoTitle\":\"canvas__show_info__title\",\"canvas__show_info__title__value\":\"canvas__show_info__title__value\",\"canvasShowInfoTitleValue\":\"canvas__show_info__title__value\",\"canvas__show_info__title__zoom\":\"canvas__show_info__title__zoom\",\"canvasShowInfoTitleZoom\":\"canvas__show_info__title__zoom\",\"canvas__show_info__title__zoom__icon\":\"canvas__show_info__title__zoom__icon\",\"canvasShowInfoTitleZoomIcon\":\"canvas__show_info__title__zoom__icon\",\"canvas__show_info__rows\":\"canvas__show_info__rows\",\"canvasShowInfoRows\":\"canvas__show_info__rows\",\"canvas__show_info__row__item\":\"canvas__show_info__row__item\",\"canvasShowInfoRowItem\":\"canvas__show_info__row__item\",\"canvas__show_info__row__item__percent\":\"canvas__show_info__row__item__percent\",\"canvasShowInfoRowItemPercent\":\"canvas__show_info__row__item__percent\",\"canvas__show_info__row__item__name\":\"canvas__show_info__row__item__name\",\"canvasShowInfoRowItemName\":\"canvas__show_info__row__item__name\",\"canvas__show_info__row__item__value\":\"canvas__show_info__row__item__value\",\"canvasShowInfoRowItemValue\":\"canvas__show_info__row__item__value\",\"canvas__show_info__row__item_with_percent\":\"canvas__show_info__row__item_with_percent\",\"canvasShowInfoRowItemWithPercent\":\"canvas__show_info__row__item_with_percent\",\"canvas_wrapper__x_labels_wrapper\":\"canvas_wrapper__x_labels_wrapper\",\"canvasWrapperXLabelsWrapper\":\"canvas_wrapper__x_labels_wrapper\",\"charts\":\"charts\",\"charts__zoom_byDay\":\"charts__zoom_byDay\",\"chartsZoomByDay\":\"charts__zoom_byDay\",\"charts__zoomed\":\"charts__zoomed\",\"chartsZoomed\":\"charts__zoomed\",\"charts__stacked\":\"charts__stacked\",\"chartsStacked\":\"charts__stacked\",\"charts__percentage\":\"charts__percentage\",\"chartsPercentage\":\"charts__percentage\",\"canvas_wrapper__x_labels_wrapper__item\":\"canvas_wrapper__x_labels_wrapper__item\",\"canvasWrapperXLabelsWrapperItem\":\"canvas_wrapper__x_labels_wrapper__item\",\"canvas__show_select_arc\":\"canvas__show_select_arc\",\"canvasShowSelectArc\":\"canvas__show_select_arc\",\"label\":\"label\",\"value\":\"value\"};","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line__switchers\":\"line__switchers\",\"lineSwitchers\":\"line__switchers\",\"line__switchers__item\":\"line__switchers__item\",\"lineSwitchersItem\":\"line__switchers__item\",\"line__switchers__item_active\":\"line__switchers__item_active\",\"lineSwitchersItemActive\":\"line__switchers__item_active\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"line__switchers__item__check\":\"line__switchers__item__check\",\"lineSwitchersItemCheck\":\"line__switchers__item__check\",\"line__switchers__item__check__circle_blank\":\"line__switchers__item__check__circle_blank\",\"lineSwitchersItemCheckCircleBlank\":\"line__switchers__item__check__circle_blank\",\"line__switchers__item__check__icon\":\"line__switchers__item__check__icon\",\"lineSwitchersItemCheckIcon\":\"line__switchers__item__check__icon\",\"line__switchers__item__label\":\"line__switchers__item__label\",\"lineSwitchersItemLabel\":\"line__switchers__item__label\",\"line__switchers__item__tap_indicator\":\"line__switchers__item__tap_indicator\",\"lineSwitchersItemTapIndicator\":\"line__switchers__item__tap_indicator\",\"line__switchers__item__touching\":\"line__switchers__item__touching\",\"lineSwitchersItemTouching\":\"line__switchers__item__touching\",\"charts\":\"charts\",\"charts__zoom_by3Days\":\"charts__zoom_by3Days\",\"chartsZoomBy3Days\":\"charts__zoom_by3Days\",\"line__switchers__item_fadein\":\"line__switchers__item_fadein\",\"lineSwitchersItemFadein\":\"line__switchers__item_fadein\",\"line__switchers__item_shake\":\"line__switchers__item_shake\",\"lineSwitchersItemShake\":\"line__switchers__item_shake\",\"shake\":\"shake\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"charts\":\"charts\",\"charts__header\":\"charts__header\",\"chartsHeader\":\"charts__header\",\"charts__footer\":\"charts__footer\",\"chartsFooter\":\"charts__footer\",\"chart_title\":\"chart_title\",\"chartTitle\":\"chart_title\",\"charts__zoomed\":\"charts__zoomed\",\"chartsZoomed\":\"charts__zoomed\",\"charts__title_wrapper\":\"charts__title_wrapper\",\"chartsTitleWrapper\":\"charts__title_wrapper\",\"charts__zoom_out\":\"charts__zoom_out\",\"chartsZoomOut\":\"charts__zoom_out\",\"charts__zoom_out__icon\":\"charts__zoom_out__icon\",\"chartsZoomOutIcon\":\"charts__zoom_out__icon\",\"charts__zoom_out__text\":\"charts__zoom_out__text\",\"chartsZoomOutText\":\"charts__zoom_out__text\",\"charts__dates\":\"charts__dates\",\"chartsDates\":\"charts__dates\"};","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"charts__minimap_wrapper\":\"charts__minimap_wrapper\",\"chartsMinimapWrapper\":\"charts__minimap_wrapper\",\"charts\":\"charts\",\"charts__zoom_by3Days\":\"charts__zoom_by3Days\",\"chartsZoomBy3Days\":\"charts__zoom_by3Days\",\"charts__zoomed\":\"charts__zoomed\",\"chartsZoomed\":\"charts__zoomed\",\"minimap__canvas_wrapper\":\"minimap__canvas_wrapper\",\"minimapCanvasWrapper\":\"minimap__canvas_wrapper\",\"minimap\":\"minimap\",\"minimap__zone\":\"minimap__zone\",\"minimapZone\":\"minimap__zone\",\"minimap__left_zone\":\"minimap__left_zone\",\"minimapLeftZone\":\"minimap__left_zone\",\"minimap__right_zone\":\"minimap__right_zone\",\"minimapRightZone\":\"minimap__right_zone\",\"minimap__left_size_zone\":\"minimap__left_size_zone\",\"minimapLeftSizeZone\":\"minimap__left_size_zone\",\"minimap__right_size_zone\":\"minimap__right_size_zone\",\"minimapRightSizeZone\":\"minimap__right_size_zone\",\"charts__zoom_byDay\":\"charts__zoom_byDay\",\"chartsZoomByDay\":\"charts__zoom_byDay\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"minimap__size_zone__helper\":\"minimap__size_zone__helper\",\"minimapSizeZoneHelper\":\"minimap__size_zone__helper\",\"minimap__size_zone__helper__line\":\"minimap__size_zone__helper__line\",\"minimapSizeZoneHelperLine\":\"minimap__size_zone__helper__line\",\"app4\":\"app4\",\"app\":\"app\"};","module.exports = require(\"regenerator-runtime\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dates_range\":\"dates_range\",\"datesRange\":\"dates_range\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"dates_range__item\":\"dates_range__item\",\"datesRangeItem\":\"dates_range__item\",\"dates_range__item__year\":\"dates_range__item__year\",\"datesRangeItemYear\":\"dates_range__item__year\",\"dates_range__item__month\":\"dates_range__item__month\",\"datesRangeItemMonth\":\"dates_range__item__month\",\"dates_range__item__day\":\"dates_range__item__day\",\"datesRangeItemDay\":\"dates_range__item__day\"};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"color__switcher\":\"color__switcher\",\"colorSwitcher\":\"color__switcher\",\"mode_night\":\"mode_night\",\"modeNight\":\"mode_night\",\"color__switcher__item\":\"color__switcher__item\",\"colorSwitcherItem\":\"color__switcher__item\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas_wrapper__bar_chart\":\"canvas_wrapper__bar_chart\",\"canvasWrapperBarChart\":\"canvas_wrapper__bar_chart\",\"canvas_wrapper__bar_chart__item\":\"canvas_wrapper__bar_chart__item\",\"canvasWrapperBarChartItem\":\"canvas_wrapper__bar_chart__item\"};","module.exports = __webpack_public_path__ + \"images/arrow.9220a51ecfe052627bcc2a438c5ace20.svg\";","module.exports = __webpack_public_path__ + \"images/checked.6b30107b9c292969a9c2074da8faa30c.svg\";","module.exports = __webpack_public_path__ + \"images/zoom.6cdc909770f6bbc93b79d0acf7ec0e17.svg\";","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chromeframe\":\"chromeframe\"};","// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n\r\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\r\n\r\n// MIT license\r\n\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\r\n            || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function () { callback(currTime + timeToCall); },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","const cre = (tag, params = {}) => {\r\n    const node = document.createElement(tag)\r\n\r\n    const paramKeys = Object.keys(params)\r\n\r\n    for (let i = 0; i < paramKeys.length; i += 1) {\r\n        const name = paramKeys[i]\r\n        const value = params[name]\r\n\r\n        if (name === \"className\") {\r\n            if (value && value.constructor === Array) {\r\n                value.forEach(className => className && node.classList.add(className))\r\n            } else {\r\n                node.classList.add(value)\r\n            }\r\n        } else if (name === \"style\") {\r\n            node.setAttribute(\"style\", value)\r\n        } else if (name.substr(0, 2) === \"on\") {\r\n            // node[name.toLocaleLowerCase()] = value\r\n            node.addEventListener(name.substr(2).toLocaleLowerCase(), value)\r\n        } else if (name === \"children\") {\r\n            if (value.constructor === Array) {\r\n                for (let index = 0; index < value.length; index += 1) {\r\n                    node.appendChild(value[index])\r\n                }\r\n            } else {\r\n                node.appendChild(value)\r\n            }\r\n        } else if (name === \"text\") {\r\n            node.innerText = value\r\n        } else if (name === \"data\") {\r\n            const paramNames = Object.keys(value)\r\n\r\n            paramNames.forEach(paramName => {\r\n                node.dataset[paramName] = value[paramName]\r\n            })\r\n        } else {\r\n            node.setAttribute(name, value)\r\n        }\r\n    }\r\n\r\n    return node\r\n}\r\n\r\nclass Component {\r\n    static defaultProps = {}\r\n\r\n    state = {}\r\n\r\n    props = {}\r\n\r\n    node = null\r\n\r\n    constructor(props = {}) {\r\n        this.props = {\r\n            ...this.constructor.defaultProps,\r\n            ...props,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        return null\r\n    }\r\n\r\n    setState = (params, callback = false) => {\r\n        const prevState = { ...this.state }\r\n\r\n        this.state = {\r\n            ...this.state,\r\n            ...params,\r\n        }\r\n\r\n        this.componentDidUpdate(this.props, prevState, \"state\")\r\n\r\n        if (callback) {\r\n            callback()\r\n        }\r\n    }\r\n\r\n    setProps(params) {\r\n        const prevProps = { ...this.props }\r\n\r\n        this.props = {\r\n            ...this.props,\r\n            ...params,\r\n        }\r\n\r\n        this.componentDidUpdate(prevProps, this.state, \"props\")\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        return null\r\n    }\r\n\r\n    componentWillUnmount() {\r\n    }\r\n\r\n    destroy() {\r\n        this.componentWillUnmount()\r\n\r\n        this.ownElement.removeChild(this.node)\r\n    }\r\n\r\n    render() {\r\n        return document.createElement(\"div\")\r\n    }\r\n\r\n    renderDom(element) {\r\n        this.node = this.render()\r\n\r\n        this.ownElement = element\r\n\r\n        element.appendChild(this.node)\r\n\r\n        this.componentDidMount()\r\n    }\r\n}\r\n\r\nexport { cre }\r\n\r\nexport default Component\r\n","export const arrLimit = (arr, limit = 0) => (limit > 0 ? arr.slice(0, limit - 1) : arr)\r\nexport const arrOffset = (arr, offset = 0) => (offset > 0 ? arr.slice(offset) : arr)\r\n\r\nexport const throttle = (func, ms, firstSkip = false) => {\r\n    let isThrottled = firstSkip\r\n    let savedArgs\r\n    let savedThis\r\n    let firstStart = false\r\n\r\n    function wrapper(...args) {\r\n        if (!firstStart) {\r\n            if (firstSkip) {\r\n                setTimeout(() => {\r\n                    isThrottled = false\r\n\r\n                    if (savedArgs) {\r\n                        wrapper.apply(savedThis, savedArgs)\r\n\r\n                        savedArgs = null\r\n                        savedThis = null\r\n                    }\r\n                }, ms)\r\n            }\r\n\r\n            firstStart = true\r\n        }\r\n\r\n        if (isThrottled) {\r\n            savedArgs = args\r\n            savedThis = this\r\n            return\r\n        }\r\n\r\n        func.apply(this, args)\r\n\r\n        isThrottled = true\r\n\r\n        setTimeout(() => {\r\n            isThrottled = false\r\n\r\n            if (savedArgs) {\r\n                wrapper.apply(savedThis, savedArgs)\r\n\r\n                savedArgs = null\r\n                savedThis = null\r\n            }\r\n        }, ms)\r\n    }\r\n\r\n    return wrapper\r\n}\r\n\r\nexport const getAnimProgress = (startAt, duration, time = false) => {\r\n    if (!time) time = Date.now() \r\n    \r\n    let timePassed = time - startAt\r\n    \r\n    let progress = timePassed / duration\r\n\r\n    if (progress < 0) progress = 0\r\n    if (progress > 1) progress = 1\r\n\r\n    return progress\r\n}\r\n\r\nexport const animateEase = (progress) => -progress * (progress - 2)\r\n\r\nexport const animate = (draw, duration, endCallback, startCallback) => {\r\n    let stared = false\r\n\r\n    const start = Date.now()\r\n    let stopKey = false\r\n\r\n    const stop = () => {\r\n        stopKey = true\r\n    }\r\n\r\n    const stepAnimate = () => {\r\n        if (!stared) {\r\n            stared = true\r\n\r\n            if (startCallback) {\r\n                startCallback()\r\n            }\r\n        }\r\n\r\n        if (!stopKey) {\r\n            const progress = getAnimProgress(start, duration)\r\n\r\n            draw(progress * 100)\r\n\r\n            if (progress < 1) {\r\n                requestAnimationFrame(stepAnimate)\r\n            } else {\r\n                stop()\r\n\r\n                if (endCallback) {\r\n                    endCallback()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    requestAnimationFrame(stepAnimate)\r\n\r\n    return {\r\n        stop,\r\n    }\r\n}\r\n\r\nexport const calculateOffsets = (el) => {\r\n    if (!el) {\r\n        return {\r\n            top: 0,\r\n            left: 0,\r\n        }\r\n    }\r\n\r\n    const parentOffsets = calculateOffsets(el.offsetParent)\r\n\r\n    return {\r\n        top: el.offsetTop + parentOffsets.top,\r\n        left: el.offsetLeft + parentOffsets.left,\r\n    }\r\n}\r\n\r\nexport const getClickPosition = (e, node = false) => {\r\n    let postion = false\r\n\r\n    if (e.touches && e.touches.length > 0) {\r\n        postion = {\r\n            x: e.touches[0].pageX,\r\n            y: e.touches[0].pageY,\r\n        }\r\n    } else {\r\n        postion = {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        }\r\n    }\r\n\r\n    if (node) {\r\n\r\n        const offsets = calculateOffsets(node)\r\n\r\n        postion.x -= offsets.left\r\n        postion.y -= offsets.top\r\n    }\r\n\r\n    return postion\r\n}\r\n\r\nexport const debounce = (f, ms) => {\r\n\r\n    let timer = null;\r\n\r\n    return function (...args) {\r\n        const onComplete = () => {\r\n            f.apply(this, args);\r\n            timer = null;\r\n        }\r\n\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n\r\n        timer = setTimeout(onComplete, ms);\r\n    };\r\n}\r\n\r\nexport const abbreviateNumber = (value, from = 1000) => {\r\n    const direction = value >= 0 ? 1 : -1\r\n\r\n    value = Math.abs(value)\r\n\r\n    let newValue = value\r\n\r\n    if (value >= from) {\r\n        const suffixes = [\"\", \"k\", \"m\", \"b\", \"t\"]\r\n        const suffixNum = Math.floor((\"\" + value).length / 3)\r\n\r\n        let shortValue = ''\r\n\r\n        for (var precision = 2; precision >= 1; precision =-1 ) {\r\n            shortValue = parseFloat(\r\n                (suffixNum != 0 ? (value / Math.pow(1000, suffixNum)) : value).toPrecision(precision)\r\n            )\r\n\r\n            var dotLessShortValue = (shortValue + '').replace(/[^a-zA-Z 0-9]+/g, '')\r\n\r\n            if (dotLessShortValue.length <= 2) {\r\n                break\r\n            }\r\n        }\r\n\r\n        if (shortValue % 1 != 0) shortValue = shortValue.toFixed(1)\r\n\r\n        newValue = shortValue + suffixes[suffixNum]\r\n    }\r\n\r\n    if (direction === -1) {\r\n        return `-${newValue}`\r\n    }\r\n\r\n    return newValue\r\n}\r\n\r\nconst formatMoney = (n, c, d, t) => {\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c\r\n    d = d == undefined ? \".\" : d\r\n    t = t == undefined ? \",\" : t\r\n\r\n    var s = n < 0 ? \"-\" : \"\",\r\n        i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n        j = (j = i.length) > 3 ? j % 3 : 0;\r\n    return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n}\r\n\r\nexport const numberFormat = value => `${formatMoney(parseFloat(value), 0, '.', ' ')}`.replace('.00', '')\r\n\r\nexport const loadFile = (url) => new Promise(ok => {\r\n    // read text from URL location\r\n    var request = new XMLHttpRequest()\r\n    request.open('GET', url, true)\r\n    request.send(null)\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            var type = request.getResponseHeader('Content-Type')\r\n            \r\n            ok(request.responseText, type, request)\r\n        }\r\n    }\r\n})","/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * @param   Number  r       The red color value\r\n * @param   Number  g       The green color value\r\n * @param   Number  b       The blue color value\r\n * @return  Array           The HSL representation\r\n */\r\nexport const rgbToHsl = (r, g, b) => {\r\n    r /= 255, g /= 255, b /= 255;\r\n\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n    var h, s, l = (max + min) / 2;\r\n\r\n    if (max == min) {\r\n        h = s = 0; // achromatic\r\n    } else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\r\n        switch (max) {\r\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n            case g: h = (b - r) / d + 2; break;\r\n            case b: h = (r - g) / d + 4; break;\r\n        }\r\n\r\n        h /= 6;\r\n    }\r\n\r\n    return [h, s, l];\r\n}\r\n\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * @param   Number  h       The hue\r\n * @param   Number  s       The saturation\r\n * @param   Number  l       The lightness\r\n * @return  Array           The RGB representation\r\n */\r\nfunction hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n}\r\n\r\nexport const hslToRgb = (h, s, l) => {\r\n    var r, g, b;\r\n\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    } else {\r\n\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r * 255, g * 255, b * 255];\r\n}\r\n\r\n/**\r\n * Converts an RGB color value to HSV. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and v in the set [0, 1].\r\n *\r\n * @param   Number  r       The red color value\r\n * @param   Number  g       The green color value\r\n * @param   Number  b       The blue color value\r\n * @return  Array           The HSV representation\r\n */\r\nexport const rgbToHsv = (r, g, b) => {\r\n    r /= 255, g /= 255, b /= 255;\r\n\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n    var h, s, v = max;\r\n\r\n    var d = max - min;\r\n    s = max == 0 ? 0 : d / max;\r\n\r\n    if (max == min) {\r\n        h = 0; // achromatic\r\n    } else {\r\n        switch (max) {\r\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n            case g: h = (b - r) / d + 2; break;\r\n            case b: h = (r - g) / d + 4; break;\r\n        }\r\n\r\n        h /= 6;\r\n    }\r\n\r\n    return [h, s, v];\r\n}\r\n\r\n/**\r\n * Converts an HSV color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n * Assumes h, s, and v are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * @param   Number  h       The hue\r\n * @param   Number  s       The saturation\r\n * @param   Number  v       The value\r\n * @return  Array           The RGB representation\r\n */\r\nexport const hsvToRgb = (h, s, v) => {\r\n    var r, g, b;\r\n\r\n    var i = Math.floor(h * 6);\r\n    var f = h * 6 - i;\r\n    var p = v * (1 - s);\r\n    var q = v * (1 - f * s);\r\n    var t = v * (1 - (1 - f) * s);\r\n\r\n    switch (i % 6) {\r\n        case 0: r = v, g = t, b = p; break;\r\n        case 1: r = q, g = v, b = p; break;\r\n        case 2: r = p, g = v, b = t; break;\r\n        case 3: r = p, g = q, b = v; break;\r\n        case 4: r = t, g = p, b = v; break;\r\n        case 5: r = v, g = p, b = q; break;\r\n    }\r\n\r\n    return [r * 255, g * 255, b * 255];\r\n}\r\n\r\nexport const componentToHex = (c) => {\r\n    var hex = c.toString(16);\r\n    return hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\n\r\nexport const rgbToHex = (r, g, b) => {\r\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport const hexToRgb = (hex) => {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n    } : null;\r\n}","import { hexToRgb } from 'helpers/Colors'\r\n\r\nclass CanvasText {\r\n    constructor(text, params = {}) {\r\n        this.text = text\r\n        this.params = params\r\n    }\r\n}\r\n\r\nclass CanvasLine {\r\n    constructor(from, to, params = {}) {\r\n        this.from = from\r\n        this.to = to\r\n        this.params = params\r\n    }\r\n}\r\n\r\nclass CanvasRect {\r\n    constructor(x, y, params = {}) {\r\n        this.x = x\r\n        this.y = y\r\n        this.params = params\r\n    }\r\n}\r\n\r\nclass CanvasPath {\r\n    constructor(params = {}) {\r\n        this.paths = []\r\n        this.isFill = false\r\n        this.isStroke = false\r\n        this.params = params\r\n    }\r\n\r\n    lineTo(x, y) {\r\n        this.paths.push([ \"lineTo\", x, y ])\r\n    }\r\n\r\n    moveTo(x, y) {\r\n        this.paths.push([\"moveTo\", x, y])\r\n    }\r\n\r\n    fill() {\r\n        this.isFill = true\r\n    }\r\n\r\n    stroke() {\r\n        this.isStroke = true\r\n    }\r\n}\r\n\r\nclass CanvasArc {\r\n    constructor(x, y, r, startAngle, endAngle, params = {}) {\r\n        this.x = x\r\n        this.y = y\r\n        this.r = r\r\n        this.startAngle = startAngle\r\n        this.endAngle = endAngle\r\n        this.params = params\r\n    }\r\n}\r\n\r\nclass Canvas {\r\n    static getRetinaRatio() {\r\n        const devicePixelRatio = window.devicePixelRatio || 1\r\n        const c = document.createElement('canvas').getContext('2d')\r\n        const backingStoreRatio = [\r\n            c.webkitBackingStorePixelRatio,\r\n            c.mozBackingStorePixelRatio,\r\n            c.msBackingStorePixelRatio,\r\n            c.oBackingStorePixelRatio,\r\n            c.backingStorePixelRatio,\r\n            1,\r\n        ].reduce((a, b) => a || b)\r\n\r\n        return devicePixelRatio / backingStoreRatio\r\n    }\r\n\r\n    constructor(element, props) {\r\n        this.element = element\r\n        this.props = props\r\n\r\n        this.dpr = Canvas.getRetinaRatio() // window.devicePixelRatio || 1\r\n\r\n        this.resize(props.width, props.height)\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.props.width = width\r\n        this.props.height = height\r\n\r\n        this.ctx = this.element.getContext('2d')\r\n\r\n        this.dpr = Canvas.getRetinaRatio()\r\n\r\n        this.ctx.scale(this.dpr, this.dpr)\r\n\r\n        this.element.style.width = `${width}px`\r\n        this.element.style.height = `${height}px`\r\n\r\n        this.element.setAttribute(\"width\", width * this.dpr)\r\n        this.element.setAttribute(\"height\", height * this.dpr)\r\n    }\r\n\r\n    clear() {\r\n        const { width = 0, height = 0 } = this.props\r\n\r\n        this.ctx.clearRect(0, 0, width * this.dpr, height * this.dpr)\r\n    }\r\n\r\n    text(text, { x, y, size = 12, align = \"center\", font = \"serif\", color = \"#000000\", opacity = 1 }) {\r\n        if (opacity < 1) {\r\n            const rgb = hexToRgb(color)\r\n\r\n            if (rgb !== null) {\r\n                color = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\r\n            }\r\n        }\r\n\r\n        this.ctx.font = `${Math.floor(size * this.dpr)}px ${font}`\r\n        this.ctx.textAlign = align\r\n        this.ctx.fillStyle = color\r\n        this.ctx.fillText(text, x * this.dpr, y * this.dpr)\r\n    }\r\n\r\n    line(from, to, { color = \"#000000\", lineWidth = 2, opacity = 1 }) {\r\n        if (opacity < 1) {\r\n            const rgb = hexToRgb(color)\r\n\r\n            if (rgb !== null) {\r\n                color = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\r\n            }\r\n        }\r\n\r\n        this.ctx.beginPath()\r\n        this.ctx.strokeStyle = color\r\n        this.ctx.lineWidth = lineWidth * this.dpr\r\n        this.ctx.moveTo(from.x * this.dpr, from.y * this.dpr)\r\n        this.ctx.lineTo(to.x * this.dpr, to.y * this.dpr)\r\n        this.ctx.stroke()\r\n    }\r\n\r\n    rect(x, y, { width = 10, height = 10, color = \"black\", fill = false }) {\r\n        this.ctx.strokeStyle = color\r\n        this.ctx.fillStyle = color\r\n\r\n        if (fill)\r\n            this.ctx.fillRect(\r\n                x * this.dpr,\r\n                y * this.dpr,\r\n                width * this.dpr,\r\n                height * this.dpr,\r\n            )\r\n\r\n        if (!fill)\r\n            this.ctx.strokeRect(\r\n                x * this.dpr,\r\n                y * this.dpr,\r\n                width * this.dpr,\r\n                height * this.dpr,\r\n            )\r\n    }\r\n\r\n    arc(x, y, r, startAngle, endAngle, params) {\r\n        let { id, color = \"#0000\", opacity = 1, mouseX = 0, mouseY = 0, mouseMove = false } = params\r\n\r\n        if (opacity < 1) {\r\n            const rgb = hexToRgb(color)\r\n\r\n            if (rgb !== null) {\r\n                color = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\r\n            }\r\n        }\r\n\r\n        this.ctx.beginPath()\r\n\r\n        this.ctx.moveTo(x * this.dpr, y * this.dpr)\r\n        this.ctx.arc(x * this.dpr, y * this.dpr, r * this.dpr, startAngle, endAngle)\r\n\r\n        this.ctx.fillStyle = color\r\n\r\n        if (mouseMove) {\r\n            const isIntersect = this.ctx.isPointInPath(mouseX * this.dpr, mouseY * this.dpr)\r\n\r\n            if (isIntersect) {\r\n                mouseMove(id)\r\n            }\r\n        }\r\n\r\n        this.ctx.closePath()\r\n\r\n        this.ctx.fill()\r\n    }\r\n\r\n    circle(x, y, r, { color = \"black\", strokColor = false, lineWidth = 1 }) {\r\n        this.ctx.beginPath()\r\n\r\n        this.ctx.arc(x * this.dpr, y * this.dpr, r * this.dpr, 0, Math.PI * 2, true)\r\n\r\n        if (strokColor) {\r\n            this.ctx.strokeStyle = strokColor\r\n            this.ctx.lineWidth = lineWidth * this.dpr\r\n            this.ctx.stroke()\r\n        }\r\n\r\n        if (color) {\r\n            this.ctx.fillStyle = color\r\n            this.ctx.fill()\r\n        }\r\n    }\r\n\r\n    beginPath({ opacity = 1, color, lineWidth }) {\r\n        this.ctx.beginPath()\r\n\r\n        this.ctx.lineJoin = 'bevel'\r\n        this.ctx.lineCap = 'butt'\r\n\r\n        if (opacity < 1) {\r\n            const rgb = hexToRgb(color)\r\n\r\n            if (rgb !== null) {\r\n                color = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\r\n            }\r\n        }\r\n\r\n        return {\r\n            moveTo: (x, y) => {\r\n                this.ctx.moveTo(x * this.dpr, y * this.dpr)\r\n            },\r\n            lineTo: (x, y) => {\r\n                this.ctx.lineTo(x * this.dpr, y * this.dpr)\r\n            },\r\n            stroke: () => {\r\n                this.ctx.strokeStyle = color\r\n                this.ctx.lineWidth = lineWidth * this.dpr\r\n\r\n                this.ctx.stroke()\r\n            },\r\n            fill: () => {\r\n                this.ctx.fillStyle = color\r\n                this.ctx.lineWidth = lineWidth * this.dpr\r\n\r\n                this.ctx.fill()\r\n            },\r\n        }\r\n    }\r\n\r\n    draw(item) {\r\n        if (item instanceof CanvasText) this.text(item.text, item.params)\r\n        if (item instanceof CanvasLine) this.line(item.from, item.to, item.params)\r\n        if (item instanceof CanvasRect) this.rect(item.x, item.y, item.params)\r\n        if (item instanceof CanvasArc) this.arc(item.x, item.y, item.r, item.startAngle, item.endAngle, item.params)\r\n        if (item instanceof CanvasPath) {\r\n            const path = this.beginPath(item.params)\r\n\r\n            for (let index = 0; index < item.paths.length; index++) {\r\n                const [ type, x, y ] = item.paths[index]\r\n\r\n                if (type === \"moveTo\") path.moveTo(x, y)\r\n                if (type === \"lineTo\") path.lineTo(x, y)\r\n            }\r\n\r\n            if (item.isFill) path.fill()\r\n            if (item.isStroke) path.stroke()\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    CanvasText,\r\n    CanvasLine,\r\n    CanvasRect,\r\n    CanvasPath,\r\n    CanvasArc,\r\n}\r\n\r\nexport default Canvas\r\n","export const MAP_MONTHS = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n]\r\n\r\nexport const MAP_WEEK_DAYS = [\r\n    \"Mon\",\r\n    \"Tue\",\r\n    \"Wed\",\r\n    \"Thu\",\r\n    \"Fri\",\r\n    \"Sat\",\r\n    \"Sun\",\r\n]","export const MODE_COLOR_DAY = \"day\"\r\nexport const MODE_COLOR_NIGHT = \"night\"\r\n\r\nexport const MAP_MODE_COLOR_TO_TEXT = {\r\n    [MODE_COLOR_DAY]: \"Switch to Night Mode\",\r\n    [MODE_COLOR_NIGHT]: \"Switch to Day Mode\",\r\n}\r\n\r\nexport const MAP_MODE_COLOR_TO_CHART_COLORS = {\r\n    [MODE_COLOR_DAY]: {\r\n        background: \"#fff\",\r\n        text: \"#585859\",\r\n        lines: \"#182D3B\",\r\n        lastLine: \"#182D3B\",\r\n        activeLine: \"#D2D5D7\",\r\n        textOpacity: 0.7,\r\n        lineOpacity: 0.1,\r\n        activeLineOpacity: 1,\r\n    },\r\n    [MODE_COLOR_NIGHT]: {\r\n        background: \"#242F3E\",\r\n        text: \"#D5E3F2\",\r\n        lines: \"#FFFFFF\",\r\n        lastLine: \"#FFFFFF\",\r\n        activeLine: \"#D2D5D7\",\r\n        textOpacity: 0.7,\r\n        lineOpacity: 0.1,\r\n        activeLineOpacity: 0.1,\r\n    },\r\n}","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./style.css\"\r\nimport { animate } from \"helpers/utils\";\r\n\r\nclass LabelsX extends BaseComponent {\r\n    static defaultProps = {\r\n        width: 0,\r\n        labels: [],\r\n        scroll: 0,\r\n        layout: { width: 0, height: 0 },\r\n        graphLayout: { labelsXWidth: 0 },\r\n        // colors: {},\r\n        getLabel: val => val,\r\n    }\r\n\r\n    domLabels = {}\r\n\r\n    drawXLabels(changeViewWidth = false) {\r\n        const {\r\n            labels = [],\r\n            getLabel,\r\n            opacity = 1,\r\n        } = this.props\r\n\r\n        if (labels.length > 0) {\r\n            const { positions, intervalFactor, removed } = this.calcXLabels()\r\n    \r\n            const indexes = Object.keys(positions)\r\n            const existIndexes = Object.keys(this.domLabels)\r\n    \r\n            for (let i = 0; i < existIndexes.length; i += 1) {\r\n                const index = +existIndexes[i]\r\n                const dom = this.domLabels[index]\r\n    \r\n                if (\r\n                    // !indexes.includes(index) ||\r\n                    index % intervalFactor !== 0\r\n                ) {\r\n                    dom.style.opacity = 0\r\n    \r\n                    animate(\r\n                        () => {\r\n                            const scaleFactor = 100 / this.props.width\r\n                            const scrollFromLeft = (this.props.scroll - this.props.width) / 100\r\n    \r\n                            const x =\r\n                                this.props.layout.width *\r\n                                (index / (labels.length - 1) - scrollFromLeft) *\r\n                                scaleFactor\r\n    \r\n                            dom.style.left = `${x}px`\r\n                        },\r\n                        200,\r\n                        () => {\r\n                            dom.remove()\r\n                        }\r\n                    )\r\n    \r\n                    delete this.domLabels[index]\r\n                } else if (removed.includes(index)) {\r\n                    dom.remove()\r\n                    delete this.domLabels[index]\r\n                }\r\n            }\r\n    \r\n            for (let i = 0; i < indexes.length; i += 1) {\r\n                const index = +indexes[i]\r\n    \r\n                const [x, rIndex] = positions[index]\r\n                const text = getLabel(labels[rIndex])\r\n                // const text = this.props.getLabelIndexByX(x + (cellWidth / 2))\r\n    \r\n                let dom = this.domLabels[index]\r\n    \r\n                if (!dom) {\r\n                    const labelStyle = `left: ${x.toFixed(2)}px;opacity: ${changeViewWidth ? 0 : opacity};`\r\n    \r\n                    dom = cre(\"div\", {\r\n                        id: index,\r\n                        className: style.canvas_wrapper__x_labels_wrapper__item,\r\n                        text,\r\n                        style: labelStyle,\r\n                        data: {\r\n                            state: \"rendered\",\r\n                            index: rIndex,\r\n                            position: x + (30 / 2),\r\n                            value: labels[rIndex]\r\n                        },\r\n                    })\r\n    \r\n                    this.element.appendChild(dom)\r\n    \r\n                    if (changeViewWidth)\r\n                    {\r\n                        setTimeout(() => {\r\n                            dom.style.opacity = 1\r\n                        }, 1)\r\n                    }\r\n    \r\n                    this.domLabels[index] = dom\r\n                } else {\r\n                    const labelStyle = `left: ${x.toFixed(2)}px;opacity: ${opacity};`\r\n                    \r\n                    dom.innerText = text\r\n                    dom.setAttribute(\"style\", labelStyle)\r\n                    dom.dataset.index = rIndex\r\n                    dom.dataset.position = x + (30 / 2)\r\n                    dom.dataset.value = labels[rIndex]\r\n                }\r\n            }\r\n            \r\n            this.indexes = indexes\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        const existIndexes = Object.keys(this.domLabels)\r\n\r\n        for (let i = 0; i < existIndexes.length; i += 1) {\r\n            const index = +existIndexes[i]\r\n            const dom = this.domLabels[index]\r\n\r\n            dom.remove()\r\n\r\n            delete this.domLabels[index]\r\n        }\r\n    }\r\n\r\n    calcXLabels() {\r\n        const {\r\n            scroll,\r\n            labels = [],\r\n            layout,\r\n            graphLayout: { labelsXWidth = 0 }\r\n        } = this.props\r\n\r\n        const removed = []\r\n\r\n        const scaleFactor = 100 / this.props.width\r\n\r\n        const labelsOnPage = Math.ceil(layout.width / labelsXWidth)\r\n\r\n        const cellWidth = (layout.width - (18 * 2)) / labelsOnPage\r\n\r\n        const intervalCount = labelsOnPage <= labels.length ? Math.floor(labels.length / labelsOnPage) : 1\r\n\r\n        const intervalFactorLog = Math.ceil(Math.log2(intervalCount / scaleFactor))\r\n        const intervalFactor = Math.pow(2, intervalFactorLog)\r\n\r\n        const labelsCount = Math.ceil(\r\n            (scaleFactor * labels.length) / intervalFactor,\r\n        )\r\n\r\n        const labelsPosition = {}\r\n\r\n        for (let i = 0; i < labelsCount; i += 1) {\r\n            const newIndex = i * intervalFactor\r\n\r\n            const scrollFromLeft = (scroll - this.props.width) / 100\r\n\r\n            let position =\r\n                layout.width *\r\n                (newIndex / (labels.length - 1) - scrollFromLeft) *\r\n                scaleFactor\r\n\r\n            position += 18\r\n\r\n            // if (newIndex === 0) {\r\n            //     position = 0\r\n            // }\r\n\r\n            // if (newIndex === labels.length - 1) {\r\n            //     position = layout.width - cellWidth\r\n            // }\r\n\r\n            // const value = labels[newIndex + 1]\r\n            const rIndex = this.props.getLabelIndexByX(position + (30 / 2))\r\n\r\n            if (rIndex) {\r\n                if (layout.width >= position && position >= 0 - cellWidth) {\r\n                    labelsPosition[newIndex] = [position, rIndex]\r\n                } else {\r\n                    removed.push(newIndex)\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            positions: labelsPosition,\r\n            count: labelsCount,\r\n            intervalFactor,\r\n            removed,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.clear()\r\n\r\n        this.drawXLabels()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (\r\n            this.props.labels !== prevProps.labels ||\r\n            this.props.id !== prevProps.id\r\n        ) {\r\n            this.clear()\r\n        }\r\n\r\n        if (\r\n            this.props.labels !== prevProps.labels ||\r\n            this.props.width !== prevProps.width ||\r\n            this.props.scroll !== prevProps.scroll\r\n        ) {\r\n            if (\r\n                this.props.width !== prevProps.width\r\n            ) {\r\n                this.drawXLabels(true)\r\n            } else {\r\n                this.drawXLabels(false)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.element = cre(\"div\", {\r\n            className: style.canvas_wrapper__x_labels_wrapper,\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default LabelsX\r\n","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./bar_chart.css\"\r\n\r\nclass BarChart extends BaseComponent {\r\n    static defaultProps = {\r\n        id: 1,\r\n        data: { position: {}, removed: [] }\r\n    }\r\n\r\n    domLabels = {}\r\n\r\n    drawXLabels() {\r\n        const {\r\n            data: { positions = {}, removed = [] }\r\n        } = this.props\r\n\r\n        const indexes = Object.keys(positions)\r\n        const existIndexes = Object.keys(this.domLabels)\r\n\r\n        for (let i = 0; i < existIndexes.length; i += 1) {\r\n            const index = existIndexes[i]\r\n            const dom = this.domLabels[index]\r\n\r\n            if (removed.includes(index)) {\r\n                dom.remove()\r\n                delete this.domLabels[index]\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < indexes.length; i += 1) {\r\n            const index = indexes[i]\r\n\r\n            const { x, y, width, height, opacity, color } = positions[index]\r\n\r\n            let dom = this.domLabels[index]\r\n\r\n            if (!dom) {\r\n                const itemStyle = ([\r\n                    `left: ${x}px`,\r\n                    `top: ${y}px`,\r\n                    `width: ${width}px`,\r\n                    `height: ${height}px`,\r\n                    `opacity: ${opacity}`,\r\n                    `background-color: ${color}`,\r\n                ]).join(\";\")\r\n\r\n                dom = cre(\"div\", {\r\n                    id: index,\r\n                    className: style.canvas_wrapper__bar_chart__item,\r\n                    style: itemStyle,\r\n                })\r\n\r\n                this.element.appendChild(dom)\r\n\r\n                this.domLabels[index] = dom\r\n            } else {\r\n                if (dom.style.left !== `${x}px`) {\r\n                    dom.style.left = `${x}px`\r\n                }\r\n\r\n                if (dom.style.top !== `${y}px`) {\r\n                    dom.style.top = `${y}px`\r\n                }\r\n\r\n                if (dom.style.width !== `${width}px`) {\r\n                    dom.style.width = `${width}px`\r\n                }\r\n\r\n                if (dom.style.height !== `${height}px`) {\r\n                    dom.style.height = `${height}px`\r\n                }\r\n\r\n                if (dom.style.opacity !== `${opacity}`) {\r\n                    dom.style.opacity = `${opacity}`\r\n                }\r\n\r\n                if (dom.style['background-color'] !== `${color}`) {\r\n                    dom.style['background-color'] = `${color}`\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        const existIndexes = Object.keys(this.domLabels)\r\n\r\n        for (let i = 0; i < existIndexes.length; i += 1) {\r\n            const index = +existIndexes[i]\r\n            const dom = this.domLabels[index]\r\n\r\n            dom.remove()\r\n\r\n            delete this.domLabels[index]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.clear()\r\n\r\n        this.drawXLabels()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (\r\n            this.props.id !== prevProps.id\r\n        ) {\r\n            this.clear()\r\n        }\r\n\r\n        if (this.props.data !== prevProps.data) {\r\n            this.drawXLabels()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.element = cre(\"div\", {\r\n            className: style.canvas_wrapper__bar_chart,\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default BarChart\r\n","import {\r\n    throttle,\r\n    abbreviateNumber,\r\n    getClickPosition,\r\n    numberFormat,\r\n} from 'helpers/utils'\r\n\r\nimport { hexToRgb, rgbToHsl, hslToRgb } from 'helpers/Colors'\r\n\r\nimport Canvas, { CanvasLine, CanvasText, CanvasRect, CanvasPath } from 'helpers/Canvas'\r\nimport { getAnimProgress, animateEase } from 'helpers/utils'\r\n\r\nimport BaseComponent, { cre } from 'components/base'\r\n\r\nimport {\r\n    MAP_MONTHS,\r\n    MAP_WEEK_DAYS,\r\n} from 'constants/DATES'\r\n\r\nimport {\r\n    MODE_COLOR_DAY,\r\n    MODE_COLOR_NIGHT,\r\n} from 'constants/COLORS'\r\n\r\nimport style from './style'\r\nimport LabelsX from './LabelsX'\r\nimport BarChart from './BarChart'\r\n\r\nimport ArrowIcon from 'svg/arrow.svg'\r\nimport { CanvasArc } from '../../helpers/Canvas';\r\n\r\nclass Charts extends BaseComponent {\r\n    static defaultProps = {\r\n        mode: MODE_COLOR_DAY,\r\n        arcMode: false,\r\n        animateScale: true,\r\n        allowXAsix: true,\r\n        allowYAsix: true,\r\n        allowPointValue: false,\r\n        offset: 0,\r\n        limit: 0,\r\n        dataset: [],\r\n        visibled: [],\r\n        width: 0,\r\n        scroll: 0,\r\n        layout: {\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        yScaled: false,\r\n        zoomType: \"none\",\r\n        zoom: false,\r\n    }\r\n\r\n    static getDarknessColor(color, opacity = 1) {\r\n        let rgb = hexToRgb(color)\r\n\r\n        const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b)\r\n\r\n        const darknessRgb = hslToRgb(hsl[0], hsl[1] - 0.18, hsl[2])\r\n\r\n        rgb.r = Math.round(darknessRgb[0])\r\n        rgb.g = Math.round(darknessRgb[1])\r\n        rgb.b = Math.round(darknessRgb[2])\r\n\r\n        if (rgb.r > 255) rgb.r = 255\r\n        if (rgb.g > 255) rgb.g = 255\r\n        if (rgb.b > 255) rgb.b = 255\r\n\r\n        if (opacity < 1) {\r\n            color = `rgba(${rgb.r},${rgb.g},${rgb.b},${Math.ceil(opacity * 100) / 100})`\r\n        } else {\r\n            color = `rgb(${rgb.r},${rgb.g},${rgb.b})`\r\n        }\r\n\r\n        return color\r\n    }\r\n\r\n    static calcXStep = ({\r\n        width,\r\n        limit,\r\n        length,\r\n        maxStep = 1000,\r\n        minStep = 1,\r\n    }) => {\r\n        let step =\r\n            limit > 0\r\n                ? width / (((length - 1) * limit) / 100)\r\n                : width / length\r\n\r\n        step = Math.min(step, maxStep)\r\n        step = Math.max(step, minStep)\r\n\r\n        return step\r\n    }\r\n\r\n    log = []\r\n\r\n    animations = []\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.safeCalc = throttle(this.calc, 1)\r\n\r\n        if (this.props.allowYAsix) {\r\n            this.state.graphOffset.bottom = 30\r\n        } else {\r\n            this.state.graphOffset.bottom = 0\r\n        }\r\n\r\n        if (!this.props.mini) {\r\n            this.state.graphOffset.top = 20\r\n            this.state.graphOffset.left = 18\r\n            this.state.graphOffset.right = 18\r\n        } else {\r\n            this.state.graphOffset.top = 0\r\n            this.state.graphOffset.left = 0\r\n            this.state.graphOffset.right = 0\r\n        }\r\n    }\r\n\r\n    state = {\r\n        step: 10,\r\n        showInfo: false,\r\n        graphLayout: {\r\n            width: 0,\r\n            height: 0,\r\n            labelsXWidth: 70,\r\n            labelsXOffset: 10,\r\n        },\r\n        graphMinMax: {},\r\n        offset: 0,\r\n        graphOffset: {\r\n            top: 0,\r\n            left: 0,\r\n            bottom: 0,\r\n            right: 0,\r\n            asixX: 0,\r\n            asixY: 0,\r\n        },\r\n        graphScale: {\r\n            x: 0,\r\n            y: 0,\r\n        },\r\n        minStep: 1,\r\n        maxStep: 1000,\r\n        visibility: {},\r\n        mouse: { pointX: 0, pointY: 0 },\r\n        selectArc: false,\r\n        zoom: false,\r\n        animationsValues: {\r\n            yAsixOpacity: 100,\r\n            xAsixOpacity: 100,\r\n            arcsScale: 0,\r\n            areasScale: 0,\r\n            yMinMax: 0,\r\n        }\r\n    }\r\n\r\n    init = false\r\n\r\n    componentDidMount() {\r\n        const { mini = false } = this.props\r\n\r\n        if (!mini) {\r\n            // this.documentEventMouseMove = this.eventMouseMove.bind(this)\r\n            this.documentEventMouseUp = this.eventMouseUp.bind(this)\r\n\r\n            // document.addEventListener(\"mousemove\", this.documentEventMouseMove)\r\n            document.addEventListener(\"mouseup\", this.documentEventMouseUp)\r\n            // document.addEventListener(\"touchmove\", this.documentEventMouseMove)\r\n            // document.addEventListener(\"touchend\", this.documentEventMouseUp)\r\n        }\r\n\r\n        this.initialize()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { dataset, visibled, layout, labels, arcMode, zoom } = this.props\r\n        const { step, graphOffset, graphMinMax, visibility, graphScale, showInfo, mouse, selectArc } = this.state\r\n\r\n        if (prevProps.arcMode !== arcMode) {\r\n            // console.log(\"change arc mode: \", prevProps.arcMode, arcMode)\r\n\r\n            if (arcMode === false) {\r\n                this.handleFadeInYAsix()\r\n                this.handleFadeInXAsix()\r\n                this.handleFadeOutArcs()\r\n                this.handleFadeInAreas()\r\n            } else {\r\n                this.handleFadeInArcs()\r\n                this.handleFadeOutYAsix()\r\n                this.handleFadeOutXAsix()\r\n                this.handleFadeOutAreas()\r\n            }\r\n        }\r\n\r\n        if (prevProps.zoom !== zoom) {\r\n            // console.log(\"change zoom: \", prevProps.zoom, zoom)\r\n\r\n            this.setState({\r\n                selectArc: false\r\n            })\r\n        }\r\n\r\n        const {\r\n            layout: { width = 0, height = 0 },\r\n            limit,\r\n            offset,\r\n            scroll,\r\n            colors,\r\n            id,\r\n        } = this.props\r\n\r\n        if (id !== prevProps.id) {\r\n            this.setState({\r\n                showInfo: false,\r\n            })\r\n        }\r\n\r\n        if (\r\n            prevProps.visibled !== visibled ||\r\n            prevProps.dataset !== dataset ||\r\n            prevProps.layout.width !== layout.width ||\r\n            prevProps.layout.height !== layout.height ||\r\n            prevProps.limit !== limit ||\r\n            prevProps.offset !== offset\r\n        ) {\r\n            if (\r\n                prevProps.layout.width !== width ||\r\n                prevProps.layout.height !== height\r\n            ) {\r\n                this.canvas.resize(width, height)\r\n            }\r\n\r\n            if (prevProps.dataset !== dataset) {\r\n                const prevDatasets = prevProps.dataset\r\n                    .filter(item => !dataset.some(_item => _item.uid === item.uid))\r\n\r\n                if (prevDatasets.length > 0) this.handleFadeOutDatasets(prevDatasets, this.calcDrawParams())\r\n\r\n                // const minMax = this.findMinMax()\r\n\r\n                // this.updateGraphOptions(minMax, 0)\r\n\r\n                // this.setState({\r\n                //     visibility: dataset.reduce((_v, item) => ({..._v, [item.id]: 0}), {})\r\n                // })\r\n\r\n                this.handleApplyVisibility(visibled)\r\n            } else {\r\n                if (prevProps.visibled !== visibled) {\r\n                    this.handleApplyVisibility(visibled)\r\n                }\r\n            }\r\n\r\n            this.reInit()\r\n        }\r\n\r\n        if (\r\n            prevState.step !== step ||\r\n            prevState.graphOffset.top !== graphOffset.top ||\r\n            prevState.graphOffset.bottom !== graphOffset.bottom ||\r\n            prevState.graphOffset.left !== graphOffset.left ||\r\n            prevState.graphOffset.right !== graphOffset.right ||\r\n            prevProps.scroll !== scroll ||\r\n            prevProps.width !== width ||\r\n            prevProps.colors !== colors ||\r\n            prevProps.labels !== labels ||\r\n            prevState.graphMinMax !== graphMinMax ||\r\n            prevState.graphScale !== graphScale ||\r\n            prevState.showInfo !== showInfo ||\r\n            prevState.visibility !== visibility ||\r\n            prevState.mouse !== mouse ||\r\n            prevState.selectArc !== selectArc ||\r\n            prevProps.zoom !== zoom\r\n        ) {\r\n            if (prevState.selectArc !== selectArc) {\r\n                if (selectArc) this.handleFadeInSelectArc(selectArc)\r\n                if (prevState.selectArc) this.handleFadeOutSelectArc(prevState.selectArc)\r\n            }\r\n            // this.draw()\r\n\r\n            this.needDraw = true\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { mini = false } = this.props\r\n\r\n        if (!mini) {\r\n            // document.removeEventListener(\"mousemove\", this.documentEventMouseMove)\r\n            document.removeEventListener(\"mouseup\", this.documentEventMouseUp)\r\n            // document.removeEventListener(\"touchmove\", this.documentEventMouseMove)\r\n            // document.removeEventListener(\"touchend\", this.documentEventMouseUp)\r\n        }\r\n\r\n        if (this.cart) {\r\n            this.cart.destroy()\r\n            this.cart = null\r\n        }\r\n\r\n        if (this.cartMiniMap) {\r\n            this.cartMiniMap.destroy()\r\n            this.cartMiniMap = null\r\n        }\r\n    }\r\n\r\n    initialize = () => {\r\n        // this.log.push(\"initialize\")\r\n\r\n        const { layout, visibled } = this.props\r\n\r\n        this.handleApplyVisibility(visibled)\r\n\r\n        this.canvas = new Canvas(this.canvasNode, {\r\n            ...layout,\r\n        })\r\n\r\n        this.calc()\r\n\r\n        this.init = true\r\n\r\n        requestAnimationFrame(this.reDraw)\r\n    }\r\n\r\n    timeFactor = 1\r\n\r\n    time = 0\r\n\r\n    reDraw = (time) => {\r\n        // if (this.time !== 0 && time - this.time < 1000)\r\n        // {\r\n        //     return;\r\n        // }\r\n\r\n        this.time = time / this.timeFactor\r\n\r\n        this.animations = this.animations\r\n            .filter(item => item !== false)\r\n\r\n        if (this.animations.length > 0 || this.needDraw) {\r\n            for (let index = 0; index < this.animations.length; index++) {\r\n                const animation = this.animations[index]\r\n\r\n                if (animation !== false) {\r\n                    const timePassed = this.time - animation.startAt\r\n                    const progress = getAnimProgress(animation.startAt, animation.duration, this.time)\r\n\r\n                    this.animations[index].progress = progress\r\n                    this.animations[index].lastUpdateAt = this.time\r\n                    this.animations[index].timePassed = timePassed\r\n\r\n                    animation.step(animateEase(progress), timePassed, animation.duration)\r\n\r\n                    if (progress === 1 || timePassed < -10000) {\r\n                        if (progress < 1 && timePassed < -10000)\r\n                        {\r\n                            animation.step(1, timePassed, animation.duration)\r\n\r\n                            console.warn(\"Incorrect animation timePassed\", this.animations[index])\r\n                        }\r\n\r\n                        this.animations[index] = false\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.draw()\r\n\r\n            if (this.needDraw) {\r\n                this.needDraw = false\r\n            }\r\n        }\r\n\r\n        requestAnimationFrame(this.reDraw)\r\n    }\r\n\r\n    reInit = () => {\r\n        this.calc()\r\n    }\r\n\r\n    updateState = params =>\r\n        new Promise(ok => {\r\n            this.setState(params, ok)\r\n        })\r\n\r\n    findMinMaxForLine(list, params = {}, def = {}) {\r\n        let { min = 99999999999, max = 0 } = def\r\n\r\n        const { offset = 0, limit = 0 } = params\r\n\r\n        let maxIter = offset + limit\r\n\r\n        if (maxIter === 0) maxIter = list.length\r\n\r\n        for (let i = offset; i < list.length && i < maxIter; i += 1) {\r\n            const v = list[i]\r\n\r\n            min = v < min ? v : min\r\n            max = v > max ? v : max\r\n        }\r\n\r\n        return [Math.floor(min), Math.ceil(max)]\r\n    }\r\n\r\n    findMinMaxForBars(dataset, params, def = {}) {\r\n        let { min = 99999999999, max = 0 } = def\r\n\r\n        const { visibled = [], offset = 0, limit = 0 } = params\r\n\r\n        let maxIter = offset + limit\r\n\r\n        if (maxIter === 0) maxIter = dataset[0].list.length\r\n\r\n        for (let index = offset; index < dataset[0].list.length && index < maxIter; index += 1) {\r\n            let v = 0\r\n            \r\n            dataset\r\n                .filter(item => visibled.includes(item.id))\r\n                .forEach(item => {\r\n                    v += item.list[index]\r\n\r\n                    min = item.list[index] < min ? item.list[index] : min\r\n                })\r\n\r\n            // min = v < min ? v : min\r\n            max = v > max ? v : max\r\n        }\r\n\r\n        return [Math.floor(min), Math.ceil(max)]\r\n    }\r\n\r\n    findMinMax() {\r\n        const { dataset = [], visibled = [], offset, limit } = this.props\r\n\r\n        let min = 99999999\r\n        let max = 0\r\n\r\n        const items = {}\r\n\r\n        if (dataset.length > 0) {\r\n            dataset\r\n                .filter(item => item.type === \"line\")\r\n                .forEach(item => {\r\n                    const { id, list } = item\r\n                    \r\n                    const minMax = this.findMinMaxForLine(list, { offset, limit })\r\n    \r\n                    items[id] = minMax\r\n    \r\n                    if (visibled.includes(id)) {\r\n                        min = minMax[0] < min ? minMax[0] : min\r\n                        max = minMax[1] > max ? minMax[1] : max\r\n                    }\r\n                })\r\n\r\n            const bars = dataset\r\n                .filter(item => item.type === \"bar\" || item.type === \"area\")\r\n\r\n            if (bars.length > 0) {\r\n                const minMax = this.findMinMaxForBars(bars, { visibled, offset, limit })\r\n\r\n                min = minMax[0] < min ? minMax[0] : min\r\n                max = minMax[1] > max ? minMax[1] : max\r\n            }\r\n        } else {\r\n            min = 0\r\n            max = 10\r\n        }\r\n\r\n        return {\r\n            common: [Math.floor(min), Math.ceil(max)],\r\n            ...items\r\n        }\r\n    }\r\n\r\n    findAbsoluteMinMax() {\r\n        const { dataset = [], visibled = [] } = this.props\r\n\r\n        let min = 99999999\r\n        let max = 0\r\n\r\n        if (dataset.length > 0) {\r\n            dataset\r\n                .filter(item => item.type === \"line\")\r\n                .forEach(item => {\r\n                    const { id, list } = item\r\n\r\n                    const minMax = this.findMinMaxForLine(list)\r\n\r\n                    if (visibled.includes(id)) {\r\n                        min = minMax[0] < min ? minMax[0] : min\r\n                        max = minMax[1] > max ? minMax[1] : max\r\n                    }\r\n                })\r\n\r\n            const bars = dataset\r\n                .filter(item => item.type === \"bar\" || item.type === \"area\")\r\n\r\n            if (bars.length > 0) {\r\n                const minMax = this.findMinMaxForBars(bars, { visibled })\r\n\r\n                min = minMax[0] < min ? minMax[0] : min\r\n                max = minMax[1] > max ? minMax[1] : max\r\n            }\r\n        } else {\r\n            min = 0\r\n            max = 10\r\n        }\r\n\r\n        return [min, max]\r\n    }\r\n\r\n    transformPositions(x, y, params = {}) {\r\n        const {\r\n            height = 0,\r\n            minMaxY: { min: minY },\r\n            scale: { x: scaleX, y: scaleY },\r\n        } = params\r\n\r\n        const {\r\n            graphOffset: { left, bottom },\r\n        } = this.state\r\n\r\n        const zY = y - minY\r\n\r\n        const nY = height - zY * scaleY - bottom\r\n\r\n        const nX = left + x * scaleX\r\n\r\n        return {\r\n            x: nX,\r\n            y: nY,\r\n        }\r\n    }\r\n\r\n    nAsix(x, y, yType = \"common\") {\r\n        // const {\r\n        //     layout: { height = 0 },\r\n        // } = this.props\r\n\r\n        // const {\r\n        //     graphMinMax,\r\n        //     graphScale,\r\n        //     graphOffset: { left, bottom },\r\n        // } = this.state\r\n\r\n        // const [min] = graphMinMax[yType]\r\n        // const scale = graphScale[yType]\r\n\r\n        // const zY = y - min\r\n\r\n        // const nY = height - zY * scale - bottom\r\n\r\n        // const nX = left + x * graphScale.x\r\n\r\n        // return {\r\n        //     x: nX,\r\n        //     y: nY,\r\n        // }\r\n\r\n        const {\r\n            layout: { height = 0 },\r\n        } = this.props\r\n\r\n        const {\r\n            graphMinMax,\r\n            graphScale,\r\n        } = this.state\r\n\r\n        const [min, max] = graphMinMax[yType]\r\n\r\n        return this.transformPositions(x, y, {\r\n            height,\r\n            minMaxY: { min, max },\r\n            scale: { x: graphScale.x, y: graphScale[yType] },\r\n        })\r\n    }\r\n\r\n    updateAnimateYLines = throttle((animateYLines) => {\r\n        this.setState({\r\n            graphScale: {\r\n                ...this.state.graphScale,\r\n                animateYLines,\r\n            }\r\n        })\r\n    }, 10)\r\n\r\n    getHeightGraph() {\r\n        const { layout } = this.props\r\n\r\n        const { graphOffset: { top, bottom } } = this.state\r\n\r\n        return layout.height - top - bottom\r\n    }\r\n\r\n    getWidthGraph() {\r\n        const { layout } = this.props\r\n\r\n        const { graphOffset: { left, right } } = this.state\r\n\r\n        return layout.width - left - right\r\n    }\r\n\r\n    setGraphOptions(minMax, options, layout) {\r\n        const { scroll = 0, limit = 0, length, animateYLines } = options\r\n        const { width } = layout\r\n\r\n        const heightGraph = this.getHeightGraph()\r\n        const widthGraph = this.getWidthGraph()\r\n        \r\n        const scales = {}\r\n\r\n        if (animateYLines !== undefined) {\r\n            scales.animateYLines = animateYLines\r\n        }\r\n\r\n        Object.keys(minMax).forEach(minmax_id => {\r\n            const [min, max] = minMax[minmax_id]\r\n\r\n            const delta = max - min\r\n            const scale = delta > 0 ? heightGraph / delta : 1\r\n\r\n            scales[minmax_id] = scale\r\n        })\r\n\r\n        const scaleX = widthGraph / width\r\n\r\n        const step = Charts.calcXStep({\r\n            width,\r\n            limit,\r\n            length,\r\n        })\r\n\r\n        const fullWidth = step * length\r\n\r\n        // this.log.push([\"setGraphOptions\", {\r\n        //     heightGraph,\r\n        //     widthGraph,\r\n        //     scaleX,\r\n        //     scales,\r\n        //     width,\r\n        //     limit,\r\n        //     length,\r\n        // }])\r\n\r\n        this.setState({\r\n            step,\r\n            graphMinMax: minMax,\r\n            graphScale: {\r\n                ...this.state.graphScale,\r\n                ...scales,\r\n                x: scaleX\r\n            },\r\n            graphLayout: {\r\n                ...this.state.graphLayout,\r\n                width: widthGraph,\r\n                height: heightGraph,\r\n                fullWidth,\r\n                offsetPx: (fullWidth * (scroll - limit)) / 100\r\n            },\r\n        })\r\n    }\r\n\r\n    updateGraphOptions = (minMax, animateYLines) => {\r\n        // this.log.push([\"updateGraphOptions\", minMax, animateYLines])\r\n\r\n        const { scroll, width, layout } = this.props\r\n\r\n        const length = this.getLength()\r\n\r\n        this.setGraphOptions(\r\n            minMax,\r\n            { scroll, limit: width, length, animateYLines },\r\n            layout,\r\n        )\r\n    }\r\n\r\n    animationInterval = false\r\n\r\n    getLength() {\r\n        const { dataset = [] } = this.props\r\n\r\n        return Math.max(...dataset.map(item => item.list.length))\r\n    }\r\n\r\n    lastMinMax = [0, 0]\r\n\r\n    calc() {\r\n        const { dataset = [], visibled = [], yScaled = false, animateScale = true } = this.props\r\n\r\n        this.absoluteMinMax = this.findAbsoluteMinMax()\r\n        \r\n        const minMax = this.findMinMax()\r\n\r\n        // this.log.push([\"calc\", minMax])\r\n\r\n        if (animateScale) {\r\n            if (!yScaled) {\r\n                this.handleAnimScale(\"common\", minMax, 400, true)\r\n            } else {\r\n                dataset\r\n                    .filter(item => visibled.includes(item.id))\r\n                    .forEach((item, index) => {\r\n                        this.handleAnimScale(item.id, minMax, 400, index === 0)\r\n                    })\r\n            }\r\n        } else {\r\n            this.updateGraphOptions(minMax, 0)\r\n        }\r\n\r\n        // const { dataset = [], visibled = [], yScaled = false } = this.props\r\n\r\n        // const minMax = this.findMinMax()\r\n\r\n        // if (!yScaled) {\r\n        //     this.handleScale(\"common\", minMax)\r\n        // } else {\r\n        //     dataset\r\n        //         .filter(item => visibled.includes(item.id))\r\n        //         .forEach(item => {\r\n        //             this.handleScale(item.id, minMax)\r\n        //         })\r\n        // }\r\n\r\n        // this.updateGraphOptions(minMax)\r\n\r\n        return true\r\n    }\r\n\r\n    calcArc(dataset, params = {}) {\r\n        const {\r\n            step,\r\n            width,\r\n            height,\r\n            offsetPx,\r\n            visibility = {},\r\n            length = 0,\r\n            opacity = 1,\r\n            scale = 1,\r\n            showInfo = false,\r\n            showInfoShow = {},\r\n            mouse: { pointX = 0, pointY = 0 },\r\n        } = params\r\n\r\n        dataset = dataset\r\n            .filter(item => visibility[item.id] > 0)\r\n\r\n        let sum = 0\r\n        let data = {}\r\n\r\n        for (let index = 0; index < length; index++) {\r\n            const { x } = this.nAsix(index * step - offsetPx, 0)\r\n\r\n            if (x >= 0 - (step * 2) && x <= width + (step * 2)) {\r\n\r\n                dataset.forEach(item => {\r\n                    let opacity = visibility[item.id]\r\n\r\n                    const v = item.list[index] * opacity\r\n\r\n                    if (!data[item.id]) data[item.id] = 0\r\n\r\n                    data[item.id] += v\r\n\r\n                    sum += v\r\n                })\r\n            }\r\n        }\r\n\r\n        let start_angle = 0\r\n        const radiusArc = Math.round(Math.min(width / 2.3, height / 2.3)) * scale\r\n        const radiusText = Math.round(radiusArc / 1.5) * scale\r\n        const centerX = Math.round(width / 2)\r\n        const centerY = Math.round(height / 2)\r\n\r\n        let canvasObjList = []\r\n\r\n        dataset.forEach(item => {\r\n            const showVal = showInfoShow[item.id] || 1\r\n\r\n            const v = data[item.id]\r\n\r\n            let slice_angle = 2 * Math.PI * v / sum\r\n\r\n            canvasObjList.push(new CanvasArc(\r\n                centerX,\r\n                centerY,\r\n                radiusArc,\r\n                start_angle,\r\n                start_angle + slice_angle,\r\n                {\r\n                    id: item.id,\r\n                    opacity: showInfo === item.id ? 0 : opacity,\r\n                    color: item.color,\r\n                    mouseX: pointX,\r\n                    mouseY: pointY,\r\n                }\r\n            ))\r\n\r\n            if (showInfo === item.id || showVal < 1) {\r\n                let cX = centerX + 10 * Math.cos(start_angle + ((slice_angle / 2))) * showVal\r\n                let cY = centerY + 10 * Math.sin(start_angle + ((slice_angle / 2))) * showVal\r\n\r\n                canvasObjList.push(new CanvasArc(\r\n                    cX,\r\n                    cY,\r\n                    radiusArc,\r\n                    start_angle,\r\n                    start_angle + slice_angle,\r\n                    {\r\n                        id: item.id,\r\n                        opacity,\r\n                        color: item.color,\r\n                        mouseX: pointX,\r\n                        mouseY: pointY,\r\n                    }\r\n                ))\r\n            }\r\n\r\n            start_angle += slice_angle\r\n        })\r\n\r\n        start_angle = 0\r\n\r\n        dataset.forEach(item => {\r\n            const showVal = showInfoShow[item.id] || 1\r\n\r\n            const v = data[item.id]\r\n            const precent = v / sum * 100\r\n\r\n            let slice_angle = 2 * Math.PI * v / sum\r\n\r\n            let rText = radiusText\r\n            let size = 20\r\n\r\n            // if (slice_angle * (180 / Math.PI) < 30) {\r\n            //     size = 12\r\n            //     rText = radiusArc - 20\r\n            //     slice_angle += 0.03\r\n            // }\r\n\r\n            if (slice_angle * (180 / Math.PI) < 20) {\r\n                size = 10\r\n                rText = radiusArc - 20\r\n                slice_angle += 0.03\r\n            }\r\n\r\n            if (slice_angle * (180 / Math.PI) < 10) {\r\n                size = 8\r\n                rText = radiusArc - 20\r\n                // slice_angle += 0.03\r\n            }\r\n\r\n            if (precent > 20) {\r\n                size = 25\r\n                rText -= 2.5\r\n                // slice_angle -= 0.03\r\n            }\r\n\r\n            if (precent > 30) {\r\n                size = 30\r\n                rText -= 5\r\n                // slice_angle -= 0.03\r\n            }\r\n\r\n            if (precent > 40) {\r\n                size = 35\r\n                rText -= 10\r\n                // slice_angle -= 0.03\r\n            }\r\n\r\n            if (showInfo === item.id || showVal < 1) {\r\n                rText += (10 * showVal)\r\n            }\r\n\r\n            if (slice_angle * (180 / Math.PI) > 8) {\r\n                const textX = rText * Math.cos(start_angle + (slice_angle / 2)) + centerX\r\n                const textY = rText * Math.sin(start_angle + (slice_angle / 2)) + centerY\r\n\r\n                canvasObjList.push(new CanvasText(`${Math.round(precent)}%`, {\r\n                    x: textX,\r\n                    y: textY,\r\n                    opacity,\r\n                    size: size * scale,\r\n                    align: \"center\",\r\n                    color: \"#fff\",\r\n                    font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n                }))\r\n            }\r\n\r\n\r\n            start_angle += slice_angle\r\n        })\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    calcBars(dataset, params = {}) {\r\n        const {\r\n            step,\r\n            width,\r\n            height,\r\n            minMaxY: { max: maxY },\r\n            offsetPx,\r\n            visibility = {},\r\n            length = 0,\r\n            scale = {},\r\n            opacity: fullOpacity = 1,\r\n            nativeOpacity = false,\r\n        } = params\r\n\r\n        const { x: scaleX = 1, y: scaleY = 1 } = scale\r\n\r\n        const {\r\n            graphOffset: { top, left, right },\r\n            showInfo = false,\r\n        } = this.state\r\n\r\n        const { mode = MODE_COLOR_DAY } = this.props\r\n\r\n        dataset = dataset\r\n            .filter(item => visibility[item.id] > 0)\r\n\r\n        const canvasObjList = []\r\n\r\n        for (let index = 0; index < length; index++) {\r\n            const { x } = this.nAsix(index * (step * scaleX) - (offsetPx * scaleX), 0)\r\n\r\n            if (x >= 0 - (left * 2) && x <= left + width + (right * 2)) {\r\n                let sum = 0\r\n\r\n                dataset.forEach(item => {\r\n                    const v = item.list[index]\r\n\r\n                    let opacity = visibility[item.id]\r\n\r\n                    sum += v * opacity\r\n                    // sum += v\r\n                })\r\n\r\n                let additionalOffset = 0\r\n\r\n                dataset.forEach(item => {\r\n                    let opacity = visibility[item.id]\r\n\r\n                    const v = item.list[index] * opacity\r\n\r\n                    let percent = v > 0 ? v * 100 / sum : 0\r\n\r\n                    if (percent < 2 && percent > 0 && opacity === 1) {\r\n                        additionalOffset += 2\r\n                    }\r\n                })\r\n\r\n                const offsetTopPercent = 100 - (sum * 100 / maxY) + additionalOffset\r\n                const offsetTopPx = height * offsetTopPercent / 100\r\n\r\n                const iterHeight = height - offsetTopPx\r\n                let yOffset = 0\r\n\r\n                dataset.forEach(item => {\r\n                    let opacity = visibility[item.id]\r\n\r\n                    const v = item.list[index] * opacity\r\n\r\n                    let percent = v > 0 ? v * 100 / sum : 0\r\n\r\n                    if (percent < 2 && percent > 0) percent = 2\r\n\r\n                    if (percent > 0) {\r\n                        const barHeight = iterHeight * percent / 100\r\n\r\n                        if (showInfo !== false) {\r\n                            if (showInfo === index) {\r\n                                opacity = 1\r\n\r\n                                if (fullOpacity < 1) {\r\n                                    opacity = fullOpacity\r\n                                }\r\n                            } else {\r\n                                opacity = 0.4\r\n                            }\r\n                        } else {\r\n                            if (fullOpacity < 1) {\r\n                                opacity = fullOpacity\r\n                            }\r\n                        }\r\n\r\n                        let { color } = item\r\n\r\n                        if (nativeOpacity) {\r\n                            if (mode === MODE_COLOR_NIGHT) {\r\n                                color = Charts.getDarknessColor(color, opacity)\r\n                            } else {\r\n                                let rgb = hexToRgb(color)\r\n\r\n                                if (opacity < 1) {\r\n                                    color = `rgba(${rgb.r},${rgb.g},${rgb.b},${opacity})`\r\n                                } else {\r\n                                    color = `rgba(${rgb.r},${rgb.g},${rgb.b},1)`\r\n                                }\r\n                            }\r\n                        } else {\r\n                            let rgb = hexToRgb(color)\r\n    \r\n                            if (mode === MODE_COLOR_NIGHT) {\r\n                                const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b)\r\n    \r\n                                const darknessRgb = hslToRgb(hsl[0], hsl[1] - 0.18, hsl[2])\r\n    \r\n                                rgb.r = Math.round(darknessRgb[0])\r\n                                rgb.g = Math.round(darknessRgb[1])\r\n                                rgb.b = Math.round(darknessRgb[2])\r\n    \r\n                                if (rgb.r > 255) rgb.r = 255\r\n                                if (rgb.g > 255) rgb.g = 255\r\n                                if (rgb.b > 255) rgb.b = 255\r\n                            }\r\n    \r\n                            if (opacity < 1) {\r\n                                const Bkg = mode === MODE_COLOR_NIGHT ? 0 : 255\r\n    \r\n                                let rO = Math.round(rgb.r * opacity + Bkg * (1 - opacity))\r\n                                let gO = Math.round(rgb.g * opacity + Bkg * (1 - opacity))\r\n                                let bO = Math.round(rgb.b * opacity + Bkg * (1 - opacity))\r\n    \r\n                                if (rO > 255) rO = 255\r\n                                if (gO > 255) gO = 255\r\n                                if (bO > 255) bO = 255\r\n    \r\n                                color = `rgb(${rO},${gO},${bO})`\r\n                            } else {\r\n                                color = `rgb(${rgb.r},${rgb.g},${rgb.b})`\r\n                            }\r\n                        }\r\n\r\n                        canvasObjList.push(new CanvasRect(\r\n                            Math.ceil(x),\r\n                            (height - (barHeight + yOffset) + top), \r\n                            {\r\n                                width: Math.ceil(step * scaleX),\r\n                                height: barHeight * scaleY,\r\n                                color,\r\n                                fill: true,\r\n                            }\r\n                        ))\r\n\r\n                        yOffset += barHeight\r\n                    }\r\n\r\n                })\r\n            }\r\n        }\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    calcAreas(dataset, params = {}) {\r\n        const {\r\n            step,\r\n            width,\r\n            height,\r\n            offsetPx,\r\n            visibility = {},\r\n            length = 0,\r\n            opacity: allOpacity = 1,\r\n            scale = 1,\r\n        } = params\r\n\r\n        const {\r\n            graphOffset: { top, left, right },\r\n        } = this.state\r\n\r\n        const { mode = MODE_COLOR_DAY } = this.props\r\n\r\n        dataset = dataset\r\n            .filter(item => visibility[item.id] > 0)\r\n\r\n        const paths = {}\r\n\r\n        const canvasObjList = []\r\n\r\n        const sums = {}\r\n\r\n        for (let index = -1; index < length; index++) {\r\n            let localY = (index + 1) * step - offsetPx\r\n\r\n            let iter = index\r\n\r\n            if (index === -1) {\r\n                iter = 0\r\n            }\r\n\r\n            const { x } = this.nAsix(localY, 0)\r\n\r\n            if (x >= 0 - (left * 2) && x <= left + width + (right * 2)) {\r\n                let sum = 0\r\n\r\n                dataset.forEach(item => {\r\n                    const v = item.list[iter]\r\n\r\n                    let opacity = visibility[item.id]\r\n\r\n                    sum += v * opacity\r\n                })\r\n\r\n                sums[iter] = sum\r\n\r\n                let yOffset = 0\r\n\r\n                dataset.forEach(item => {\r\n                    let opacity = visibility[item.id]\r\n\r\n                    const v = item.list[iter] * opacity\r\n\r\n                    const percent = v * 100 / sum\r\n\r\n                    const barHeight = (height * percent / 100) * (1 / scale)\r\n\r\n                    if (!paths[item.id]) paths[item.id] = []\r\n\r\n                    paths[item.id].push({\r\n                        x,\r\n                        y: height - (barHeight + yOffset) + top,\r\n                    })\r\n\r\n                    yOffset += barHeight\r\n                })\r\n            }\r\n        }\r\n\r\n        for (let index = dataset.length - 1; index >= 0; index -= 1) {\r\n            const item = dataset[index]\r\n\r\n            if (paths.hasOwnProperty(item.id)) {\r\n                const itemPaths = paths[item.id]\r\n    \r\n                let opacity = visibility[item.id]\r\n    \r\n                if (allOpacity < 1) {\r\n                    opacity = allOpacity\r\n                }\r\n    \r\n                let { color } = item\r\n                if (mode === MODE_COLOR_NIGHT) {\r\n                    color = Charts.getDarknessColor(color, opacity)\r\n                } else {\r\n                    let rgb = hexToRgb(color)\r\n    \r\n                    if (opacity < 1) {\r\n                        color = `rgba(${rgb.r},${rgb.g},${rgb.b},${opacity})`\r\n                    } else {\r\n                        color = `rgba(${rgb.r},${rgb.g},${rgb.b},1)`\r\n                    }\r\n                }\r\n    \r\n                const path = new CanvasPath({\r\n                    color,\r\n                    opacity,\r\n                    lineWidth: params.lineWidth,\r\n                })\r\n    \r\n                const positionLast = this.nAsix(width, height)\r\n    \r\n                const positionStart = itemPaths[0]\r\n                const positionEnd = itemPaths[itemPaths.length - 1]\r\n    \r\n                path.moveTo(positionStart.x, positionLast.y)\r\n    \r\n                for (let _index = 0; _index < itemPaths.length; _index++) {\r\n                    const { x, y } = itemPaths[_index]\r\n    \r\n                    path.lineTo(x, y)\r\n                }\r\n    \r\n                path.lineTo(positionEnd.x, positionLast.y)\r\n    \r\n                path.fill()\r\n    \r\n                canvasObjList.push(path)\r\n            }\r\n        }\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    calcLine(list, params) {\r\n        const { yScaled = false } = this.props\r\n\r\n        const {\r\n            graphOffset: { left, right },\r\n        } = this.state\r\n\r\n        const {\r\n            offsetPx,\r\n            scale = {},\r\n            nAsix,\r\n            width,\r\n        } = params\r\n\r\n        const { x: scaleX = 1, y: scaleY = 0 } = scale\r\n\r\n        let canvasObjList = []\r\n\r\n        const path = new CanvasPath({\r\n            color: params.color,\r\n            opacity: params.opacity,\r\n            lineWidth: params.lineWidth,\r\n        })\r\n\r\n        for (let index = 0; index < list.length; index++) {\r\n            const item = list[index]\r\n\r\n            const yType = yScaled ? params.id : \"common\"\r\n\r\n            const { x, y } = nAsix(index * (params.step * scaleX) - (offsetPx * scaleX), item, yType)\r\n\r\n            if (x >= 0 - ((left * 2) * scaleX) && x <= (left + width + (right * 2) * scaleX)) {\r\n                if (index === 0) {\r\n                    path.moveTo(x, y + scaleY)\r\n                } else {\r\n                    path.lineTo(x, y + scaleY)\r\n                }\r\n            }\r\n        }\r\n\r\n        path.stroke()\r\n\r\n        canvasObjList.push(path)\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    calcLines(dataset, params = {}) {\r\n        const { mode = MODE_COLOR_DAY } = this.props\r\n\r\n        const {\r\n            step,\r\n            visibility = {},\r\n            lineWidth = 3,\r\n            allowPointValue = false,\r\n            scale,\r\n            opacity: fullOpacity = 1,\r\n            nAsix,\r\n            width,\r\n            offsetPx,\r\n        } = params\r\n\r\n        let canvasObjList = []\r\n\r\n        for (let index = 0; index < dataset.length; index++) {\r\n            const data = dataset[index]\r\n\r\n            let { color } = data\r\n            let opacity = visibility[data.id]\r\n\r\n            if (fullOpacity < 1)\r\n            {\r\n                opacity = fullOpacity\r\n            }\r\n\r\n            if (mode === MODE_COLOR_NIGHT) {\r\n                color = Charts.getDarknessColor(color, opacity)\r\n            } else {\r\n                let rgb = hexToRgb(color)\r\n\r\n                if (opacity < 1) {\r\n                    color = `rgba(${rgb.r},${rgb.g},${rgb.b},${Math.ceil(opacity * 100) / 100})`\r\n                } else {\r\n                    color = `rgba(${rgb.r},${rgb.g},${rgb.b},1)`\r\n                }\r\n            }\r\n\r\n            canvasObjList = [\r\n                ...canvasObjList,\r\n                ...this.calcLine(data.list, {\r\n                    offsetPx,\r\n                    width,\r\n                    nAsix,\r\n                    id: data.id,\r\n                    scale,\r\n                    color,\r\n                    step,\r\n                    lineWidth,\r\n                    drawPointValue: allowPointValue,\r\n                })\r\n            ]\r\n        }\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    drawGraphs(dataset, params = {}) {\r\n        const { arcMode = false } = this.props\r\n\r\n        const areas = dataset.filter(item => item.type === \"area\")\r\n        const bars = dataset.filter(item => item.type === \"bar\")\r\n        const lines = dataset.filter(item => item.type === \"line\")\r\n\r\n        let canvasArcs = []\r\n\r\n        if (arcMode !== false || this.isTypeAnimating(\"anim-arcs\")) {\r\n            const {\r\n                arcsScale: scale = 1,\r\n                arcsOpacity: opacity = 1,\r\n                selectArcShow: showInfoShow = {}\r\n            } = this.state.animationsValues\r\n\r\n            canvasArcs = this.calcArc(areas, {\r\n                ...params,\r\n                scale,\r\n                opacity,\r\n                showInfoShow,\r\n                showInfo: params.selectArc,\r\n                alloShowInfo: arcMode !== false,\r\n            })\r\n        }\r\n\r\n        const canvasBars = this.calcBars(bars, params)\r\n        let canvasAreas = []\r\n\r\n        if (arcMode === false || this.isTypeAnimating(\"anim-area\")) {\r\n            const { areaScale: scale = 1, areaOpacity = 1 } = this.state.animationsValues\r\n\r\n            canvasAreas = this.calcAreas(areas, {\r\n                ...params,\r\n                scale,\r\n                opacity: areaOpacity,\r\n            })\r\n        }\r\n\r\n        const canvasLines = this.calcLines(lines, params)\r\n\r\n        return [\r\n            ...canvasLines,\r\n            ...canvasBars,\r\n            ...canvasAreas,\r\n            ...canvasArcs,\r\n        ]\r\n    }\r\n\r\n    createYLabels(type, graphMinMax, cHeight, color, pos = \"start\", withLines = true) {\r\n        const {\r\n            colors,\r\n            layout: { width, height },\r\n        } = this.props\r\n\r\n        const {\r\n            graphOffset: { asixX = 0, asixY = 0 },\r\n            animationsValues: { yAsixOpacity: opacity = 1 },\r\n        } = this.state\r\n\r\n        const [min, max] = graphMinMax[type]\r\n\r\n        const canvasObjects = []\r\n\r\n        // y labels\r\n        const deltaY = max - min\r\n\r\n        const yLabelStep = 6\r\n\r\n        const yLabelHeightStep = deltaY > 0 ?\r\n            deltaY / yLabelStep :\r\n            height / yLabelStep\r\n\r\n        const yLabelValueStep = deltaY / yLabelStep\r\n\r\n        const dir = cHeight >= 0 ? 1 : -1\r\n        cHeight = Math.abs(cHeight)\r\n\r\n        const zoomFrom = this.zoomFactor\r\n        const zoomTo = 1 - this.zoomFactor\r\n\r\n        const transformY = dir === 1 ?\r\n            (y) => (y * (zoomFrom + (zoomTo * cHeight))) :\r\n            (y) => {\r\n                return cHeight > 0 ? (y / (zoomFrom + (zoomTo * cHeight))) : 0\r\n            }\r\n\r\n        // for (let index = -25; index < 25; index += 1) {\r\n        for (let index = -5; index < yLabelStep + 5; index += 1) {\r\n            const positionStart = this.nAsix(0, yLabelHeightStep * index + min, type)\r\n            const positionEnd = this.nAsix(width, yLabelHeightStep * index + min, type)\r\n\r\n            const text = Math.floor(yLabelValueStep * index + min)\r\n\r\n            const y = transformY(positionStart.y)\r\n\r\n            canvasObjects.push(\r\n                new CanvasText(abbreviateNumber(text), {\r\n                    x: pos === \"start\" ? positionStart.x + asixX : positionEnd.x,\r\n                    y: y - 10 + asixY /*+ cHeight*/,\r\n                    align: pos,\r\n                    color,\r\n                    opacity: opacity < 1 ? opacity : colors.textOpacity,\r\n                    font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n                    size: 12,\r\n                }),\r\n            )\r\n            \r\n            if (withLines) {\r\n                canvasObjects.push(\r\n                    new CanvasLine(\r\n                        {\r\n                            x: positionStart.x + asixX,\r\n                            y: y + asixY,\r\n                        },\r\n                        {\r\n                            x: positionEnd.x,\r\n                            y: y + asixY,\r\n                        },\r\n                        {\r\n                            color: index > 0 ? colors.lines : colors.lastLine,\r\n                            opacity: opacity < 1 ? opacity : colors.lineOpacity,\r\n                            lineWidth: 1,\r\n                        },\r\n                    ),\r\n                )\r\n            }\r\n        }\r\n\r\n        return canvasObjects\r\n    }\r\n\r\n    createPercentYLabels(color, pos = \"start\") {\r\n        const {\r\n            colors,\r\n            layout: { width },\r\n        } = this.props\r\n\r\n        const height = this.getHeightGraph()\r\n\r\n        const {\r\n            graphOffset: {top, asixX = 0, asixY = 0 },\r\n            animationsValues: { yAsixOpacity: opacity = 1 },\r\n        } = this.state\r\n\r\n        const step = height / 4\r\n        const valueStep = 100 / 4\r\n\r\n        const canvasObjects = []\r\n\r\n        // for (let index = -25; index < 25; index += 1) {\r\n        for (let index = 0; index < 5; index += 1) {\r\n            const positionStart = this.nAsix(0, step * index)\r\n            const positionEnd = this.nAsix(width, step)\r\n\r\n            const text = Math.floor(valueStep * index)\r\n\r\n            const y = height - step * index + top\r\n\r\n            canvasObjects.push(\r\n                new CanvasText(abbreviateNumber(text), {\r\n                    x: pos === \"start\" ? positionStart.x + asixX : positionEnd.x,\r\n                    y: y - 10 + asixY /*+ cHeight*/,\r\n                    align: pos,\r\n                    color,\r\n                    opacity: opacity < 1 ? opacity : colors.textOpacity,\r\n                    font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n                    size: 12,\r\n                }),\r\n            )\r\n\r\n            canvasObjects.push(\r\n                new CanvasLine(\r\n                    {\r\n                        x: positionStart.x + asixX,\r\n                        y: y + asixY,\r\n                    },\r\n                    {\r\n                        x: positionEnd.x,\r\n                        y: y + asixY,\r\n                    },\r\n                    {\r\n                        color: index > 0 ? colors.lines : colors.lastLine,\r\n                        opacity: opacity < 1 ? opacity : colors.lineOpacity,\r\n                        lineWidth: 1,\r\n                    },\r\n                ),\r\n            )\r\n        }\r\n\r\n        return canvasObjects\r\n    }\r\n\r\n    getYLabels() {\r\n        const {\r\n            yScaled = false,\r\n            dataset = [],\r\n            visibled = [],\r\n            colors,\r\n            percentage = false,\r\n        } = this.props\r\n\r\n        if (percentage === false) {\r\n            const {\r\n                graphMinMax,\r\n                graphScale: { animateYLines },\r\n            } = this.state\r\n    \r\n            if (!yScaled) {\r\n                return this.createYLabels(\"common\", graphMinMax, animateYLines, colors.text, \"start\")\r\n            } else {\r\n                let canvasObjects = []\r\n    \r\n                dataset\r\n                    .filter(item => visibled.includes(item.id))\r\n                    .forEach((item, index) => {\r\n                        canvasObjects = [\r\n                            ...canvasObjects,\r\n                            ...this.createYLabels(item.id, graphMinMax, animateYLines, item.color, index === 0 ? \"start\" : \"end\", index === 0 ),\r\n                        ]\r\n                    })\r\n    \r\n                return canvasObjects\r\n            }\r\n        } else {\r\n            return this.createPercentYLabels(colors.text, \"start\")\r\n        }\r\n    }\r\n\r\n    drawDebugInfo() {\r\n        const {\r\n            layout,\r\n            offset,\r\n            limit,\r\n            scroll,\r\n            width,\r\n        } = this.props\r\n\r\n        const {\r\n            graphMinMax: { minY, maxY },\r\n            graphScale,\r\n            graphOffset: { left, top, right, bottom },\r\n            step,\r\n        } = this.state\r\n\r\n        this.canvas.rect(0, 0, {\r\n            width: 300,\r\n            height: 150,\r\n            color: \"rgba(0, 0, 0, 0.5)\",\r\n            fill: true,\r\n        })\r\n\r\n        this.canvas.text(`Min/Max Y: ${minY} / ${maxY}`, {\r\n            x: 10,\r\n            y: 20,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n\r\n        this.canvas.text(`Scale X/Y: ${graphScale.x} / ${graphScale.y}`, {\r\n            x: 10,\r\n            y: 40,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n\r\n        this.canvas.text(\r\n            `Offset L/T/R/B: ${left}px / ${top}px / ${right}px / ${bottom}px`,\r\n            {\r\n                x: 10,\r\n                y: 60,\r\n                align: \"start\",\r\n                color: \"white\",\r\n                size: 14,\r\n                font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n            },\r\n        )\r\n\r\n        this.canvas.text(`Width/Height: ${layout.width.toFixed(2)}px / ${layout.height.toFixed(2)}px`, {\r\n            x: 10,\r\n            y: 80,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n\r\n        this.canvas.text(`Step: ${step}px`, {\r\n            x: 10,\r\n            y: 100,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n\r\n        this.canvas.text(`Offset/Limit: ${offset} / ${limit}`, {\r\n            x: 10,\r\n            y: 120,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n\r\n        this.canvas.text(\r\n            `Offset/Limit (%): ${scroll.toFixed(2)} / ${width.toFixed(2)}`,\r\n            {\r\n                x: 10,\r\n                y: 140,\r\n                align: \"start\",\r\n                color: \"white\",\r\n                size: 14,\r\n                font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n            },\r\n        )\r\n    }\r\n\r\n    time = new Date()\r\n\r\n    drawFpsInfo() {\r\n        const time2 = new Date\r\n        const fps = 1000 / (time2 - this.time)\r\n        this.time = time2\r\n\r\n        this.canvas.rect(0, 0, {\r\n            width: 100,\r\n            height: 50,\r\n            color: \"rgba(0, 0, 0, 0.5)\",\r\n            fill: true,\r\n        })\r\n\r\n        this.canvas.text(`FPS: ${Math.ceil(fps / 10) * 10}`, {\r\n            x: 10,\r\n            y: 20,\r\n            align: \"start\",\r\n            color: \"white\",\r\n            size: 14,\r\n            font: \"NeueHaasDisplay,Tahoma,sans-serif,Arial\",\r\n        })\r\n    }\r\n\r\n    additionalDraw = []\r\n\r\n    calcDrawParams() {\r\n        const {\r\n            step,\r\n            visibility = {},\r\n            graphMinMax,\r\n            graphLayout: { offsetPx },\r\n            mouse,\r\n            selectArc,\r\n        } = this.state\r\n\r\n        const {\r\n            visibled = [],\r\n            allowPointValue,\r\n            lineWidth = 3,\r\n            layout: { height = 0 },\r\n        } = this.props\r\n\r\n        const {\r\n            graphScale,\r\n        } = this.state\r\n\r\n        const nAsix = (x, y, yType) => {\r\n            const [min, max] = graphMinMax[yType]\r\n            \r\n            return this.transformPositions(x, y, {\r\n                height,\r\n                minMaxY: { min, max },\r\n                scale: { x: graphScale.x, y: graphScale[yType] },\r\n            })\r\n        }\r\n\r\n        return {\r\n            nAsix,\r\n            selectArc,\r\n            mouse,\r\n            step,\r\n            visibled,\r\n            visibility,\r\n            lineWidth,\r\n            allowPointValue,\r\n            offsetPx,\r\n            width: this.getWidthGraph(),\r\n            height: this.getHeightGraph(),\r\n            minMaxY: { max: graphMinMax.common[1] },\r\n        }\r\n    }\r\n\r\n    calcDraw({ arcMouseMove = false }) {\r\n        const {\r\n            dataset = [],\r\n            allowYAsix,\r\n        } = this.props\r\n\r\n        let yLabesCanvasObjects = []\r\n\r\n        if (allowYAsix) {\r\n            yLabesCanvasObjects = this.getYLabels()\r\n        }\r\n\r\n        const graphParams = this.calcDrawParams()\r\n\r\n        let canvasObjList = []\r\n\r\n        const datasetBeforeLines = dataset.filter(item => item.type === \"bar\" || item.type === \"area\")\r\n\r\n        if (datasetBeforeLines.length > 0 && datasetBeforeLines[0].list.length > 0) {\r\n            canvasObjList = [\r\n                ...canvasObjList,\r\n                ...this.drawGraphs(datasetBeforeLines, {\r\n                    ...graphParams,\r\n                    length: datasetBeforeLines[0].list.length,\r\n                }),\r\n            ]\r\n        }\r\n\r\n        this.additionalDraw\r\n            .filter(item => item[0] === \"beforeLines\")\r\n            .forEach(item => {\r\n                canvasObjList = [\r\n                    ...canvasObjList,\r\n                    ...item[1],\r\n                ]\r\n            })\r\n\r\n        yLabesCanvasObjects\r\n            .filter(cnvsObj => cnvsObj instanceof CanvasLine)\r\n            .forEach(cnvsObj => canvasObjList.push(cnvsObj))\r\n\r\n        const datasetAfterLines = dataset.filter(item => item.type !== \"bar\" && item.type !== \"area\")\r\n\r\n        if (datasetAfterLines.length > 0 && datasetAfterLines[0].list.length > 0) {\r\n            canvasObjList = [\r\n                ...canvasObjList,\r\n                ...this.drawGraphs(datasetAfterLines, {\r\n                    ...graphParams,\r\n                    length: datasetAfterLines[0].list.length,\r\n                }),\r\n            ]\r\n        }\r\n\r\n        const additionalAfterLines = this.additionalDraw\r\n            .filter(item => item[0] === \"afterLines\")\r\n        \r\n        additionalAfterLines.forEach(item => {\r\n            canvasObjList = [\r\n                ...canvasObjList,\r\n                ...item[1],\r\n            ]\r\n        })\r\n\r\n        yLabesCanvasObjects\r\n            .filter(cnvsObj => cnvsObj instanceof CanvasText)\r\n            .forEach(cnvsObj => canvasObjList.push(cnvsObj))\r\n\r\n        canvasObjList.forEach(item => {\r\n            if (item instanceof CanvasArc) {\r\n                item.params.mouseMove = arcMouseMove\r\n            }\r\n        })\r\n\r\n        this.additionalDraw = []\r\n\r\n        return canvasObjList\r\n    }\r\n\r\n    draw() {\r\n        const { \r\n            showInfo = false,\r\n            animationsValues: { xAsixOpacity: opacity = 100 },\r\n            selectArc = false,\r\n        } = this.state\r\n\r\n        const {\r\n            allowXAsix,\r\n            arcMode = false,\r\n        } = this.props\r\n\r\n        this.canvas.clear()\r\n\r\n        if (allowXAsix) {\r\n            const { id, scroll, labels, layout, width } = this.props\r\n\r\n            const { graphLayout } = this.state\r\n\r\n            this.labelX.setProps({\r\n                id,\r\n                width,\r\n                scroll,\r\n                labels,\r\n                layout,\r\n                graphLayout,\r\n                opacity,\r\n            })\r\n        }\r\n\r\n        let hoverId = false\r\n\r\n        let canvasObjList = this.calcDraw({\r\n            arcMouseMove: (item_id) => {\r\n                hoverId = item_id\r\n            }\r\n        })\r\n\r\n        canvasObjList\r\n            .forEach(cnvsObj => this.canvas.draw(cnvsObj))\r\n\r\n        if (arcMode) {\r\n            if (hoverId !== false && selectArc !== hoverId) {\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        selectArc: hoverId\r\n                    })\r\n                }, 1)\r\n            } else if (hoverId === false && selectArc !== hoverId) {\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        selectArc: false\r\n                    })\r\n                }, 1)\r\n            }\r\n        }\r\n\r\n        if (this.props.debug) this.drawDebugInfo()\r\n        if (this.props.fps) this.drawFpsInfo()\r\n\r\n        if (showInfo !== false) {\r\n            this.drawShowInfo()\r\n        } else {\r\n            this.showInfoNode.setAttribute(\"style\", `opacity: 0;top: -${this.props.layout.height}px;`)\r\n        }\r\n\r\n        this.drawSelectArc()\r\n    }\r\n\r\n    drawSelectArc() {\r\n        const {\r\n            dataset = [],\r\n            layout,\r\n        } = this.props\r\n\r\n        const {\r\n            step,\r\n            graphLayout: { offsetPx },\r\n            mouse: { pointX = 0, pointY = 0 },\r\n            selectArc = false,\r\n        } = this.state\r\n\r\n        if (selectArc !== false) {\r\n            const item = dataset.find(_i => _i.id === selectArc)\r\n            \r\n            if (item) {\r\n                const width = this.getWidthGraph()\r\n\r\n                let value = 0\r\n\r\n                for (let index = 0; index < item.list.length; index++) {\r\n                    const { x } = this.nAsix(index * step - offsetPx, 0)\r\n\r\n                    if (x >= 0 - (step * 2) && x <= width + (step * 2)) {\r\n                        value += item.list[index]\r\n                    }\r\n                }\r\n\r\n                this.showSelectArc.innerHTML = `<div class=\"label\">${item.label}</div><div class=\"value\" style=\"color: ${item.color};\">${value}</div>`\r\n\r\n                let showArcX = pointX - 50\r\n                let showArcY = pointY - this.showSelectArc.clientHeight - 30\r\n\r\n                if (showArcX + this.showSelectArc.clientWidth + 30 > layout.width) {\r\n                    showArcX = layout.width - this.showSelectArc.clientWidth - 30\r\n                }\r\n\r\n                if (showArcY < 0) {\r\n                    showArcY = pointY + 30\r\n                }\r\n\r\n                this.showSelectArc.style = `opacity: 1;top: ${showArcY}px;left: ${showArcX}px;`\r\n            }\r\n        } else {\r\n            this.showSelectArc.style = `opacity: 0;top: -${this.props.layout.height}px;`\r\n        }\r\n    }\r\n\r\n    drawShowInfo() {\r\n        const {\r\n            scroll,\r\n            labels = [],\r\n            dataset = [],\r\n            visibled = [],\r\n            lineWidth,\r\n            colors,\r\n            layout,\r\n            yScaled = false,\r\n            stacked = false,\r\n            percentage = false,\r\n            zoomType = \"none\",\r\n            zoom = false,\r\n        } = this.props\r\n\r\n        const { step, graphOffset, showInfo } = this.state\r\n\r\n        const width = labels.length * step\r\n\r\n        const offsetScroll = (width / 100) * (scroll - this.props.width)\r\n\r\n        const index = showInfo\r\n\r\n        const unixTimestamp = labels[index]\r\n\r\n        const date = new Date(unixTimestamp)\r\n\r\n        const month = MAP_MONTHS[date.getMonth()]\r\n        const weekDay = MAP_WEEK_DAYS[date.getDay()]\r\n        const day = date.getDate()\r\n\r\n        let label = `${weekDay}, ${month} ${day}`\r\n\r\n        if (zoom !== false && (zoomType === \"byHours\" || zoomType === \"by3Days\")) {\r\n            const date = new Date(unixTimestamp)\r\n\r\n            let hours = date.getHours()\r\n            let minutes = date.getMinutes()\r\n\r\n            if (`${hours}`.length === 1) hours = `0${hours}`\r\n            if (`${minutes}`.length === 1) minutes = `0${minutes}`\r\n\r\n            label = `${hours}:${minutes}`\r\n        }\r\n\r\n        const labelX = this.nAsix(index * step - offsetScroll, 0).x\r\n\r\n        let values = dataset\r\n            .filter(item => visibled.includes(item.id))\r\n            // .filter(item => item.type === \"line\")\r\n            .map(item => ({\r\n                value: item.list[index],\r\n                color: item.color,\r\n                label: item.label,\r\n                type: item.type,\r\n                ...this.nAsix(index * step - offsetScroll, item.list[index], yScaled ? item.id : \"common\"),\r\n            }))\r\n\r\n        const sum = values\r\n            .filter(item => item.type === \"area\" || item.type === \"bar\")\r\n            .reduce((_s, item) => item.value + _s, 0)\r\n\r\n        values = values.map(item => ({\r\n            ...item,\r\n            percent: item.type === \"area\" ? item.value * 100 / sum : null\r\n        }))\r\n\r\n        const lines = values\r\n            .filter(item => item.type === \"line\")\r\n\r\n        if (lines.length > 0) {\r\n            this.canvas.line(\r\n                {\r\n                    x: labelX,\r\n                    y: 0,\r\n                },\r\n                {\r\n                    x: labelX,\r\n                    y: layout.height - graphOffset.bottom,\r\n                },\r\n                {\r\n                    color: colors.activeLine,\r\n                    opacity: colors.activeLineOpacity,\r\n                    lineWidth: 2,\r\n                },\r\n            )\r\n    \r\n            lines.forEach(value => {\r\n                this.canvas.circle(value.x, value.y, 5, {\r\n                    lineWidth: lineWidth + 2,\r\n                    color: colors.background,\r\n                    strokColor: value.color,\r\n                })\r\n            })\r\n        }\r\n\r\n        let showInfoX = index * step - offsetScroll + 10\r\n\r\n        if (showInfoX < 0) {\r\n            showInfoX = 0\r\n        }\r\n\r\n        this.showInfoNode.innerHTML = \"\"\r\n\r\n        const rows = []\r\n\r\n        for (let i = 0; i < values.length; i += 1) {\r\n            const value = values[i]\r\n\r\n            const classesRoot = [style.canvas__show_info__row__item]\r\n\r\n            if (values.some(item => item.percent !== null) && values.length > 1) {\r\n                classesRoot.push(style.canvas__show_info__row__item_with_percent)\r\n            }\r\n\r\n            rows.push(\r\n                cre(\"div\", {\r\n                    className: classesRoot,\r\n                    children: [\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__percent,\r\n                            text: Math.round(value.percent) + \"%\",\r\n                        }),\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__name,\r\n                            text: value.label,\r\n                        }),\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__value,\r\n                            style: `color: ${value.color}`,\r\n                            text: numberFormat(value.value),\r\n                        }),\r\n                    ],\r\n                }),\r\n            )\r\n        }\r\n\r\n        if (stacked && percentage === false) {\r\n            rows.push(\r\n                cre(\"div\", {\r\n                    className: style.canvas__show_info__row__item,\r\n                    children: [\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__percent,\r\n                            text: \"100%\",\r\n                        }),\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__name,\r\n                            text: \"All\",\r\n                        }),\r\n                        cre(\"div\", {\r\n                            className: style.canvas__show_info__row__item__value,\r\n                            text: numberFormat(sum),\r\n                        }),\r\n                    ],\r\n                }),\r\n            )\r\n        }\r\n\r\n        const children = [\r\n            cre(\"div\", {\r\n                className: style.canvas__show_info__title__value,\r\n                text: label,\r\n            }),\r\n        ]\r\n\r\n        if (zoom === false && zoomType !== \"none\") {\r\n            children.push(\r\n                cre(\"div\", {\r\n                    className: style.canvas__show_info__title__zoom,\r\n                    children: cre(\"div\", {\r\n                        className: style.canvas__show_info__title__zoom__icon,\r\n                        style: `background-image: url(${ArrowIcon})`,\r\n                    }),\r\n                }),\r\n            )\r\n        }\r\n\r\n        this.showInfoNode.appendChild(\r\n            cre(\"div\", {\r\n                className: style.canvas__show_info__wrapper,\r\n                children: [\r\n                    cre(\"div\", {\r\n                        className: style.canvas__show_info__title,\r\n                        children\r\n                    }),\r\n                    cre(\"div\", {\r\n                        className: style.canvas__show_info__rows,\r\n                        children: rows\r\n                    }),\r\n                ],\r\n            }),\r\n        )\r\n\r\n        if (showInfoX + this.showInfoNode.clientWidth + 30 > layout.width) {\r\n            showInfoX = layout.width - this.showInfoNode.clientWidth - 30\r\n        }\r\n\r\n        this.showInfoNode.setAttribute(\"style\", `opacity: 1;left: ${showInfoX}px`)\r\n    }\r\n\r\n    getLabelIndexByX(x) {\r\n        const { step } = this.state\r\n\r\n        const { labels = [] } = this.props\r\n\r\n        const index = Math.round(x / step)\r\n\r\n        if (index > 0 && index < labels.length) {\r\n            return index\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    getLabelIndexByRelativeX(x) {\r\n        const {\r\n            graphScale,\r\n            graphLayout: { offsetPx },\r\n            graphOffset: { left }\r\n        } = this.state\r\n\r\n        const index = this.getLabelIndexByX(offsetPx + ((x - left) / graphScale.x))\r\n\r\n        return index\r\n    }\r\n\r\n    isEventInShowInfo(e) {\r\n        const closestEl = e.target.closest(`.${style.canvas__show_info}`)\r\n        return closestEl === this.showInfoNode\r\n    }\r\n\r\n    eventClickShowInfo(e) {\r\n        if (this.mouseEnter && !this.mouseDown && !(e.touches && e.touches.length > 0)) {\r\n            if (this.isShowInfo) {\r\n                this.handleZoom()\r\n            }\r\n        }\r\n    }\r\n\r\n    eventStartShowInfo = e => {\r\n        const currentPosition = getClickPosition(e)\r\n\r\n        const x = currentPosition.x - this.element.offsetLeft\r\n\r\n        const index = this.getLabelIndexByRelativeX(x)\r\n\r\n        this.setState({\r\n            showInfo: index,\r\n        })\r\n    }\r\n\r\n    eventMouseDown = e => {\r\n        const { arcMode = false } = this.props\r\n\r\n        this.clickByShowInfo = this.isEventInShowInfo(e)\r\n        this.mouseDown = true\r\n\r\n        // console.log(\"eventMouseDown\", this.clickByShowInfo)\r\n\r\n        if (!this.isShowInfo && arcMode === false)\r\n        {\r\n            this.tapPosition = getClickPosition(e)\r\n    \r\n            this.isShowInfo = true\r\n    \r\n            this.eventStartShowInfo(e)\r\n        }\r\n    }\r\n\r\n    eventTouchMove = e => {\r\n        const { arcMode = false } = this.props\r\n\r\n        const closestEl = e.target.closest(`.${style.canvas__show_info}`)\r\n        const isNotOverShowInfo = closestEl != this.showInfoNode\r\n\r\n        if (isNotOverShowInfo && this.isShowInfo && arcMode === false) {\r\n            this.eventStartShowInfo(e)\r\n        }\r\n    }\r\n\r\n    eventUpdateMouse = (e) => {\r\n        const currentPosition = getClickPosition(e, this.element)\r\n\r\n        if (\r\n            currentPosition.x !== this.state.mouse.pointX ||\r\n            currentPosition.y !== this.state.mouse.pointY\r\n        ) {\r\n            this.setState({\r\n                mouse: {\r\n                    pointX: currentPosition.x,\r\n                    pointY: currentPosition.y,\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    eventMouseMove = e => {\r\n        const { arcMode = false } = this.props\r\n\r\n        const closestEl = e.target.closest(`.${style.canvas__show_info}`)\r\n        const isNotOverShowInfo = closestEl != this.showInfoNode\r\n\r\n        if (isNotOverShowInfo && this.isShowInfo && arcMode === false) {\r\n            this.eventStartShowInfo(e)\r\n        }\r\n        \r\n        this.eventUpdateMouse(e)\r\n    }\r\n\r\n    eventMouseUp = (e) => {\r\n        const { arcMode = false } = this.props\r\n\r\n        const closestEl = e.target.closest(`.${style.canvas_wrapper}`)\r\n        const isOutside = closestEl != this.element\r\n\r\n        // console.log(\"[Charts][Event: MouseUp]\", { isOutside }, e)\r\n\r\n        if (arcMode === false) {\r\n            if (isOutside) {\r\n                if (this.isShowInfo) {        \r\n                    // const currentPosition = getClickPosition(e)\r\n        \r\n                    // if (Math.abs(currentPosition.x - this.tapPosition.x) < +this.state.step.toFixed(2)) {\r\n                    //     this.eventStartShowInfo(e, this.prevShowInfo)\r\n                    // }\r\n        \r\n                    this.isShowInfo = false\r\n        \r\n                    this.setState({\r\n                        showInfo: false,\r\n                    })\r\n                }\r\n            } else {\r\n                if (this.isShowInfo && this.clickByShowInfo) {\r\n                    this.handleZoom()\r\n                }\r\n            }\r\n        }\r\n\r\n        this.clickByShowInfo = false\r\n        this.mouseDown = false\r\n    }\r\n\r\n    eventMouseLeave = () => {\r\n        const { arcMode = false } = this.props\r\n\r\n        this.mouseEnter = false\r\n        // console.log(\"eventMouseLeave\", this.mouseEnter)\r\n\r\n        if (this.isShowInfo && arcMode === false) {\r\n            // const currentPosition = getClickPosition(e)\r\n\r\n            // if (Math.abs(currentPosition.x - this.tapPosition.x) < +this.state.step.toFixed(2)) {\r\n            //     this.eventStartShowInfo(e, this.prevShowInfo)\r\n            // }\r\n\r\n            this.isShowInfo = false\r\n\r\n            this.setState({\r\n                showInfo: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    eventMouseEnter = (e) => {\r\n        const { arcMode = false } = this.props\r\n\r\n        this.mouseEnter = true\r\n        // console.log(\"eventMouseEnter\", this.mouseEnter)\r\n\r\n        if (!this.isShowInfo && arcMode === false) {\r\n            this.isShowInfo = true\r\n\r\n            this.eventStartShowInfo(e)\r\n        }\r\n    }\r\n\r\n    getLabelText(unixTimestamp) {\r\n        const { zoom = false, zoomType = \"none\" } = this.props\r\n\r\n        if (zoom !== false && (zoomType === \"byHours\" || zoomType === \"by3Days\")) {\r\n            const date = new Date(unixTimestamp)\r\n\r\n            let hours = date.getHours()\r\n            let minutes = date.getMinutes()\r\n\r\n            if (`${hours}`.length === 1) hours = `0${hours}`\r\n            if (`${minutes}`.length === 1) minutes = `0${minutes}`\r\n\r\n            const dateFormat = `${hours}:${minutes}`\r\n\r\n            return dateFormat\r\n        } else {\r\n            const date = new Date(unixTimestamp)\r\n    \r\n            const month = MAP_MONTHS[date.getMonth()]\r\n            const day = date.getDate()\r\n    \r\n            const dateFormat = `${month} ${day}`\r\n    \r\n            return dateFormat\r\n        }\r\n    }\r\n\r\n    createAnimation(type, step, duration = 300, clear = true) {\r\n        if (clear) {\r\n            this.animations = this.animations\r\n                .filter(item => item.type !== type)\r\n        }\r\n\r\n        const now = performance.now() / this.timeFactor\r\n\r\n        this.animations.push({\r\n            type,\r\n            startAt: now,\r\n            begin: now,\r\n            step,\r\n            duration,\r\n        })\r\n\r\n        // console.log(this.animations)\r\n    }\r\n\r\n    handleFadeInLine(id) {\r\n        this.createAnimation(`anim-dataset-${id}`, (progress) => {\r\n            this.setState({\r\n                visibility: {\r\n                    ...this.state.visibility,\r\n                    [id]: animateEase(progress),\r\n                }\r\n            })\r\n        }, 300)\r\n    }\r\n\r\n    handleFadeOutLine(id) {\r\n        this.createAnimation(`anim-dataset-${id}`, (progress) => {\r\n            this.setState({\r\n                visibility: {\r\n                    ...this.state.visibility,\r\n                    [id]: 1 - animateEase(progress),\r\n                }\r\n            })\r\n        }, 300)\r\n    }\r\n\r\n    handleFadeOutYAsix = () => {\r\n        const { yAsixOpacity: startVal = 100 } = this.state.animationsValues\r\n        const endVal = 0\r\n\r\n        const range = endVal - startVal\r\n\r\n        this.createAnimation(`anim-y-asix`, (progress) => {\r\n            const iterVal = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    yAsixOpacity: startVal + iterVal,\r\n                }\r\n            })\r\n        }, 150)\r\n    }\r\n    \r\n    handleFadeOutXAsix = () => {\r\n        const { xAsixOpacity: startVal = 100 } = this.state.animationsValues\r\n        const endVal = 0\r\n\r\n        const range = endVal - startVal\r\n\r\n        this.createAnimation(`anim-x-asix`, (progress) => {\r\n            const iterVal = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    xAsixOpacity: startVal + iterVal,\r\n                }\r\n            })\r\n        }, 150)\r\n    }\r\n\r\n    handleFadeInYAsix = () => {\r\n        const { yAsixOpacity: startVal = 100 } = this.state.animationsValues\r\n        const endVal = 100\r\n\r\n        const range = endVal - startVal\r\n\r\n        this.createAnimation(`anim-y-asix`, (progress) => {\r\n            const iterVal = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    yAsixOpacity: startVal + iterVal,\r\n                }\r\n            })\r\n        }, 150)\r\n    }\r\n\r\n    handleFadeInXAsix = () => {\r\n        const { xAsixOpacity: startVal = 100 } = this.state.animationsValues\r\n        const endVal = 100\r\n\r\n        const range = endVal - startVal\r\n\r\n        this.createAnimation(`anim-x-asix`, (progress) => {\r\n            const iterVal = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    xAsixOpacity: startVal + iterVal,\r\n                }\r\n            })\r\n        }, 150)\r\n    }\r\n\r\n    handleFadeInArcs = () => {\r\n        const { arcsScale: startScaleVal = 1, arcsOpacity: startOpacityVal = 1 } = this.state.animationsValues\r\n        const endVal = 1\r\n\r\n        const rangeScale = endVal - startScaleVal\r\n        const rangeOpacity = endVal - startOpacityVal\r\n\r\n        this.createAnimation(`anim-arcs-scale`, (progress) => {\r\n            const iterScaleVal = rangeScale * progress\r\n            const iterOpacityVal = rangeOpacity * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    arcsScale: startScaleVal + iterScaleVal,\r\n                    arcsOpacity: startOpacityVal + iterOpacityVal,\r\n                }\r\n            })\r\n        }, 400)\r\n    }\r\n\r\n    handleFadeOutArcs = () => {\r\n        const { arcsScale: startScaleVal = 1, arcsOpacity: startOpacityVal = 1 } = this.state.animationsValues\r\n        const endVal = 0\r\n\r\n        const rangeScale = endVal - startScaleVal\r\n        const rangeOpacity = endVal - startOpacityVal\r\n\r\n        this.createAnimation(`anim-arcs-scale`, (progress) => {\r\n            const iterScaleVal = rangeScale * progress\r\n            const iterOpacityVal = rangeOpacity * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    arcsScale: startScaleVal + iterScaleVal,\r\n                    arcsOpacity: startOpacityVal + iterOpacityVal,\r\n                }\r\n            })\r\n        }, 400)\r\n    }\r\n\r\n    handleFadeInAreas = () => {\r\n        const { areaScale: startScaleVal = 1, areaOpacity: startOpacityVal = 1 } = this.state.animationsValues\r\n        const endVal = 1\r\n\r\n        const rangeScale = endVal - startScaleVal\r\n        const rangeOpacity = endVal - startOpacityVal\r\n\r\n        this.createAnimation(`anim-area-scale`, (progress) => {\r\n            const iterScaleVal = rangeScale * progress\r\n            const iterOpacityVal = rangeOpacity * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    areaScale: startScaleVal + iterScaleVal,\r\n                    areaOpacity: startOpacityVal + iterOpacityVal,\r\n                }\r\n            })\r\n        }, 400)\r\n    }\r\n\r\n    handleFadeOutAreas = () => {\r\n        const { areaScale: startScaleVal = 1, areaOpacity: startOpacityVal = 1 } = this.state.animationsValues\r\n        const endVal = 0\r\n\r\n        const rangeScale = endVal - startScaleVal\r\n        const rangeOpacity = endVal - startOpacityVal\r\n\r\n        this.createAnimation(`anim-area-scale`, (progress) => {\r\n            const iterScaleVal = rangeScale * progress\r\n            const iterOpacityVal = rangeOpacity * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    areaScale: startScaleVal + iterScaleVal,\r\n                    areaOpacity: startOpacityVal + iterOpacityVal,\r\n                }\r\n            })\r\n        }, 400)\r\n    }\r\n\r\n    handleFadeOutDatasets = (dataset, params) => {\r\n        // console.log(\"handleFadeOutDatasets: \", dataset)\r\n\r\n        // console.log(params)\r\n\r\n        params.length = dataset[0].list.length\r\n\r\n        this.createAnimation(`anim-prev-datasets`, (progress) => {\r\n            if (progress < 1) {\r\n                const areas = dataset.filter(item => item.type === \"area\")\r\n                const bars = dataset.filter(item => item.type === \"bar\")\r\n                const lines = dataset.filter(item => item.type === \"line\")\r\n\r\n                const scaleX = 1 + (1 * progress)\r\n                // const scaleY = params.height * progress\r\n    \r\n                const canvasBars = this.calcBars(bars, {\r\n                    ...params,\r\n                    scale: { x: scaleX },\r\n                    opacity: 1 - progress,\r\n                    nativeOpacity: true,\r\n                })\r\n    \r\n                const canvasAreas = this.calcAreas(areas, {\r\n                    ...params,\r\n                    scale: progress,\r\n                    opacity: 1 - progress,\r\n                })\r\n    \r\n                const canvasLines = this.calcLines(lines, {\r\n                    ...params,\r\n                    // scale: { x: scaleX },\r\n                    opacity: 1 - progress,\r\n                })\r\n    \r\n                this.additionalDraw.push([\r\n                    \"beforeLines\",\r\n                    [\r\n                        ...canvasBars,\r\n                        ...canvasAreas,\r\n                    ]\r\n                ])\r\n    \r\n                this.additionalDraw.push([\r\n                    \"afterLines\",\r\n                    [\r\n                        ...canvasLines,\r\n                    ]\r\n                ])\r\n            }\r\n        }, 400)\r\n    }\r\n\r\n    handleFadeInSelectArc = (id) => {\r\n        const { selectArcShow = {} } = this.state.animationsValues\r\n\r\n        const show = selectArcShow[id] || 0\r\n\r\n        const endVal = 1\r\n\r\n        const range = endVal - show\r\n\r\n        this.createAnimation(`anim-select-arc-show-${id}`, (progress) => {\r\n            const iterShow = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    selectArcShow: {\r\n                        ...(this.state.animationsValues.selectArcShow || {}),\r\n                        [id]: show + iterShow,\r\n                    }\r\n                }\r\n            })\r\n        }, 200)\r\n    }\r\n    \r\n    handleFadeOutSelectArc = (id) => {\r\n        const { selectArcShow = {} } = this.state.animationsValues\r\n\r\n        const show = selectArcShow[id] || 1\r\n\r\n        const endVal = 0\r\n\r\n        const range = endVal - show\r\n\r\n        this.createAnimation(`anim-select-arc-show-${id}`, (progress) => {\r\n            const iterShow = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    selectArcShow: {\r\n                        ...(this.state.animationsValues.selectArcShow || {}),\r\n                        [id]: show + iterShow,\r\n                    }\r\n                }\r\n            })\r\n        }, 200)\r\n    }\r\n\r\n    isTypeAnimating(...types) {\r\n        return types.some(type =>\r\n            this.animations\r\n                .filter(item => item !== false)\r\n                .some(item => item.type.indexOf(type) > -1)\r\n        )\r\n    }\r\n\r\n    minMaxLines = {}\r\n\r\n    handleScale(type, graphMinMax) {\r\n        const { layout } = this.props\r\n\r\n        const [min, max] = graphMinMax[type]\r\n\r\n        // if (Object.keys(this.minMaxLines).includes(type) === false) {\r\n        //     this.minMaxLines[type] = [9999999999, 0]\r\n        // }\r\n\r\n        // const prevMin = this.minMaxLines[type][0]\r\n        // const prevMax = this.minMaxLines[type][1]\r\n\r\n        let prevMin = 9999999999\r\n        let prevMax = 0\r\n\r\n        if (this.state.graphMinMax.hasOwnProperty(type) && this.state.graphMinMax[type].length === 2) {\r\n            prevMin = this.state.graphMinMax[type][0]\r\n            prevMax = this.state.graphMinMax[type][1]\r\n        }\r\n\r\n        if (prevMin !== min || prevMax !== max) {\r\n            // console.log(\"Anim scale min: \", [prevMin, min])\r\n            // console.log(\"Anim scale max: \", [prevMax, max])\r\n\r\n            const minYRange = min - prevMin\r\n            const maxYRange = max - prevMax\r\n    \r\n            // let animateYLinesDir = maxY - minY > prevMax - prevMin? 1 : -1\r\n            // let animHeight = maxY - minY\r\n    \r\n            let animateYLinesDir = prevMax > max ? 1 : -1\r\n            let animHeight = Math.abs(maxYRange)\r\n    \r\n            if (prevMax == max) {\r\n                animateYLinesDir = prevMin< min ? 1 : -1\r\n                animHeight = Math.abs(minYRange)\r\n            }\r\n    \r\n            if (Math.abs(animHeight) > layout.height / 2) {\r\n                const direction = animHeight >= 0 ? 1 : -1\r\n    \r\n                animHeight = (layout.height / 2) * direction\r\n            }\r\n    \r\n            const animationStep = ([minR, maxR], [_minY, _maxY]) => progress => {\r\n                const rangeMinProgress = minR * progress\r\n                const rangeMaxXProgress = maxR * progress\r\n    \r\n                const newMinY = rangeMinProgress + _minY\r\n    \r\n                const newMaxY = rangeMaxXProgress + _maxY\r\n    \r\n                const animateYLines = progress > 0 ? progress * animateYLinesDir : animateYLinesDir\r\n    \r\n                // const animHeight = 50\r\n                const direction = animateYLines >= 0 ? 1 : -1\r\n                const reverseProgress = (1 - Math.abs(animateYLines))\r\n    \r\n                const cHeight =\r\n                    animateYLines !== 0 && reverseProgress !== 0 ?\r\n                        animHeight * reverseProgress * direction :\r\n                        0\r\n    \r\n                this.updateGraphOptions({\r\n                    ...this.state.graphMinMax,\r\n                    [type]: [newMinY, newMaxY]\r\n                }, cHeight)\r\n            }\r\n\r\n            this.createAnimation(`anim-graph-${type}`, animationStep([\r\n                    minYRange,\r\n                    maxYRange,\r\n                ], [\r\n                    prevMin,\r\n                    prevMax,\r\n                ]), 100)\r\n\r\n            // this.minMaxLines[type] = [min, max]\r\n        } else {\r\n            this.updateGraphOptions({\r\n                ...this.state.graphMinMax,\r\n                [type]: [min, max]\r\n            }, 0)\r\n        }\r\n    }\r\n\r\n    handleAnimScale(type, minMax, duration = 150, animYlines = false) {\r\n        const { layout, percentage = false } = this.props\r\n\r\n        let prevMin = 0\r\n        let prevMax = 10\r\n\r\n        const [min, max] = minMax[type]\r\n\r\n        if (this.state.graphMinMax.hasOwnProperty(type) && this.state.graphMinMax[type].length === 2) {\r\n            prevMin = this.state.graphMinMax[type][0]\r\n            prevMax = this.state.graphMinMax[type][1]\r\n        }\r\n\r\n        const fromValue = [\r\n            prevMin,\r\n            prevMax\r\n        ]\r\n\r\n        const toValue = [\r\n            min,\r\n            max\r\n        ]\r\n\r\n        const prevHeight = Math.abs(fromValue[1] - fromValue[0])\r\n        const currentHeight = Math.abs(toValue[1] - toValue[0])\r\n\r\n        this.zoomFactor = prevHeight > currentHeight ? prevHeight / currentHeight : currentHeight / prevHeight\r\n\r\n        // if (this.zoomFactor > 1) this.zoomFactor = 1\r\n\r\n        const ranges = [\r\n            (toValue[0] - fromValue[0]),\r\n            (toValue[1] - fromValue[1]),\r\n        ]\r\n\r\n        let animateYLinesDir = prevMax > max ? 1 : -1\r\n        let animHeight = Math.abs(ranges[1])\r\n\r\n        if (prevMax == max) {\r\n            animateYLinesDir = prevMin < min ? 1 : -1\r\n            animHeight = Math.abs(ranges[0])\r\n        }\r\n\r\n        if (Math.abs(animHeight) > layout.height / 2) {\r\n            const direction = animHeight >= 0 ? 1 : -1\r\n\r\n            animHeight = (layout.height / 2) * direction\r\n        }\r\n\r\n        if (ranges[0] !== 0 || ranges[1] !== 0) {\r\n            this.createAnimation(`anim-y-minmax-${type}`, (progress) => {\r\n                // this.log.push([`anim-y-minmax-${type}`, progress])\r\n\r\n                const minValue = fromValue[0] + ranges[0] * progress\r\n                const maxValue = fromValue[1] + ranges[1] * progress\r\n    \r\n                // const animateYLines = progress > 0 ? progress * animateYLinesDir : animateYLinesDir\r\n    \r\n                // const animHeight = 50\r\n                // const direction = animateYLines >= 0 ? 1 : -1\r\n                // const reverseProgress = (1 - Math.abs(animateYLines))\r\n    \r\n                // const cHeight =\r\n                //     animateYLines !== 0 && reverseProgress !== 0 ?\r\n                //         animHeight * reverseProgress * direction :\r\n                //         0\r\n    \r\n                const cHeight = animYlines ? progress * animateYLinesDir : undefined\r\n\r\n                this.updateGraphOptions({\r\n                    ...this.state.graphMinMax,\r\n                    [type]: [minValue, maxValue]\r\n                }, percentage === false ? cHeight : 1)\r\n            }, duration)\r\n        } else {\r\n            this.updateGraphOptions({\r\n                ...this.state.graphMinMax,\r\n                [type]: toValue\r\n            }, animYlines ? 1 : undefined)\r\n        }\r\n    }\r\n\r\n    handleScaleYMinMax() {\r\n        // const { yMinMax: startVal = 0 } = this.state.animationsValues\r\n        const startVal = 0\r\n        const endVal = 1\r\n\r\n        const range = endVal - startVal\r\n\r\n        this.createAnimation(`anim-y-minmax`, (progress) => {\r\n            const iterVal = range * progress\r\n\r\n            this.setState({\r\n                animationsValues: {\r\n                    ...this.state.animationsValues,\r\n                    yMinMax: startVal + iterVal,\r\n                }\r\n            })\r\n        }, 150)\r\n    }\r\n\r\n    handleApplyVisibility = (visibled) => {\r\n        const { dataset = [] } = this.props\r\n\r\n        const { visibility = {} } = this.state\r\n\r\n        const keyVisibility = Object.keys(visibility)\r\n\r\n        const idsDataset = dataset.map(item => item.id)\r\n\r\n        for (let index = 0; index < idsDataset.length; index++) {\r\n            const id = idsDataset[index]\r\n\r\n            const isVisible = keyVisibility.includes(id) && visibility[id] == 1\r\n            \r\n            if (isVisible && !visibled.includes(id)) {\r\n                this.handleFadeOutLine(id)\r\n            } else if (!isVisible && visibled.includes(id)) {\r\n                this.handleFadeInLine(id)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCreateLabelX() {\r\n        const { id, scroll, labels, layout, width } = this.props\r\n\r\n        const { graphLayout } = this.state\r\n\r\n        return new LabelsX({\r\n            id, \r\n            width,\r\n            scroll,\r\n            labels,\r\n            layout,\r\n            graphLayout,\r\n            getLabel: this.getLabelText.bind(this),\r\n            getLabelIndexByX: this.getLabelIndexByRelativeX.bind(this),\r\n        })\r\n    }\r\n\r\n    handleZoom() {\r\n        const { zoom = false } = this.props\r\n\r\n        const { showInfo: index = false } = this.state\r\n\r\n        if (index !== false && zoom === false) {\r\n            const { labels = [], zoomType = \"none\" } = this.props\r\n    \r\n            if (zoomType !== \"none\") {\r\n                const unixTimestamp = labels[index]\r\n\r\n                this.isShowInfo = false\r\n    \r\n                this.setState({\r\n                    showInfo: false\r\n                })\r\n    \r\n                this.props.onZoom(unixTimestamp, index)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { allowXAsix = false, mini = false } = this.props\r\n\r\n        this.canvasNode = cre(\"canvas\")\r\n\r\n        this.showInfoNode = cre(\"div\", {\r\n            className: style.canvas__show_info,\r\n            style: `opacity: 0;top: -${this.props.layout.height}px;`,\r\n            onMouseDown: this.eventClickShowInfo.bind(this),\r\n        })\r\n\r\n        this.showSelectArc = cre(\"div\", {\r\n            className: style.canvas__show_select_arc,\r\n            style: `opacity: 0;top: -${this.props.layout.height}px;`,\r\n        })\r\n\r\n        let events = {}\r\n\r\n        if (!mini) {\r\n            events = {\r\n                onTouchMove: this.eventTouchMove.bind(this),\r\n                onMouseMove: this.eventMouseMove.bind(this),\r\n                onMouseLeave: this.eventMouseLeave.bind(this),\r\n                onMouseEnter: this.eventMouseEnter.bind(this),\r\n                onTouchStart: this.eventMouseDown.bind(this),\r\n            }\r\n        }\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.canvas_wrapper,\r\n            children: this.canvasNode,\r\n            ...events,\r\n        })\r\n\r\n        this.bars = new BarChart()\r\n        this.bars.renderDom(this.element)\r\n\r\n        this.element.appendChild(this.showInfoNode)\r\n        this.element.appendChild(this.showSelectArc)\r\n\r\n        if (allowXAsix) {\r\n            this.labelX = this.handleCreateLabelX()\r\n\r\n            this.labelX.renderDom(this.element)\r\n        }\r\n        \r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default Charts\r\n","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./style.css\"\r\nimport CheckedIcon from \"svg/checked.svg\"\r\n\r\nimport {\r\n    MODE_COLOR_DAY,\r\n    MODE_COLOR_NIGHT,\r\n} from 'constants/COLORS'\r\n\r\nimport { hexToRgb, rgbToHsl, hslToRgb } from 'helpers/Colors'\r\n\r\n/*class LineSwitcher extends BaseComponent {\r\n    static defaultProps = {\r\n        dataset: [],\r\n        visibled: [],\r\n    }\r\n\r\n    static createItems(dataset = [], visibled = [], onSwitch) {\r\n        return dataset.map(item =>\r\n            cre(\"div\", {\r\n                id: `switcher-for-${item.id}`,\r\n                className: style.line__switchers__item,\r\n                children: [\r\n                    cre(\"div\", {\r\n                        className: style.line__switchers__item__check,\r\n                        style: `background-color: ${item.color}`,\r\n                        children: [\r\n                            cre(\"div\", {\r\n                                className: style.line__switchers__item__check__circle_blank,\r\n                                style: `transform: scale(${!visibled.includes(item.id) ? 1 : 0});`,\r\n                            }),\r\n                            cre(\"div\", {\r\n                                className: style.line__switchers__item__check__icon,\r\n                                style: `background-image: url(${CheckedIcon})`,\r\n                            }),\r\n                        ],\r\n                    }),\r\n                    cre(\"div\", {\r\n                        className: style.line__switchers__item__label,\r\n                        text: item.label,\r\n                    }),\r\n                ],\r\n                onClick: () => onSwitch(item.id),\r\n            }),\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { dataset = [], visibled = [] } = this.props\r\n\r\n        if (prevProps.dataset !== dataset) {\r\n            this.handleReRender()\r\n        } else if (prevProps.visibled !== visibled) {\r\n            this.handleApplayVisibled()\r\n        }\r\n    }\r\n\r\n    handleApplayVisibled() {\r\n        const { dataset = [], visibled = [] } = this.props\r\n\r\n        dataset.forEach(item => {\r\n            const switcher = this.items.find(\r\n                _switcher => _switcher.id === `switcher-for-${item.id}`,\r\n            )\r\n\r\n            if (switcher) {\r\n                const circleBlank = switcher.querySelector(\r\n                    `.${style.line__switchers__item__check__circle_blank}`,\r\n                )\r\n\r\n                if (circleBlank) {\r\n                    circleBlank.style =\r\n                        `${style.line__switchers__item__check__circle_blank};` +\r\n                        `transform: scale(${!visibled.includes(item.id) ? 0.9 : 0});`\r\n                } else {\r\n                    throw new Error(\r\n                        `Can't find circle-blank by selector .` +\r\n                        style.line__switchers__item__check__circle_blank +\r\n                        `in swticher for ${item.id}`,\r\n                    )\r\n                }\r\n            } else {\r\n                throw new Error(`Can't find swticher for ${item.id}`)\r\n            }\r\n        })\r\n    }\r\n\r\n    handleReRender() {\r\n        const { dataset = [], visibled = [], onSwitch } = this.props\r\n        \r\n        this.items.forEach(item => item.remove())\r\n        \r\n        this.items = LineSwitcher.createItems(dataset, visibled, onSwitch)\r\n\r\n        this.items.forEach(item => this.element.appendChild(item))\r\n    }\r\n\r\n    render() {\r\n        const { dataset = [], visibled = [], onSwitch } = this.props\r\n\r\n        this.items = LineSwitcher.createItems(dataset, visibled, onSwitch)\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.line__switchers,\r\n            children: this.items\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}*/\r\n\r\nclass LineSwitcher extends BaseComponent {\r\n    static defaultProps = {\r\n        dataset: [],\r\n        visibled: [],\r\n    }\r\n\r\n    static getDarknessColor(color, opacity = 1) {\r\n        let rgb = hexToRgb(color)\r\n\r\n        const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b)\r\n\r\n        const darknessRgb = hslToRgb(hsl[0], hsl[1] - 0.18, hsl[2])\r\n\r\n        rgb.r = Math.round(darknessRgb[0])\r\n        rgb.g = Math.round(darknessRgb[1])\r\n        rgb.b = Math.round(darknessRgb[2])\r\n\r\n        if (rgb.r > 255) rgb.r = 255\r\n        if (rgb.g > 255) rgb.g = 255\r\n        if (rgb.b > 255) rgb.b = 255\r\n\r\n        if (opacity < 1) {\r\n            color = `rgba(${rgb.r},${rgb.g},${rgb.b},${opacity})`\r\n        } else {\r\n            color = `rgb(${rgb.r},${rgb.g},${rgb.b})`\r\n        }\r\n\r\n        return color\r\n    }\r\n\r\n    static getColor(mode, color, opacity = 1) {\r\n        let rgb = hexToRgb(color)\r\n\r\n        if (mode === MODE_COLOR_NIGHT) {\r\n            return this.getDarknessColor(color, opacity)\r\n        }\r\n\r\n        if (opacity < 1) {\r\n            color = `rgba(${rgb.r},${rgb.g},${rgb.b},${opacity})`\r\n        } else {\r\n            color = `rgb(${rgb.r},${rgb.g},${rgb.b})`\r\n        }\r\n\r\n        return color\r\n    }\r\n\r\n    static createItems(dataset = [], visibled = [], mode = MODE_COLOR_DAY, onMouseDown) {\r\n        if (dataset.length < 2) return []\r\n\r\n        return dataset.map(item => {\r\n            const color = LineSwitcher.getColor(mode, item.color)\r\n            // const darknessColor = LineSwitcher.getDarknessColor(item.color)\r\n\r\n            const visible = visibled.includes(item.id)\r\n\r\n            return cre(\"div\", {\r\n                id: `switcher-for-${item.id}`,\r\n                className: [style.line__switchers__item, visible ? style.line__switchers__item_active : \"\"],\r\n                style: `border-color: ${color};` + (!visible ? \"\" : `background-color: ${color}`),\r\n                children: [\r\n                    cre(\"div\", {\r\n                        className: style.line__switchers__item__check,\r\n                        children: [\r\n                            cre(\"div\", {\r\n                                className: style.line__switchers__item__check__icon,\r\n                                style: `background-image: url(${CheckedIcon})`,\r\n                            }),\r\n                        ],\r\n                    }),\r\n                    cre(\"div\", {\r\n                        className: style.line__switchers__item__label,\r\n                        text: item.label,\r\n                        style: !visible ? `color: ${color};` : ``,\r\n                    }),\r\n                    cre(\"div\", {\r\n                        className: style.line__switchers__item__tap_indicator,\r\n                        style: `background-color: ${color};`,\r\n                    }),\r\n                ],\r\n                onMouseDown: (e) => onMouseDown(e, item),\r\n                onTouchStart: (e) => onMouseDown(e, item),\r\n            })\r\n        })\r\n    }\r\n\r\n    touching = false\r\n    longTouchingTimeout = 500\r\n\r\n    componentDidMount() {\r\n        this.attachEvents()\r\n\r\n        this.fadeIn()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { dataset = [], visibled = [] } = this.props\r\n\r\n        const { mode = MODE_COLOR_DAY } = this.props\r\n\r\n        if (prevProps.dataset !== dataset) {\r\n            this.handleReRender()\r\n        } else if (\r\n            prevProps.visibled !== visibled ||\r\n            prevProps.mode !== mode\r\n        ) {\r\n            this.handleApplayVisibled()\r\n        }\r\n    }\r\n\r\n    attachEvents() {\r\n        document.addEventListener(\"mouseup\", this.eventMouseUp.bind(this))\r\n        document.addEventListener(\"touchend\", this.eventMouseUp.bind(this))\r\n    }\r\n\r\n    eventMouseUp(e) {\r\n        if (this.touching) {\r\n            const { item, timeoutId, long = false } = this.touching\r\n\r\n            const switcher = this.items.find(\r\n                _switcher => _switcher.id === `switcher-for-${item.id}`,\r\n            )\r\n\r\n            if (switcher) {\r\n                const closestEl = e.target.closest(`.${style.line__switchers__item}`)\r\n                const isOutside = closestEl !== switcher\r\n    \r\n                if (!isOutside) {\r\n                    // console.log(\"mouseup\", item.id)\r\n    \r\n                    switcher.classList.remove(style.line__switchers__item__touching)\r\n                    clearTimeout(timeoutId)\r\n    \r\n                    if (!long) {\r\n                        const { visibled = [] } = this.props\r\n\r\n                        const isThisOnlyVisible = visibled.length === 1 && visibled[0] === item.id\r\n\r\n                        if (!isThisOnlyVisible) {\r\n                            this.props.onSwitch(item.id)\r\n                        } else {\r\n                            switcher.classList.add(style.line__switchers__item_shake)\r\n\r\n                            setTimeout(() => {\r\n                                switcher.classList.remove(style.line__switchers__item_shake)\r\n                            }, 820)\r\n                        }\r\n                    }\r\n        \r\n                    this.touching = false\r\n                } else {\r\n                    // console.log(\"outside\", item.id, e.target)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseDown( e, item ) {\r\n        // console.log(\"mousedown\", item.id)\r\n\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        const switcher = this.items.find(\r\n            _switcher => _switcher.id === `switcher-for-${item.id}`,\r\n        )\r\n\r\n        if (switcher) {\r\n            switcher.classList.add(style.line__switchers__item__touching)\r\n\r\n            const timeoutId = setTimeout(() => {\r\n                this.touching.long = true\r\n\r\n                // console.log(\"timeout\", item.id)\r\n\r\n                this.props.onSelectOne(item.id)\r\n            }, this.longTouchingTimeout)\r\n\r\n            this.touching = {\r\n                item,\r\n                timeoutId,\r\n                long: false\r\n            }\r\n        }\r\n    }\r\n\r\n    handleApplayVisibled() {\r\n        const { dataset = [], visibled = [] } = this.props\r\n\r\n        const { mode = MODE_COLOR_DAY } = this.props\r\n\r\n        dataset.forEach(item => {\r\n            const switcher = this.items.find(\r\n                _switcher => _switcher.id === `switcher-for-${item.id}`,\r\n            )\r\n\r\n            const visible = visibled.includes(item.id)\r\n\r\n            if (switcher) {\r\n                const label = switcher.querySelector(\r\n                    `.${style.line__switchers__item__label}`,\r\n                )\r\n\r\n                const color = LineSwitcher.getColor(mode, item.color)\r\n\r\n                switcher.style = `border-color: ${color};` + (visible ? `background-color: ${color}` : \"\")\r\n                switcher.classList.toggle(style.line__switchers__item_active, visible)\r\n                \r\n                if (label) {\r\n                    label.style = !visible ? `color: ${item.color};` : ``\r\n                }\r\n            } else {\r\n                // throw new Error(`Can't find swticher for ${item.id}`)\r\n            }\r\n        })\r\n    }\r\n\r\n    fadeIn() {\r\n        setTimeout(() => {\r\n            this.items.forEach(item => item.classList.add(style.line__switchers__item_fadein))            \r\n        }, 200)\r\n    }\r\n\r\n    fadeOut() {\r\n        setTimeout(() => {\r\n            this.items.forEach(item => item.classList.remove(style.line__switchers__item_fadein))\r\n        }, 200)\r\n    }\r\n\r\n    handleReRender() {\r\n        const { dataset = [], visibled = [], mode = MODE_COLOR_DAY } = this.props\r\n\r\n        this.items.forEach(item => item.remove())\r\n\r\n        this.items = LineSwitcher.createItems(dataset, visibled, mode, this.handleMouseDown.bind(this))\r\n\r\n        this.items.forEach(item => this.element.appendChild(item))\r\n\r\n        this.fadeIn()\r\n    }\r\n\r\n    render() {\r\n        const { dataset = [], visibled = [], mode = MODE_COLOR_DAY } = this.props\r\n\r\n        this.items = LineSwitcher.createItems(dataset, visibled, mode, this.handleMouseDown.bind(this))\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.line__switchers,\r\n            children: this.items\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default LineSwitcher\r\n","class DataChart {\r\n    constructor(json) {\r\n        this.data = json\r\n    }\r\n\r\n    getXAsix() {\r\n        const id = Object.keys(this.data.types).find(\r\n            id => this.data.types[id] === \"x\",\r\n        )\r\n\r\n        if (!id) {\r\n            throw new Error(\"Can't found x type\")\r\n        }\r\n\r\n        const column = this.data.columns.find(\r\n            item => item.length > 0 && item[0] === id,\r\n        )\r\n\r\n        if (!column) {\r\n            throw new Error(\"Can't found x column\")\r\n        }\r\n\r\n        return column.slice(1)\r\n    }\r\n\r\n    getCharts() {\r\n        return this.data.columns\r\n            .filter(item => item[0] !== \"x\")\r\n            .map(item => ({\r\n                id: item[0],\r\n                type: this.data.types[item[0]],\r\n                label: this.data.names[item[0]],\r\n                color: this.data.colors[item[0]],\r\n                list: item.slice(1)\r\n            }))\r\n    }\r\n\r\n    getLines() {\r\n        const lineIds = Object.keys(this.data.types).filter(\r\n            id => this.data.types[id] === \"line\",\r\n        )\r\n\r\n        if (lineIds.length === 0) {\r\n            throw new Error(\"Can't found any lines\")\r\n        }\r\n\r\n        const columns = this.data.columns.filter(\r\n            item => item.length > 0 && lineIds.includes(item[0]),\r\n        )\r\n\r\n        if (columns.length !== lineIds.length) {\r\n            throw new Error(`Can't found lines #${lineIds.join(\",\")} in columns`)\r\n        }\r\n\r\n        return lineIds.map(lineId => this.getLine(lineId))\r\n    }\r\n\r\n    getLine(id) {\r\n        const column = this.data.columns.find(\r\n            item => item.length > 0 && item[0] === id,\r\n        )\r\n\r\n        const name = this.data.names[id]\r\n        const color = this.data.colors[id]\r\n\r\n        if (!column) {\r\n            throw new Error(`Can't found ${id} column`)\r\n        }\r\n\r\n        if (!name) {\r\n            throw new Error(`Can't name for type #${id}`)\r\n        }\r\n\r\n        if (!color) {\r\n            throw new Error(`Can't found color for type #${id}`)\r\n        }\r\n\r\n        return {\r\n            id,\r\n            label: name,\r\n            color,\r\n            list: column.slice(1),\r\n        }\r\n    }\r\n\r\n    IsYScaled() {\r\n        return !!this.data.y_scaled\r\n    }\r\n\r\n    IsStacked() {\r\n        return !!this.data.stacked\r\n    }\r\n\r\n    IsPercentage() {\r\n        return !!this.data.percentage\r\n    }\r\n\r\n    get length() {\r\n        return this.data.length\r\n    }\r\n}\r\n\r\nexport default DataChart\r\n","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./style.css\"\r\nimport Charts from '../Charts'\r\nimport { getClickPosition } from 'helpers/utils'\r\n\r\nclass MiniMap extends BaseComponent {\r\n    static defaultProps = {\r\n        id: 0,\r\n        dataset: [],\r\n        visibled: [],\r\n        layout: {},\r\n        scroll: 0,\r\n        width: 0,\r\n        yScaled: false,\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const { id, dataset = [], mode, layout, yScaled } = props\r\n\r\n        this.cartMiniMap = new Charts({\r\n            id,\r\n            mode,\r\n            mini: true,\r\n            lineWidth: 1,\r\n            dataset,\r\n            yScaled,\r\n            allowXAsix: false,\r\n            allowYAsix: false,\r\n            layout: {\r\n                width: layout.width,\r\n                height: 50,\r\n            },\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.attachEvents()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { scroll, width, dataset, layout, visibled, yScaled, mode } = this.props\r\n\r\n        if (\r\n            prevProps.scroll !== scroll ||\r\n            prevProps.width !== width\r\n        ) {\r\n            this.minimapZone.style.left = `${scroll - width}%`\r\n            this.minimapZone.style.width = `${width}%`\r\n    \r\n            this.minimapLeftZone.style = `width: ${scroll - width}%`\r\n            this.minimapRightZone.style = `width: ${100 - scroll}%`\r\n    \r\n            this.minimapLeftSizeZone.style = `left: ${scroll - width}%;`\r\n            this.minimapRightSizeZone.style = `left: ${scroll}%;`\r\n        }\r\n\r\n        if (\r\n            prevProps.dataset !== dataset ||\r\n            prevProps.yScaled !== yScaled ||\r\n            prevProps.visibled !== visibled ||\r\n            prevProps.layout !== layout ||\r\n            prevProps.mode !== mode\r\n        ) {\r\n            this.cartMiniMap.setProps({\r\n                yScaled,\r\n                visibled,\r\n                dataset,\r\n                mode,\r\n                layout: {\r\n                    width: (layout.width - (18 * 2)),\r\n                    height: 45,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    /* EVENTS */\r\n\r\n    dettachEvents() {\r\n        document.removeEventListener(\"mousemove\", this.documentEventMouseMove)\r\n        document.removeEventListener(\"mouseup\", this.documentEventMouseUp)\r\n        document.removeEventListener(\"touchmove\", this.documentEventMouseMove)\r\n        document.removeEventListener(\"touchend\", this.documentEventMouseUp)\r\n    }\r\n\r\n    attachEvents() {\r\n        this.documentEventMouseMove = this.eventMouseMove.bind(this)\r\n        this.documentEventMouseUp = this.eventMouseUp.bind(this)\r\n\r\n        document.addEventListener(\"mousemove\", this.documentEventMouseMove)\r\n        document.addEventListener(\"mouseup\", this.documentEventMouseUp)\r\n        document.addEventListener(\"touchmove\", this.documentEventMouseMove)\r\n        document.addEventListener(\"touchend\", this.documentEventMouseUp)\r\n    }\r\n\r\n    handleChange({ scroll, width }) {\r\n        if (this.props.grid) {\r\n            const { dataset = [] } = this.props\r\n\r\n            const length = dataset.length > 0 ? dataset[0].list.length : 0\r\n            const step = length > 0 ? 100 / length : 1\r\n\r\n            const newScroll = Math.ceil(scroll / step) * step\r\n            const newWidth = Math.ceil(width / step) * step\r\n\r\n            // console.log({\r\n            //     step,\r\n            //     length,\r\n            //     scroll,\r\n            //     width,\r\n            //     newScroll,\r\n            //     newWidth,\r\n            // })\r\n\r\n            this.props.onChange({\r\n                scroll: newScroll,\r\n                width: newWidth,\r\n            })\r\n        } else {\r\n            this.props.onChange({\r\n                scroll,\r\n                width,\r\n            })\r\n        }\r\n    }\r\n\r\n    eventMouseMove = e => {\r\n        if (this.isChangePosition) {\r\n            const { layout, width } = this.props\r\n            const { scroll } = this.changePositionEvent\r\n\r\n            const clickPosition = {\r\n                x: this.changePositionEvent.x,\r\n                y: this.changePositionEvent.y,\r\n            }\r\n\r\n            const currentPosition = getClickPosition(e)\r\n\r\n            let dinst = clickPosition.x - currentPosition.x\r\n            const direction = dinst > 0 ? 1 : 0\r\n\r\n            dinst = Math.abs(dinst)\r\n\r\n            if (dinst !== 0) {\r\n                const diffScroll = (dinst * 100) / layout.width\r\n                let newScroll = scroll + diffScroll\r\n\r\n                if (direction === 1) {\r\n                    newScroll = scroll - diffScroll\r\n                }\r\n\r\n                if (newScroll - width < 0) {\r\n                    newScroll = width\r\n                }\r\n\r\n                if (newScroll > 100) {\r\n                    newScroll = 100\r\n                }\r\n\r\n                if (this.props.scroll !== newScroll) {\r\n                    this.handleChange({\r\n                        scroll: newScroll,\r\n                        width,\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.isChangeSize) {\r\n            const { layout } = this.props\r\n            const { width, side = \"left\" } = this.changeSizeEvent\r\n\r\n            const clickPosition = {\r\n                x: this.changeSizeEvent.x,\r\n                y: this.changeSizeEvent.y,\r\n            }\r\n\r\n            const currentPosition = getClickPosition(e)\r\n\r\n            let dinst = clickPosition.x - currentPosition.x\r\n            const direction = dinst > 0 ? 1 : 0\r\n\r\n            dinst = Math.abs(dinst)\r\n\r\n            if (dinst !== 0) {\r\n                if (side === \"left\") {\r\n                    const { scroll } = this.props\r\n\r\n                    const percentDinst = (dinst * 100) / layout.width\r\n                    let newWidth = width - percentDinst\r\n\r\n                    if (direction === 1) {\r\n                        newWidth = width + percentDinst\r\n                    }\r\n\r\n                    if (newWidth > scroll) {\r\n                        newWidth = scroll\r\n                    }\r\n\r\n                    if (newWidth < 5) {\r\n                        newWidth = 5\r\n                    }\r\n\r\n                    if (this.props.width !== newWidth) {\r\n                        this.handleChange({\r\n                            width: newWidth,\r\n                            scroll\r\n                        })\r\n                    }\r\n                } else if (side === \"right\") {\r\n                    const { scroll } = this.changeSizeEvent\r\n\r\n                    const percentDinst = (dinst * 100) / layout.width\r\n                    let newWidth = width + percentDinst\r\n                    let newScroll = scroll + percentDinst\r\n\r\n                    if (direction === 1) {\r\n                        newWidth = width - percentDinst\r\n                        newScroll = scroll - percentDinst\r\n                    }\r\n\r\n                    if (newScroll > 100) {\r\n                        newScroll = 100\r\n\r\n                        const x = scroll - width\r\n\r\n                        newWidth = 100 - x\r\n                    }\r\n\r\n                    if (newWidth < 5) {\r\n                        newWidth = 5\r\n                    }\r\n\r\n                    if (this.props.width !== newWidth) {\r\n                        this.handleChange({\r\n                            width: newWidth,\r\n                            scroll: newScroll,\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    eventMouseUp = () => {\r\n        this.isChangePosition = false\r\n        this.isChangeSize = false\r\n        this.changePositionEvent = false\r\n        this.changeSizeEvent = false\r\n    }\r\n\r\n    eventLeftZoneMouseDown = e => {\r\n        const { width, scroll } = this.props\r\n\r\n        this.isChangeSize = true\r\n        this.changeSizeEvent = {\r\n            ...getClickPosition(e),\r\n            side: \"left\",\r\n            width,\r\n            scroll,\r\n        }\r\n    }\r\n\r\n    eventRightZoneMouseDown = e => {\r\n        const { width, scroll } = this.props\r\n\r\n        this.isChangeSize = true\r\n        this.changeSizeEvent = {\r\n            ...getClickPosition(e),\r\n            side: \"right\",\r\n            width,\r\n            scroll,\r\n        }\r\n    }\r\n\r\n    eventZoneMouseDown = e => {\r\n        const { scroll } = this.props\r\n\r\n        this.isChangePosition = true\r\n        this.changePositionEvent = {\r\n            ...getClickPosition(e),\r\n            scroll,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { scroll, width } = this.props\r\n\r\n        this.minimapLeftZone = cre(\"div\", {\r\n            className: style.minimap__left_zone,\r\n            style: `width: ${scroll - width}%`,\r\n        })\r\n\r\n        this.minimapLeftSizeZone = cre(\"div\", {\r\n            className: style.minimap__left_size_zone,\r\n            style: `left: ${scroll - width}%;`,\r\n            children: [\r\n                cre(\"div\", {\r\n                    className: style.minimap__size_zone__helper,\r\n                    onMouseDown: this.eventLeftZoneMouseDown.bind(this),\r\n                    onTouchStart: this.eventLeftZoneMouseDown.bind(this),\r\n                }),\r\n                cre(\"div\", {\r\n                    className: style.minimap__size_zone__helper__line,\r\n                }),\r\n            ],\r\n        })\r\n\r\n        this.minimapZone = cre(\"div\", {\r\n            className: style.minimap__zone,\r\n            style: `left: ${scroll - width}%; width: ${width}%`,\r\n            onMouseDown: this.eventZoneMouseDown.bind(this),\r\n            onTouchStart: this.eventZoneMouseDown.bind(this),\r\n        })\r\n\r\n        this.minimapRightSizeZone = cre(\"div\", {\r\n            className: style.minimap__right_size_zone,\r\n            style: `left: ${scroll}%;`,\r\n            children: [\r\n                cre(\"div\", {\r\n                    className: style.minimap__size_zone__helper,\r\n                    onMouseDown: this.eventRightZoneMouseDown.bind(this),\r\n                    onTouchStart: this.eventRightZoneMouseDown.bind(this),\r\n                }),\r\n                cre(\"div\", {\r\n                    className: style.minimap__size_zone__helper__line,\r\n                }),\r\n            ],\r\n        })\r\n\r\n        this.minimapRightZone = cre(\"div\", {\r\n            className: style.minimap__right_zone,\r\n            style: `width: ${100 - scroll}%`,\r\n        })\r\n\r\n        this.minimap = cre(\"div\", {\r\n            className: style.minimap,\r\n            children: [\r\n                this.minimapLeftZone,\r\n                this.minimapLeftSizeZone,\r\n                this.minimapZone,\r\n                this.minimapRightSizeZone,\r\n                this.minimapRightZone,\r\n            ],\r\n        })\r\n\r\n        this.canvasWrapper = cre(\"div\", {\r\n            className: style.minimap__canvas_wrapper,\r\n        })\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.charts__minimap_wrapper,\r\n            children: [this.minimap, this.canvasWrapper],\r\n        })\r\n\r\n        this.cartMiniMap.renderDom(this.canvasWrapper)\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default MiniMap\r\n","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./style.css\"\r\nimport { MAP_MONTHS } from 'constants/DATES'\r\n\r\nclass DatesRange extends BaseComponent {\r\n    static defaultProps = {\r\n        from: false,\r\n        to: false,\r\n    }\r\n\r\n    state = {\r\n        date_from: false,\r\n        date_to: false\r\n    }\r\n\r\n    nodes = {\r\n        from: false,\r\n        to: false,\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const { from = false, to = false } = props\r\n\r\n        this.applyTimestamp(from, \"from\")\r\n        this.applyTimestamp(to, \"to\")\r\n\r\n        this.appearDatesRange(this.state.from, this.state.to)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { from = false, to = false } = this.props\r\n        const { from: prevFrom = false, to: prevTo = false } = prevProps\r\n\r\n        const { date_from, date_to } = this.state\r\n        \r\n        if (from !== prevFrom) {\r\n            this.applyTimestamp(from, \"from\")\r\n        }\r\n\r\n        if (to !== prevTo) {\r\n            this.applyTimestamp(to, \"to\")\r\n        }\r\n\r\n        if (date_from !== prevState.date_from) {\r\n            this.applyDateItem(date_from, \"from\")\r\n        }\r\n\r\n        if (!this.isSameDay(date_from, date_to) && date_to !== prevState.date_to) {\r\n            this.applyDateItem(date_to, \"to\")\r\n        }\r\n        \r\n        if (this.isSameDay(date_from, date_to) && this.isDateItemShown(\"to\")) {\r\n            this.hideDateItem(\"to\")\r\n        }\r\n\r\n        // debugger\r\n    }\r\n\r\n    isSameDay(from, to) {\r\n        if (from !== false && to !== false) {    \r\n            return (\r\n                from.year === to.year &&\r\n                from.month === to.month &&\r\n                from.day === to.day\r\n            )\r\n        } else if (from === false && to === false) {\r\n            return false\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    parseTimestamp(unixTimestamp = false) {\r\n        if (unixTimestamp !== false) {\r\n            const date = new Date(unixTimestamp)\r\n\r\n            const year = date.getFullYear()\r\n            const month = MAP_MONTHS[date.getMonth()]\r\n            const day = date.getDate()\r\n\r\n            return {\r\n                year,\r\n                month,\r\n                day\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n    \r\n    applyTimestamp(unixTimestamp = false, type = \"from\") {\r\n        this.setState({\r\n            [`date_${type}`]: this.parseTimestamp(unixTimestamp)\r\n        })\r\n    }\r\n\r\n    createDateItem({ year, month, day }) {\r\n        const yearNode = cre(\"div\", {\r\n            className: style.dates_range__item__year,\r\n            text: year,\r\n        })\r\n\r\n        const monthNode = cre(\"div\", {\r\n            className: style.dates_range__item__month,\r\n            text: month,\r\n        })\r\n\r\n        const dayNode = cre(\"div\", {\r\n            className: style.dates_range__item__day,\r\n            text: day,\r\n        })\r\n\r\n        const itemNode = cre(\"div\", {\r\n            className: style.dates_range__item,\r\n            children: [\r\n                dayNode,\r\n                monthNode,\r\n                yearNode,\r\n            ],\r\n        })\r\n\r\n        return {\r\n            item: itemNode,\r\n            year: yearNode,\r\n            month: monthNode,\r\n            day: dayNode,\r\n        }\r\n    }\r\n\r\n    appearDateItem(params = false, type = \"from\") {\r\n        this.nodes[type] = params === false ? false : this.createDateItem(params)\r\n    }\r\n\r\n    appearDatesRange(from, to) {\r\n        this.appearDateItem(from, \"from\")\r\n        this.appearDateItem(to, \"to\")\r\n    }\r\n\r\n    updateDateItem(params = false, type = \"from\") {\r\n        if (params !== false) {\r\n            this.nodes[type].year.innerText = params.year\r\n            this.nodes[type].month.innerText = params.month\r\n            this.nodes[type].day.innerText = params.day\r\n        }\r\n    }\r\n    \r\n    isDateItemShown(type = \"from\") {\r\n        return this.nodes[type] !== false\r\n    }\r\n\r\n    showDateItem(params = false, type = \"from\") {\r\n        if (params !== false) {\r\n            this.appearDateItem(params, type)\r\n\r\n            if (this.nodes[type]) {\r\n                this.element.appendChild(this.nodes[type].item)\r\n            }\r\n        }\r\n    }\r\n\r\n    hideDateItem(type = \"from\") {\r\n        if (this.nodes[type]) {\r\n            this.element.removeChild(this.nodes[type].item)\r\n\r\n            this.nodes[type] = false\r\n        }\r\n    }\r\n\r\n    applyDateItem(params = false, type = \"from\") {\r\n        if (this.isDateItemShown(type)) {\r\n            if (params !== false) {\r\n                this.updateDateItem(params, type)\r\n            } else {\r\n                this.hideDateItem(type)\r\n            }\r\n        } else if (params !== false) {\r\n            this.showDateItem(params, type)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const children = []\r\n\r\n        if (this.nodes.from) {\r\n            children.push(this.nodes.from.item)\r\n        }\r\n\r\n        if (this.nodes.to) {\r\n            children.push(this.nodes.to.item)\r\n        }\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.dates_range,\r\n            children\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default DatesRange\r\n","import BaseComponent, { cre } from \"components/base\"\r\n\r\nimport Charts from \"components/Charts\"\r\nimport LineSwitcher from \"components/LineSwitcher\"\r\n\r\nimport { throttle } from \"helpers/utils\"\r\nimport DataChart from 'helpers/DataChart'\r\nimport { loadFile } from 'helpers/utils'\r\n\r\nimport ZoomIcon from \"svg/zoom.svg\"\r\n\r\nimport {\r\n    MODE_COLOR_DAY,\r\n    MODE_COLOR_NIGHT,\r\n    MAP_MODE_COLOR_TO_CHART_COLORS,\r\n} from 'constants/COLORS'\r\n\r\nimport {\r\n    MAP_MONTHS,\r\n} from 'constants/DATES'\r\n\r\nimport style from \"./style.css\"\r\nimport MiniMap from './MiniMap'\r\nimport DatesRange from './DatesRange'\r\n\r\nclass ChartItem extends BaseComponent {\r\n    static defaultProps = {\r\n        animateScale: true\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.cart) {\r\n            this.cart.destroy()\r\n            this.cart = null\r\n        }\r\n\r\n        if (this.miniMap) {\r\n            this.miniMap.destroy()\r\n            this.miniMap = null\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const {\r\n            arcMode,\r\n            fontSize,\r\n            loading,\r\n            zoom,\r\n            colors,\r\n            layout,\r\n            mode,\r\n            data\r\n        } = this.props\r\n\r\n        if (prevProps !== fontSize) {\r\n            this.element.setAttribute(\"style\", `font-size: ${fontSize}px`)\r\n        }\r\n\r\n        if (prevProps.mode !== mode) {\r\n            this.applyColorMode()\r\n\r\n            this.cart.setProps({\r\n                mode,\r\n            })\r\n\r\n            this.miniMap.setProps({\r\n                mode,\r\n            })\r\n\r\n            this.lineSwitcher.setProps({\r\n                mode,\r\n            })\r\n        }\r\n\r\n        if (prevProps.arcMode !== arcMode) {\r\n            this.cart.setProps({\r\n                arcMode,\r\n            })\r\n\r\n            this.miniMap.setProps({\r\n                grid: arcMode\r\n            })\r\n        }\r\n\r\n        if (prevProps.colors !== colors) {\r\n            this.cart.setProps({\r\n                colors,\r\n            })\r\n\r\n            this.miniMap.setProps({\r\n                colors,\r\n            })\r\n        }\r\n\r\n        if (\r\n            prevProps.data.title !== data.title ||\r\n            prevProps.loading !== loading\r\n        ) {\r\n            this.updateTitle()\r\n        }\r\n\r\n        if (prevProps.zoom !== zoom) {\r\n            this.element.className = this.getElementClassNames().join(\" \")\r\n        }\r\n\r\n        if (prevProps.data !== data) {\r\n            const {\r\n                data: {\r\n                    visibled = [],\r\n                    dataset = [],\r\n                    labels,\r\n                    scroll,\r\n                    width,\r\n                    yScaled = false,\r\n                    stacked = false,\r\n                    percentage = false,\r\n                }\r\n            } = this.props\r\n\r\n            const length = dataset.length > 0 ? dataset[0].list.length : 0\r\n\r\n            const { limit, offset } = App.calcLimitOffset(length, width, scroll)\r\n\r\n            this.cart.setProps({\r\n                yScaled,\r\n                dataset,\r\n                labels,\r\n                visibled,\r\n                offset,\r\n                limit,\r\n                scroll,\r\n                width,\r\n                stacked,\r\n                percentage,\r\n                zoom,\r\n            })\r\n\r\n            if (\r\n                prevProps.data.dataset !== dataset ||\r\n                prevProps.data.yScaled !== yScaled ||\r\n                prevProps.data.scroll !== scroll ||\r\n                prevProps.data.width !== width ||\r\n                prevProps.data.visibled !== visibled\r\n            ) {\r\n                this.miniMap.setProps({\r\n                    scroll,\r\n                    width,\r\n                    yScaled,\r\n                    visibled,\r\n                    dataset,\r\n                })\r\n\r\n                this.lineSwitcher.setProps({\r\n                    dataset,\r\n                    visibled,\r\n                })\r\n            }\r\n\r\n            if (\r\n                prevProps.data.scroll !== scroll ||\r\n                prevProps.data.width !== width ||\r\n                prevProps.data.dataset !== dataset ||\r\n                prevProps.data.labels !== labels\r\n            ) {\r\n                this.datesRange.setProps({\r\n                    from: labels[offset],\r\n                    to: labels[offset + limit - 1],\r\n                })\r\n            }\r\n        }\r\n\r\n        // if (prevProps.zoom !== false && zoom === false) {\r\n        //     this.zoomOut.classList.toggle(style.charts__zoom_out__show)\r\n        // } else if (prevProps.zoom === false && zoom !== false) {\r\n        //     this.zoomOut.classList.toggle(style.charts__zoom_out__show)\r\n        // }\r\n\r\n        if (prevProps.layout !== layout) {\r\n            this.cart.setProps({\r\n                layout: {\r\n                    width: layout.width,\r\n                    height: 320//(window.innerHeight / 100) * 40,\r\n                },\r\n            })\r\n\r\n            this.miniMap.setProps({\r\n                layout,\r\n            })\r\n        }\r\n    }\r\n\r\n    applyColorMode() {\r\n        const { mode } = this.props\r\n\r\n        this.ownElement.classList.toggle(\r\n            style.mode_night,\r\n            mode === MODE_COLOR_NIGHT,\r\n        )\r\n    }\r\n\r\n    updateTitle() {\r\n        const { data: { title = \"\" }, loading = false } = this.props\r\n\r\n        this.title.innerText = loading ? \"Loading...\" : title\r\n    }\r\n\r\n    changeMiniMap({ width, scroll }) {\r\n        this.props.onChangeOffsets({\r\n            width,\r\n            scroll,\r\n        })\r\n    }\r\n\r\n    getElementClassNames() {\r\n        const {\r\n            zoomType = \"none\",\r\n            zoom = false,\r\n            data: {\r\n                yScaled = false,\r\n                stacked = false,\r\n                percentage = false,\r\n            },\r\n        } = this.props\r\n\r\n        const classNames = []\r\n\r\n        classNames.push(style.charts)\r\n        classNames.push(`${style.charts}__zoom_${zoomType}`)\r\n\r\n        if (zoom) {\r\n            classNames.push(`${style.charts}__zoomed`)\r\n        }\r\n\r\n        if (yScaled) {\r\n            classNames.push(`${style.charts}__y_scaled`)\r\n        }\r\n\r\n        if (stacked) {\r\n            classNames.push(`${style.charts}__stacked`)\r\n        }\r\n\r\n        if (percentage) {\r\n            classNames.push(`${style.charts}__percentage`)\r\n        }\r\n\r\n        return classNames\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            animateScale = true,\r\n            fontSize = 16,\r\n            loading = false,\r\n            arcMode = false,\r\n            zoomType = \"none\",\r\n            zoom = false,\r\n            colors,\r\n            layout,\r\n            mode,\r\n            data: {\r\n                title = \"\",\r\n                visibled = [],\r\n                dataset = [],\r\n                labels,\r\n                scroll,\r\n                width,\r\n                yScaled = false,\r\n                stacked = false,\r\n                percentage = false,\r\n            }\r\n        } = this.props\r\n\r\n        const length = dataset.length > 0 ? dataset[0].list.length : 0\r\n\r\n        const { limit, offset } = App.calcLimitOffset(length, width, scroll)\r\n\r\n        this.cart = new Charts({\r\n            id: 1,\r\n            animateScale,\r\n            zoomType,\r\n            // debug: true,\r\n            // fps: true,\r\n            lineWidth: 2,\r\n            mode,\r\n            zoom,\r\n            arcMode,\r\n            visibled,\r\n            dataset,\r\n            offset,\r\n            limit,\r\n            scroll,\r\n            width,\r\n            labels,\r\n            yScaled,\r\n            stacked,\r\n            percentage,\r\n            layout: {\r\n                width: layout.width,\r\n                height: 320//(window.innerHeight / 100) * 40,\r\n            },\r\n            colors,\r\n            onZoom: this.props.onZoom\r\n        })\r\n\r\n        this.miniMap = new MiniMap({\r\n            id: 1,\r\n            lineWidth: 2,\r\n            mode,\r\n            dataset,\r\n            layout,\r\n            scroll,\r\n            width,\r\n            yScaled,\r\n            onChange: this.changeMiniMap.bind(this),\r\n        })\r\n\r\n        this.lineSwitcher = new LineSwitcher({\r\n            mode,\r\n            dataset,\r\n            visibled,\r\n            onSwitch: this.props.onSwitchVisible,\r\n            onSelectOne: this.props.onSelectOneVisible\r\n        })\r\n\r\n        this.title = cre(\"h1\", {\r\n            className: style.chart_title,\r\n            text: loading ? \"Loading...\" : title,\r\n        })\r\n\r\n        this.datesRange = new DatesRange({\r\n            from: labels[offset],\r\n            to: labels[offset + limit - 1],\r\n        })\r\n\r\n        this.zoomOut = cre(\"div\", {\r\n            className: style.charts__zoom_out,\r\n            children: [\r\n                cre(\"div\", {\r\n                    className: style.charts__zoom_out__icon,\r\n                    style: `background-image: url(${ZoomIcon})`,\r\n                }),\r\n                cre(\"div\", {\r\n                    className: style.charts__zoom_out__text,\r\n                    text: \"Zoom Out\",\r\n                }),\r\n            ],\r\n            onClick: this.props.onZoomOut,\r\n        })\r\n\r\n        this.chartsHeader = cre(\"div\", {\r\n            className: style.charts__header,\r\n            children: [\r\n                this.title,\r\n                this.zoomOut,\r\n            ],\r\n        })\r\n\r\n        this.datesRange.renderDom(this.chartsHeader)\r\n\r\n        this.element = cre(\"div\", {\r\n            className: this.getElementClassNames(),\r\n            style: `font-size: ${fontSize}px`,\r\n            children: this.chartsHeader,\r\n        })\r\n\r\n        this.cart.renderDom(this.element)\r\n\r\n        this.footer = cre(\"div\", {\r\n            className: style.charts__footer\r\n        })\r\n\r\n        this.miniMap.renderDom(this.footer)\r\n        this.lineSwitcher.renderDom(this.footer)\r\n\r\n        this.element.appendChild(this.footer)\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nclass App extends BaseComponent {\r\n    static getXLabelText(unixTimestamp) {\r\n        const date = new Date(unixTimestamp)\r\n\r\n        const month = MAP_MONTHS[date.getMonth()]\r\n        const day = date.getDate()\r\n\r\n        const year = date.getFullYear()\r\n\r\n        const dateFormat = `${day} ${month} ${year}`\r\n\r\n        return dateFormat\r\n    }\r\n\r\n    static calcLimitOffset(length, width, scroll) {\r\n        let limit = length > 0 ? Math.ceil((length / 100) * width) : 0\r\n\r\n        let offset = length > 0 ? Math.ceil((length / 100) * scroll) - limit : 0\r\n\r\n        if (isNaN(limit)) {\r\n            limit = 0\r\n\r\n            console.warn(\"[App][calcLimitOffset] invalid params:\", {\r\n                length, width, scroll\r\n            })\r\n        }\r\n\r\n        if (isNaN(offset)) {\r\n            offset = 0\r\n\r\n            console.warn(\"[App][calcLimitOffset] invalid params:\", {\r\n                length, width, scroll\r\n            })\r\n        }\r\n\r\n        return { limit, offset }\r\n    }\r\n\r\n    static defaultProps = {\r\n        mode: MODE_COLOR_DAY,\r\n        animateScale: true,\r\n        arcMode: false,\r\n    }\r\n\r\n    state = {\r\n        layout: {\r\n            width: 0,\r\n            height: 0\r\n        },\r\n\r\n        data: {\r\n            title: \"\",\r\n            scroll: 100,\r\n            width: 25,\r\n            dataset: [],\r\n            labels: [],\r\n            visibled: [],\r\n            yScaled: false,\r\n        },\r\n\r\n        fontSize: 16,\r\n\r\n        init: false,\r\n        loading: true,\r\n        zoom: false,\r\n    }\r\n\r\n    element = false\r\n    chart = false\r\n\r\n    /* LIFECIRCLE */\r\n\r\n    componentDidMount() {\r\n        this.prepareOwnElement()\r\n\r\n        let fontSize = +(window.innerWidth / 40).toFixed(2)\r\n\r\n        if (fontSize > 16) fontSize = 16\r\n\r\n        this.setState({\r\n            fontSize,\r\n            init: true,\r\n            layout: {\r\n                width: window.innerWidth,\r\n                height: this.element.clientHeight,\r\n            },\r\n        })\r\n\r\n        this.handleLoadDataCharts()\r\n\r\n        setInterval(() => {\r\n            const newWidth = window.innerWidth\r\n            const newHeight = this.element.clientHeight\r\n\r\n            if (\r\n                newWidth !== this.state.layout.width ||\r\n                newHeight !== this.state.layout.height\r\n            ) {\r\n                this.setState({\r\n                    layout: {\r\n                        width: window.innerWidth,\r\n                        height: this.element.clientHeight,\r\n                        tt: 1\r\n                    },\r\n                })\r\n            }\r\n        }, 100)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { arcMode, mode } = this.props\r\n\r\n        const {\r\n            zoom,\r\n            fontSize,\r\n            loading,\r\n            layout,\r\n            data,\r\n        } = this.state\r\n\r\n        if (\r\n            prevProps.arcMode !== arcMode ||\r\n            prevState.zoom !== zoom ||\r\n            prevState.fontSize !== fontSize ||\r\n            prevState.loading !== loading ||\r\n            prevState.layout !== layout ||\r\n            prevProps.mode !== mode ||\r\n            prevState.data !== data\r\n        ) {\r\n            this.chart.setProps({\r\n                zoom: zoom === false ? false : true,\r\n                arcMode: zoom === false ? false : arcMode,\r\n                fontSize,\r\n                loading,\r\n                colors: MAP_MODE_COLOR_TO_CHART_COLORS[mode],\r\n                layout,\r\n                mode,\r\n                data: zoom === false ? data : zoom,\r\n            })\r\n        }\r\n    }\r\n\r\n    /* EVENTS */\r\n\r\n    attachEvents() {\r\n        window.onresize = throttle(() => {\r\n            this.setState({\r\n                layout: {\r\n                    width: this.element.clientWidth,\r\n                    height: this.element.clientHeight,\r\n                },\r\n            })\r\n\r\n            this.updateFontSize()\r\n        }, 100)\r\n    }\r\n\r\n    /* HANDLES */\r\n\r\n    getCurrentData() {\r\n        const { data, zoom = false } = this.state\r\n\r\n        if (zoom !== false) {\r\n            return zoom\r\n        }\r\n\r\n        return data\r\n    }\r\n\r\n    setCurrentData(params = {}) {\r\n        const { data, zoom = false } = this.state\r\n\r\n        if (zoom !== false) {\r\n            this.setState({\r\n                zoom: {\r\n                    ...zoom,\r\n                    ...params,\r\n                },\r\n            })\r\n        } else {\r\n            this.setState({\r\n                data: {\r\n                    ...data,\r\n                    ...params,\r\n                },\r\n            })\r\n        }        \r\n    }\r\n\r\n    prepareOwnElement() {\r\n        const { mode } = this.state\r\n\r\n        this.ownElement.classList.toggle(\r\n            style.mode_night,\r\n            mode === MODE_COLOR_NIGHT,\r\n        )\r\n\r\n        this.ownElement.classList.add(style.app)\r\n    }\r\n\r\n    async loadData(url) {\r\n        const data = await loadFile(url)\r\n\r\n        const dataJson = JSON.parse(data)\r\n\r\n        const dataChart = new DataChart(dataJson)\r\n\r\n        return dataChart\r\n    }\r\n\r\n    setDataChart(dataChart, name = \"Chart\") {\r\n        const dataset = dataChart.getCharts()\r\n        const labels = dataChart.getXAsix()\r\n\r\n        this.setState({\r\n            data: {\r\n                title: name,\r\n                scroll: 100,\r\n                width: 25,\r\n                dataset: dataset.map(item => ({\r\n                    ...item,\r\n                    uid: `chart-${item.id}`\r\n                })),\r\n                labels,\r\n                visibled: dataset.map(line => line.id),\r\n                yScaled: dataChart.IsYScaled(), //!!dataJson.y_scaled,\r\n                stacked: dataChart.IsStacked(), //!!dataJson.stacked,\r\n                percentage: dataChart.IsPercentage(),\r\n            }\r\n        })\r\n    }\r\n\r\n    async handleLoadDataCharts() {\r\n        const { name, dataUrl } = this.props\r\n\r\n        this.setState({\r\n            loading: true,\r\n        })\r\n\r\n        const dataChart = await this.loadData(dataUrl)\r\n\r\n        this.setDataChart(dataChart, name)\r\n\r\n        this.setState({\r\n            loading: false,\r\n        })\r\n    }\r\n\r\n    handleZoom = async (unixTimestamp, index) => {\r\n        const {\r\n            zoomType = \"none\",\r\n            /*name,*/\r\n            getZoomedDataUrl,\r\n        } = this.props\r\n\r\n        if (zoomType === \"byDay\") {\r\n            const data = this.getCurrentData()\r\n\r\n            const offsetBefore = 3\r\n            const offsetAfter = 3\r\n\r\n            let dataset = data.dataset.map(item => ({\r\n                ...item,\r\n                list: item.list.slice(index - offsetBefore, index + offsetAfter)\r\n            }))\r\n            \r\n            let labels = data.labels.slice(index - offsetBefore, index + offsetAfter)\r\n\r\n            this.setState({\r\n                zoom: {\r\n                    title: data.title,\r\n                    visibled: data.visibled,\r\n                    yScaled: data.yScaled,\r\n                    stacked: data.stacked,\r\n                    percentage: data.percentage,\r\n                    index,\r\n                    unixTimestamp,\r\n                    offsetBefore,\r\n                    offsetAfter,\r\n                    scroll: 50,\r\n                    width: 100 / (offsetBefore + offsetAfter),\r\n                    labels,\r\n                    dataset,\r\n                }\r\n            })\r\n        } else if (zoomType === \"by3Days\") {\r\n            const data = this.getCurrentData()\r\n\r\n            this.setState({\r\n                loading: true,\r\n            })\r\n\r\n            const dataUrl = getZoomedDataUrl(unixTimestamp)\r\n\r\n            const dataChart = await this.loadData(dataUrl)\r\n\r\n            const dataset = dataChart.getCharts()\r\n            const labels = dataChart.getXAsix()\r\n\r\n            // this.setDataChart(dataChart, `${name} - Zoomed`)\r\n\r\n            this.setState({\r\n                zoom: {\r\n                    title: data.title,\r\n                    yScaled: data.yScaled,\r\n                    stacked: data.stacked,\r\n                    percentage: data.percentage,\r\n                    scroll: 100,\r\n                    width: 100,\r\n                    labels,\r\n                    dataset: dataset.map(item => ({\r\n                        ...item,\r\n                        uid: `cahrt-${unixTimestamp}-${item.id}`\r\n                    })),\r\n                    visibled: dataset.map(line => line.id),\r\n                },\r\n                loading: false,\r\n            })\r\n        } else if (zoomType === \"byHours\") {\r\n            const data = this.getCurrentData()\r\n\r\n            this.setState({\r\n                loading: true,\r\n            })\r\n\r\n            const dataUrl = getZoomedDataUrl(unixTimestamp)\r\n\r\n            const dataChart = await this.loadData(dataUrl)\r\n\r\n            const dataset = dataChart.getCharts()\r\n            const labels = dataChart.getXAsix()\r\n\r\n            // this.setDataChart(dataChart, `${name} - Zoomed`)\r\n\r\n            this.setState({\r\n                zoom: {\r\n                    title: data.title,\r\n                    yScaled: data.yScaled,\r\n                    stacked: data.stacked,\r\n                    percentage: data.percentage,\r\n                    scroll: 50,\r\n                    width: 10,\r\n                    labels,\r\n                    dataset: dataset.map(item => ({\r\n                        ...item,\r\n                        uid: `cahrt-${unixTimestamp}-${item.id}`\r\n                    })),\r\n                    visibled: dataset.map(line => line.id),\r\n                },\r\n                loading: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleZoomOut = () => {\r\n        this.setState({\r\n            zoom: false\r\n        })\r\n    }\r\n\r\n    updateFontSize() {\r\n        let fontSize = +(window.innerWidth / 40).toFixed(2)\r\n\r\n        if (fontSize > 16) fontSize = 16\r\n\r\n        if (this.state.fontSize !== fontSize) {\r\n            this.setState({\r\n                fontSize\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSwitchDataSet = lineId => {\r\n        const { visibled = [] } = this.getCurrentData()\r\n\r\n        if (visibled.includes(lineId)) {\r\n            this.setCurrentData({\r\n                visibled: visibled.filter(_lineId => _lineId !== lineId),\r\n            })\r\n        } else {\r\n            this.setCurrentData({\r\n                visibled: [...visibled, lineId],\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSelectOneVisibleDataSet = lineId => {\r\n        const { dataset = [], visibled = [] } = this.getCurrentData()\r\n\r\n        if (visibled.length === 1 && visibled[0] === lineId) {\r\n            this.setCurrentData({\r\n                visibled: dataset.map(item => item.id),\r\n            })\r\n        } else {\r\n            this.setCurrentData({\r\n                visibled: [lineId],\r\n            })\r\n        }\r\n    }\r\n\r\n    handleUpdateMiniMap({ width, scroll }) {\r\n        this.setCurrentData({\r\n            width,\r\n            scroll,\r\n        })\r\n    }\r\n\r\n    /* RENDER */\r\n\r\n    render() {\r\n        const { animateScale = true, zoomType = \"none\", mode } = this.props\r\n\r\n        const { loading = false, zoom = false, layout, data, fontSize = 16 } = this.state\r\n\r\n        this.chart = new ChartItem({\r\n            animateScale,\r\n            arcMode: false,\r\n            zoomType,\r\n            zoom,\r\n            fontSize,\r\n            loading,\r\n            colors: MAP_MODE_COLOR_TO_CHART_COLORS[mode],\r\n            layout,\r\n            mode,\r\n            data,\r\n\r\n            onSwitchVisible: this.handleSwitchDataSet.bind(this),\r\n            onSelectOneVisible: this.handleSelectOneVisibleDataSet.bind(this),\r\n            onChangeOffsets: this.handleUpdateMiniMap.bind(this),\r\n            onZoom: this.handleZoom.bind(this),\r\n            onZoomOut: this.handleZoomOut.bind(this),\r\n        })\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.app,\r\n            style: `font-size: ${fontSize}px`,\r\n        })\r\n\r\n        this.chart.renderDom(this.element)\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default App\r\n","import BaseComponent, { cre } from \"../base\"\r\n\r\nimport style from \"./style.css\"\r\n\r\nimport {\r\n    MODE_COLOR_DAY,\r\n    MODE_COLOR_NIGHT,\r\n    MAP_MODE_COLOR_TO_TEXT,\r\n} from 'constants/COLORS'\r\n\r\nclass ColorSwitcher extends BaseComponent {\r\n    state = {\r\n        value: MODE_COLOR_DAY\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.colorSwitcherItem.innerText = MAP_MODE_COLOR_TO_TEXT[this.state.value]\r\n    }\r\n\r\n    handleToggle() {\r\n        const value = this.state.value === MODE_COLOR_DAY ? MODE_COLOR_NIGHT : MODE_COLOR_DAY\r\n\r\n        this.setState({\r\n            value\r\n        })\r\n\r\n        this.props.onToggle(value)\r\n\r\n        this.element.classList.toggle(\r\n            style.mode_night,\r\n            value === MODE_COLOR_NIGHT,\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { value = MODE_COLOR_DAY } = this.state\r\n\r\n        this.colorSwitcherItem = cre(\"div\", {\r\n            className: style.color__switcher__item,\r\n            text: MAP_MODE_COLOR_TO_TEXT[value],\r\n            onClick: this.handleToggle.bind(this)\r\n        })\r\n\r\n        this.element = cre(\"div\", {\r\n            className: style.color__switcher,\r\n            children: this.colorSwitcherItem,\r\n        })\r\n\r\n        return this.element\r\n    }\r\n}\r\n\r\nexport default ColorSwitcher\r\n","import \"styles/index.css\"\r\nimport \"styles/reset.css\"\r\n\r\nimport 'helpers/polyfills'\r\n\r\nimport App from \"./components/App\"\r\nimport ColorSwitcher from './components/ColorSwithcer';\r\n\r\nconst getZoomedDataUrl = (folder) => (unixTimestamp) => {\r\n    const date = new Date(unixTimestamp)\r\n\r\n    let year = date.getFullYear()\r\n    let month = date.getMonth() + 1\r\n    let day = date.getDate()\r\n\r\n    if (`${month}`.length === 1) month = `0${month}`\r\n    if (`${day}`.length === 1) day = `0${day}`\r\n\r\n    const year_month = `${year}-${month}`\r\n\r\n    return `${folder}/${year_month}/${day}.json`\r\n}\r\n\r\nif (window.location.pathname.indexOf(\"stage-1.html\") !== -1) {\r\n    window.app0 = new App({ name: \"Chart 1\", dataUrl: \"./data/data.0.json\" })\r\n    window.app0.renderDom(document.getElementById(\"app0\"))\r\n    \r\n    window.app1 = new App({ name: \"Chart 2\", dataUrl: \"./data/data.1.json\" })\r\n    window.app1.renderDom(document.getElementById(\"app1\"))\r\n    \r\n    window.app2 = new App({ name: \"Chart 3\", dataUrl: \"./data/data.2.json\" })\r\n    window.app2.renderDom(document.getElementById(\"app2\"))\r\n    \r\n    window.app3 = new App({ name: \"Chart 4\", dataUrl: \"./data/data.3.json\" })\r\n    window.app3.renderDom(document.getElementById(\"app3\"))\r\n    \r\n    window.app4 = new App({ name: \"Chart 5\", dataUrl: \"./data/data.4.json\" })\r\n    window.app4.renderDom(document.getElementById(\"app4\"))\r\n} else {\r\n    window.app0 = new App({\r\n        name: \"Followers\",\r\n        dataUrl: \"./data/new/1/overview.json\",\r\n        zoomType: \"byHours\",\r\n        getZoomedDataUrl: getZoomedDataUrl(\"./data/new/1\"),\r\n    })\r\n    window.app0.renderDom(document.getElementById(\"app0\"))\r\n\r\n    window.app1 = new App({\r\n        name: \"Interactions\",\r\n        dataUrl: \"./data/new/2/overview.json\",\r\n        zoomType: \"byHours\",\r\n        getZoomedDataUrl: getZoomedDataUrl(\"./data/new/2\")\r\n    })\r\n    window.app1.renderDom(document.getElementById(\"app1\"))\r\n\r\n    window.app2 = new App({\r\n        name: \"Chart 3\",\r\n        dataUrl: \"./data/new/3/overview.json\",\r\n        zoomType: \"byHours\",\r\n        getZoomedDataUrl: getZoomedDataUrl(\"./data/new/3\"),\r\n    })\r\n    window.app2.renderDom(document.getElementById(\"app2\"))\r\n\r\n    window.app3 = new App({\r\n        name: \"Views\",\r\n        dataUrl: \"./data/new/4/overview.json\",\r\n        zoomType: \"by3Days\",\r\n        getZoomedDataUrl: getZoomedDataUrl(\"./data/new/4\")\r\n    })\r\n    window.app3.renderDom(document.getElementById(\"app3\"))\r\n\r\n    window.app4 = new App({\r\n        name: \"Chart 5\",\r\n        dataUrl: \"./data/new/5/overview.json\",\r\n        zoomType: \"byDay\",\r\n        arcMode: true\r\n    })\r\n    window.app4.renderDom(document.getElementById(\"app4\"))\r\n}\r\n\r\nwindow.colorSwitcher = new ColorSwitcher({\r\n    onToggle: (mode) => {\r\n        window.app0.setProps({ mode })\r\n        window.app1.setProps({ mode })\r\n        window.app2.setProps({ mode })\r\n        window.app3.setProps({ mode })\r\n        window.app4.setProps({ mode })\r\n    }\r\n})\r\nwindow.colorSwitcher.renderDom(document.getElementById(\"color_switcher\"))"],"sourceRoot":""}