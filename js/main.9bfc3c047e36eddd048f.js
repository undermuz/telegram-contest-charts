!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=29)}([function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,i){var n=i(0);t.exports=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){n(t,e,i[e])})}return t}},function(t,e,i){t.exports={app:"app",mode_night:"mode_night",modeNight:"mode_night",charts:"charts",chart_title:"chart_title",chartTitle:"chart_title",color__switcher:"color__switcher",colorSwitcher:"color__switcher",color__switcher__item:"color__switcher__item",colorSwitcherItem:"color__switcher__item",charts__zoom_out:"charts__zoom_out",chartsZoomOut:"charts__zoom_out",charts__zoom_out__show:"charts__zoom_out__show",chartsZoomOutShow:"charts__zoom_out__show",charts__zoom_out__icon:"charts__zoom_out__icon",chartsZoomOutIcon:"charts__zoom_out__icon",charts__zoom_out__text:"charts__zoom_out__text",chartsZoomOutText:"charts__zoom_out__text",charts__dates:"charts__dates",chartsDates:"charts__dates"}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){t.exports=i(20)},function(t,e,i){t.exports={canvas_wrapper:"canvas_wrapper",canvasWrapper:"canvas_wrapper",canvas__show_info:"canvas__show_info",canvasShowInfo:"canvas__show_info",canvas__show_info__wrapper:"canvas__show_info__wrapper",canvasShowInfoWrapper:"canvas__show_info__wrapper",mode_night:"mode_night",modeNight:"mode_night",canvas__show_info__title:"canvas__show_info__title",canvasShowInfoTitle:"canvas__show_info__title",canvas__show_info__rows:"canvas__show_info__rows",canvasShowInfoRows:"canvas__show_info__rows",canvas__show_info__row__item:"canvas__show_info__row__item",canvasShowInfoRowItem:"canvas__show_info__row__item",canvas__show_info__row__item__percent:"canvas__show_info__row__item__percent",canvasShowInfoRowItemPercent:"canvas__show_info__row__item__percent",canvas__show_info__row__item__name:"canvas__show_info__row__item__name",canvasShowInfoRowItemName:"canvas__show_info__row__item__name",canvas__show_info__row__item__value:"canvas__show_info__row__item__value",canvasShowInfoRowItemValue:"canvas__show_info__row__item__value",canvas__show_info__row__item_with_percent:"canvas__show_info__row__item_with_percent",canvasShowInfoRowItemWithPercent:"canvas__show_info__row__item_with_percent",canvas_wrapper__x_labels_wrapper:"canvas_wrapper__x_labels_wrapper",canvasWrapperXLabelsWrapper:"canvas_wrapper__x_labels_wrapper",canvas_wrapper__x_labels_wrapper__item:"canvas_wrapper__x_labels_wrapper__item",canvasWrapperXLabelsWrapperItem:"canvas_wrapper__x_labels_wrapper__item"}},function(t,e,i){var n=i(24),a=i(1);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e,i){var n=i(25);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e){function i(t,e,i,n,a,o,s){try{var r=t[o](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,a)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,o){var s=t.apply(e,n);function r(t){i(s,a,o,r,c,"next",t)}function c(t){i(s,a,o,r,c,"throw",t)}r(void 0)})}}},function(t,e,i){t.exports={charts__minimap_wrapper:"charts__minimap_wrapper",chartsMinimapWrapper:"charts__minimap_wrapper",minimap:"minimap",minimap__zone:"minimap__zone",minimapZone:"minimap__zone",minimap__left_zone:"minimap__left_zone",minimapLeftZone:"minimap__left_zone",minimap__right_zone:"minimap__right_zone",minimapRightZone:"minimap__right_zone",minimap__left_size_zone:"minimap__left_size_zone",minimapLeftSizeZone:"minimap__left_size_zone",minimap__right_size_zone:"minimap__right_size_zone",minimapRightSizeZone:"minimap__right_size_zone",mode_night:"mode_night",modeNight:"mode_night",minimap__size_zone__helper:"minimap__size_zone__helper",minimapSizeZoneHelper:"minimap__size_zone__helper",minimap__canvas_wrapper:"minimap__canvas_wrapper",minimapCanvasWrapper:"minimap__canvas_wrapper"}},function(t,e,i){t.exports={line__switchers:"line__switchers",lineSwitchers:"line__switchers",line__switchers__item:"line__switchers__item",lineSwitchersItem:"line__switchers__item",mode_night:"mode_night",modeNight:"mode_night",line__switchers__item__check:"line__switchers__item__check",lineSwitchersItemCheck:"line__switchers__item__check",line__switchers__item__check__circle_color:"line__switchers__item__check__circle_color",lineSwitchersItemCheckCircleColor:"line__switchers__item__check__circle_color",line__switchers__item__check__circle_blank:"line__switchers__item__check__circle_blank",lineSwitchersItemCheckCircleBlank:"line__switchers__item__check__circle_blank",line__switchers__item__check__icon:"line__switchers__item__check__icon",lineSwitchersItemCheckIcon:"line__switchers__item__check__icon",line__switchers__item__label:"line__switchers__item__label",lineSwitchersItemLabel:"line__switchers__item__label"}},function(t,e,i){var n=i(26),a=i(27),o=i(28);t.exports=function(t,e){return n(t)||a(t,e)||o()}},function(t,e,i){var n=i(21),a=i(22),o=i(23);t.exports=function(t){return n(t)||a(t)||o()}},function(t,e,i){t.exports=i.p+"images/55afd646d25881f35baf3793cc724345.svg"},function(t,e,i){t.exports=i.p+"images/92680f0a2c2bc2e52a2b62cf576a7db7.svg"},function(t,e,i){},function(t,e,i){t.exports={chromeframe:"chromeframe"}},function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",r=a.toStringTag||"@@toStringTag";function c(t,e,i,n){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),s=new L(n||[]);return o._invoke=function(t,e,i){var n=h;return function(a,o){if(n===u)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw o;return A()}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var r=M(s,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=u;var c=l(t,e,i);if("normal"===c.type){if(n=i.done?p:d,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=p,i.method="throw",i.arg=c.arg)}}}(t,i,s),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",u="executing",p="completed",f={};function v(){}function m(){}function _(){}var w={};w[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==i&&n.call(g,o)&&(w=g);var b=_.prototype=v.prototype=Object.create(w);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(i,a){function o(){return new Promise(function(e,o){!function e(i,a,o,s){var r=l(t[i],t,a);if("throw"!==r.type){var c=r.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(h).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,s)})}s(r.arg)}(i,a,e,o)})}return e=e?e.then(o,o):o()}}function M(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,M(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=l(n,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,f;var o=a.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function z(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function O(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function i(){for(;++a<t.length;)if(n.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=b.constructor=_,_.constructor=m,_[r]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,n,a){var o=new S(c(e,i,n,a));return t.isGeneratorFunction(i)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(b),b[r]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(z),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function a(n,a){return r.type="throw",r.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],r=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),z(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;z(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:O(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},n(e)}t.exports=n},function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var i=[],n=!0,a=!1,o=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}return i}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){"use strict";i.r(e);i(18),i(19);var n=i(6),a=i.n(n),o=i(2),s=i.n(o),r=i(11),c=i.n(r),l=i(15),h=i.n(l),d=i(1),u=i.n(d),p=i(0),f=i.n(p),v=i(5),m=i.n(v),_=i(4),w=i.n(_),y=i(8),g=i.n(y),b=i(9),x=i.n(b),S=i(10),M=i.n(S),k=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=document.createElement(t),n=Object.keys(e),a=function(t){var a=n[t],o=e[a];if("className"===a)o&&o.constructor===Array?o.forEach(function(t){return i.classList.add(t)}):i.classList.add(o);else if("style"===a)i.setAttribute("style",o);else if("on"===a.substr(0,2))i.addEventListener(a.substr(2).toLocaleLowerCase(),o);else if("children"===a)if(o.constructor===Array)for(var s=0;s<o.length;s+=1)i.appendChild(o[s]);else i.appendChild(o);else if("text"===a)i.innerText=o;else if("data"===a){Object.keys(o).forEach(function(t){i.dataset[t]=o[t]})}else i.setAttribute(a,o)},o=0;o<n.length;o+=1)a(o);return i},z=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m()(this,t),f()(this,"state",{}),f()(this,"props",{}),f()(this,"node",null),f()(this,"setState",function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s()({},e.state);e.state=s()({},e.state,t),e.componentDidUpdate(e.props,n),i&&i()}),f()(this,"setProps",function(t){var i=s()({},e.props);e.props=s()({},e.props,t),e.componentDidUpdate(i,e.state)}),this.props=s()({},this.constructor.defaultProps,i)}return w()(t,[{key:"componentDidMount",value:function(){return null}},{key:"componentDidUpdate",value:function(){return null}},{key:"componentWillUnmount",value:function(){}},{key:"destroy",value:function(){this.componentWillUnmount(),this.ownElement.removeChild(this.node)}},{key:"render",value:function(){return document.createElement("div")}},{key:"renderDom",value:function(t){this.node=this.render(),this.ownElement=t,t.appendChild(this.node),this.componentDidMount()}}]),t}();f()(z,"defaultProps",{});var L=z,O=i(14),A=i.n(O),E=function(t,e){var i,n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a,s=!1;return function r(){s||(a&&setTimeout(function(){o=!1,i&&(r.apply(n,i),i=null,n=null)},e),s=!0);for(var c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];if(o)return i=l,void(n=this);t.apply(this,l),o=!0,setTimeout(function(){o=!1,i&&(r.apply(n,i),i=null,n=null)},e)}},D=function(t,e){var i=Date.now()-t;return i>e&&(i=e),+(i/e).toFixed(2)},I=function(t){return-t*(t-2)},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;if(i=t.touches&&t.touches.length>0?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.pageX,y:t.pageY},e){var n=function t(e){if(!e)return{top:0,left:0};var i=t(e.offsetParent);return{top:e.offsetTop+i.top,left:e.offsetLeft+i.left}}(e);i.x-=n.left,i.y-=n.top}return i},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=t>=0?1:-1,n=t=Math.abs(t);if(t>=e){for(var a=Math.floor((""+t).length/3),o="",s=2;s>=1;s=-1){if(((o=parseFloat((0!=a?t/Math.pow(1e3,a):t).toPrecision(s)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}o%1!=0&&(o=o.toFixed(1)),n=o+["","k","m","b","t"][a]}return-1===i?"-".concat(n):n},C=function(t){return"".concat(function(t,e,i,n){e=isNaN(e=Math.abs(e))?2:e,i=null==i?".":i,n=null==n?",":n;var a=t<0?"-":"",o=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),s=(s=o.length)>3?s%3:0;return a+(s?o.substr(0,s)+n:"")+o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?i+Math.abs(t-o).toFixed(e).slice(2):"")}(parseFloat(t),0,"."," ")).replace(".00","")},N=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},F=function(t){return new Promise(function(e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.send(null),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=i.getResponseHeader("Content-Type");e(i.responseText,t,i)}}})},W=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m()(this,t),this.text=e,this.params=i},Z=function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m()(this,t),this.from=e,this.to=i,this.params=n},X=function(){function t(e,i){m()(this,t),this.element=e,this.props=i,this.dpr=t.getRetinaRatio(),this.resize(i.width,i.height)}return w()(t,null,[{key:"getRetinaRatio",value:function(){var t=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d");return t/[e.webkitBackingStorePixelRatio,e.mozBackingStorePixelRatio,e.msBackingStorePixelRatio,e.oBackingStorePixelRatio,e.backingStorePixelRatio,1].reduce(function(t,e){return t||e})}}]),w()(t,[{key:"resize",value:function(e,i){this.props.width=e,this.props.height=i,this.ctx=this.element.getContext("2d"),this.dpr=t.getRetinaRatio(),this.ctx.scale(this.dpr,this.dpr),this.element.style.width="".concat(e,"px"),this.element.style.height="".concat(i,"px"),this.element.setAttribute("width",e*this.dpr),this.element.setAttribute("height",i*this.dpr)}},{key:"clear",value:function(){var t=this.props,e=t.width,i=void 0===e?0:e,n=t.height,a=void 0===n?0:n;this.ctx.clearRect(0,0,i*this.dpr,a*this.dpr)}},{key:"text",value:function(t,e){var i=e.x,n=e.y,a=e.size,o=void 0===a?12:a,s=e.align,r=void 0===s?"center":s,c=e.font,l=void 0===c?"serif":c,h=e.color,d=void 0===h?"#000000":h,u=e.opacity,p=void 0===u?1:u;if(p<1){var f=N(d);null!==f&&(d="rgba(".concat(f.r,", ").concat(f.g,", ").concat(f.b,", ").concat(p,")"))}this.ctx.font="".concat(Math.floor(o*this.dpr),"px ").concat(l),this.ctx.textAlign=r,this.ctx.fillStyle=d,this.ctx.fillText(t,i*this.dpr,n*this.dpr)}},{key:"line",value:function(t,e,i){var n=i.color,a=void 0===n?"#000000":n,o=i.lineWidth,s=void 0===o?2:o,r=i.opacity,c=void 0===r?1:r;if(c<1){var l=N(a);null!==l&&(a="rgba(".concat(l.r,", ").concat(l.g,", ").concat(l.b,", ").concat(c,")"))}this.ctx.beginPath(),this.ctx.strokeStyle=a,this.ctx.lineWidth=s*this.dpr,this.ctx.moveTo(t.x*this.dpr,t.y*this.dpr),this.ctx.lineTo(e.x*this.dpr,e.y*this.dpr),this.ctx.stroke()}},{key:"rect",value:function(t,e,i){var n=i.width,a=void 0===n?10:n,o=i.height,s=void 0===o?10:o,r=i.color,c=void 0===r?"black":r,l=i.fill,h=void 0!==l&&l;this.ctx.strokeStyle=c,this.ctx.fillStyle=c,h&&this.ctx.fillRect(t*this.dpr,e*this.dpr,a*this.dpr,s*this.dpr),h||this.ctx.strokeRect(t*this.dpr,e*this.dpr,a*this.dpr,s*this.dpr)}},{key:"arc",value:function(t,e,i,n,a,o){var s=o.color,r=void 0===s?"#0000":s,c=o.opacity,l=void 0===c?1:c,h=o.mouseX,d=void 0===h?0:h,u=o.mouseY,p=void 0===u?0:u,f=o.mouseMove,v=void 0!==f&&f;if(l<1){var m=N(r);null!==m&&(r="rgba(".concat(m.r,", ").concat(m.g,", ").concat(m.b,", ").concat(l,")"))}(this.ctx.beginPath(),this.ctx.moveTo(t*this.dpr,e*this.dpr),this.ctx.arc(t*this.dpr,e*this.dpr,i*this.dpr,n,a),this.ctx.fillStyle=r,v)&&(this.ctx.isPointInPath(d*this.dpr,p*this.dpr)&&v());this.ctx.closePath(),this.ctx.fill()}},{key:"circle",value:function(t,e,i,n){var a=n.color,o=void 0===a?"black":a,s=n.strokColor,r=void 0!==s&&s,c=n.lineWidth,l=void 0===c?1:c;this.ctx.beginPath(),this.ctx.arc(t*this.dpr,e*this.dpr,i*this.dpr,0,2*Math.PI,!0),r&&(this.ctx.strokeStyle=r,this.ctx.lineWidth=l*this.dpr,this.ctx.stroke()),o&&(this.ctx.fillStyle=o,this.ctx.fill())}},{key:"beginPath",value:function(t){var e=this,i=t.opacity,n=void 0===i?1:i,a=t.color,o=t.lineWidth;if(this.ctx.beginPath(),n<1){var s=N(a);null!==s&&(a="rgba(".concat(s.r,", ").concat(s.g,", ").concat(s.b,", ").concat(n,")"))}return{moveTo:function(t,i){e.ctx.moveTo(t*e.dpr,i*e.dpr)},lineTo:function(t,i){e.ctx.lineTo(t*e.dpr,i*e.dpr)},stroke:function(){e.ctx.strokeStyle=a,e.ctx.lineWidth=o*e.dpr,e.ctx.stroke()},fill:function(){e.ctx.fillStyle=a,e.ctx.lineWidth=o*e.dpr,e.ctx.fill()}}}},{key:"draw",value:function(t){t instanceof W&&this.text(t.text,t.params),t instanceof Z&&this.line(t.from,t.to,t.params)}}]),t}(),j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],V=i(7),R=i.n(V),Y=function(t){function e(){var t,i;m()(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=g()(this,(t=x()(e)).call.apply(t,[this].concat(a))),f()(u()(i),"domLabels",{}),i}return M()(e,t),w()(e,[{key:"drawXLabels",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.props,n=i.labels,a=void 0===n?[]:n,o=i.getLabel,s=i.opacity,r=void 0===s?1:s;if(a.length>0){for(var c=this.calcXLabels(),l=c.positions,h=c.intervalFactor,d=c.removed,u=Object.keys(l),p=Object.keys(this.domLabels),f=function(e){var i,n,o,s,r,c,l,u,f=+p[e],v=t.domLabels[f];f%h!=0?(v.style.opacity=0,i=function(){var e=100/t.props.width,i=(t.props.scroll-t.props.width)/100,n=t.props.layout.width*(f/(a.length-1)-i)*e;v.style.left="".concat(n,"px")},n=200,o=function(){v.remove()},r=!1,c=Date.now(),l=!1,u=function(){l=!0},requestAnimationFrame(function t(){if(r||(r=!0,s&&s()),!l){var e=D(c,n);i(100*e),e<1?requestAnimationFrame(t):(u(),o&&o())}}),delete t.domLabels[f]):d.includes(f)&&(v.remove(),delete t.domLabels[f])},v=0;v<p.length;v+=1)f(v);var m=function(i){var n=+u[i],s=l[n],c=o(a[n]),h=t.domLabels[n];if(h){var d="left: ".concat(s.toFixed(2),"px;opacity: ").concat(r,";");h.setAttribute("style",d)}else{var p="left: ".concat(s.toFixed(2),"px;opacity: ").concat(e?0:r,";");h=k("div",{id:n,className:R.a.canvas_wrapper__x_labels_wrapper__item,text:c,style:p,data:{state:"rendered"}}),t.element.appendChild(h),e&&setTimeout(function(){h.style.opacity=1},1),t.domLabels[n]=h}};for(v=0;v<u.length;v+=1)m(v);this.indexes=u}}},{key:"clear",value:function(){for(var t=Object.keys(this.domLabels),e=0;e<t.length;e+=1){var i=+t[e];this.domLabels[i].remove(),delete this.domLabels[i]}}},{key:"calcXLabels",value:function(){for(var t=this.props,e=t.scroll,i=t.labels,n=void 0===i?[]:i,a=t.layout,o=t.graphLayout.labelsXWidth,s=void 0===o?0:o,r=[],c=100/this.props.width,l=Math.ceil(a.width/s),h=a.width/l,d=l<=n.length?Math.floor(n.length/l):1,u=Math.ceil(Math.log2(d/c)),p=Math.pow(2,u),f=Math.ceil(c*n.length/p),v={},m=0;m<f;m+=1){var _=m*p,w=(e-this.props.width)/100,y=a.width*(_/(n.length-1)-w)*c;n[_]&&(a.width>=y&&y>=0-h?v[_]=y:r.push(_))}return{positions:v,count:f,intervalFactor:p,removed:r}}},{key:"componentDidMount",value:function(){this.clear(),this.drawXLabels()}},{key:"componentDidUpdate",value:function(t){this.props.labels===t.labels&&this.props.id===t.id||this.clear(),this.props.labels===t.labels&&this.props.width===t.width&&this.props.scroll===t.scroll||(this.props.width!==t.width?this.drawXLabels(!0):this.drawXLabels(!1))}},{key:"render",value:function(){return this.element=k("div",{className:R.a.canvas_wrapper__x_labels_wrapper}),this.element}}]),e}(L);f()(Y,"defaultProps",{width:0,labels:[],scroll:0,layout:{width:0,height:0},graphLayout:{labelsXWidth:0},getLabel:function(t){return t}});var H=Y,G=function(t){function e(t){var i;return m()(this,e),i=g()(this,x()(e).call(this,t)),f()(u()(i),"animations",[]),f()(u()(i),"state",{step:10,showInfo:!1,graphLayout:{width:0,height:0,labelsXWidth:70,labelsXOffset:10},graphMinMax:{},offset:0,graphOffset:{top:0,left:0,bottom:0,right:0,asixX:0,asixY:0},graphScale:{x:0,y:0},minStep:1,maxStep:1e3,visibility:{},mouse:{pointX:0,pointY:0},selectArc:!1,zoom:!1,animationsValues:{yAsixOpacity:100,xAsixOpacity:100,arcsScale:0,areasScale:0}}),f()(u()(i),"init",!1),f()(u()(i),"initialize",c()(a.a.mark(function t(){var e,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.props,n=e.layout,o=e.visibled,i.handleApplyVisibility(o),i.canvas=new X(i.canvasNode,s()({},n)),t.next=5,i.calc();case 5:i.init=!0,requestAnimationFrame(i.reDraw);case 7:case"end":return t.stop()}},t)}))),f()(u()(i),"reDraw",function(){if(i.animations=i.animations.filter(function(t){return!1!==t}),i.animations.length>0||i.needDraw){for(var t=0;t<i.animations.length;t++){var e=i.animations[t];if(!1!==e){var n=D(e.startAt,e.duration);e.step(I(n)),1===n&&(i.animations[t]=!1)}}i.draw(),i.needDraw&&(i.needDraw=!1)}requestAnimationFrame(i.reDraw)}),f()(u()(i),"reInit",c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.calc();case 2:case"end":return t.stop()}},t)}))),f()(u()(i),"updateState",function(){var t=c()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){i.setState(e,t)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),f()(u()(i),"updateAnimateYLines",E(function(t){i.setState({graphScale:s()({},i.state.graphScale,{animateYLines:t})})},10)),f()(u()(i),"updateGraphOptions",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.props,a=n.scroll,o=n.width,s=n.layout,r=i.getLength();i.setGraphOptions(t,{scroll:a,limit:o,length:r,animateYLines:e},s)}),f()(u()(i),"animationInterval",!1),f()(u()(i),"lastMinMax",[0,0]),f()(u()(i),"time",new Date),f()(u()(i),"eventStartShowInfo",function(t){var e=T(t),n=i.state.step,a=i.props,o=a.scroll,s=a.labels,r=void 0===s?[]:s,c=e.x-i.element.offsetLeft,l=r.length*n/100*(o-i.props.width),h=i.nAsix(c,0).x+l,d=Math.round(h/n);d>0&&d<r.length?i.setState({showInfo:d}):i.setState({showInfo:!1})}),f()(u()(i),"eventMouseDown",function(t){i.isShowInfo||!1!==i.props.arcMode||(i.tapPosition=T(t),i.isShowInfo=!0,i.eventStartShowInfo(t))}),f()(u()(i),"eventTouchMove",function(t){t.target.closest(".".concat(R.a.canvas__show_info))!=i.showInfoNode&&i.isShowInfo&&!1===i.props.arcMode&&i.eventStartShowInfo(t)}),f()(u()(i),"eventUpdateMouse",function(t){var e=T(t,i.element);e.x===i.state.mouse.pointX&&e.y===i.state.mouse.pointY||i.setState({mouse:{pointX:e.x,pointY:e.y}})}),f()(u()(i),"eventMouseMove",function(t){t.target.closest(".".concat(R.a.canvas__show_info))!=i.showInfoNode&&i.isShowInfo&&!1===i.props.arcMode&&i.eventStartShowInfo(t),i.eventUpdateMouse(t)}),f()(u()(i),"eventMouseUp",function(t){t.target.closest(".".concat(R.a.canvas_wrapper))!=i.element&&!1===i.props.arcMode&&i.isShowInfo&&(i.isShowInfo=!1,i.setState({showInfo:!1}))}),f()(u()(i),"eventMouseLeave",function(){i.isShowInfo&&!1===i.props.arcMode&&(i.isShowInfo=!1,i.setState({showInfo:!1}))}),f()(u()(i),"eventMouseEnter",function(t){i.isShowInfo||!1!==i.props.arcMode||(i.isShowInfo=!0,i.eventStartShowInfo(t))}),f()(u()(i),"handleFadeOutYAsix",function(){var t=i.state.animationsValues.yAsixOpacity,e=void 0===t?100:t,n=0-e;i.createAnimation("anim-y-asix",function(t){var a=n*t;i.setState({animationsValues:s()({},i.state.animationsValues,{yAsixOpacity:e+a})})},150)}),f()(u()(i),"handleFadeOutXAsix",function(){var t=i.state.animationsValues.xAsixOpacity,e=void 0===t?100:t,n=0-e;i.createAnimation("anim-x-asix",function(t){var a=n*t;i.setState({animationsValues:s()({},i.state.animationsValues,{xAsixOpacity:e+a})})},150)}),f()(u()(i),"handleFadeInYAsix",function(){var t=i.state.animationsValues.yAsixOpacity,e=void 0===t?100:t,n=100-e;i.createAnimation("anim-y-asix",function(t){var a=n*t;i.setState({animationsValues:s()({},i.state.animationsValues,{yAsixOpacity:e+a})})},150)}),f()(u()(i),"handleFadeInXAsix",function(){var t=i.state.animationsValues.xAsixOpacity,e=void 0===t?100:t,n=100-e;i.createAnimation("anim-x-asix",function(t){var a=n*t;i.setState({animationsValues:s()({},i.state.animationsValues,{xAsixOpacity:e+a})})},150)}),f()(u()(i),"handleFadeInArcs",function(){var t=i.state.animationsValues,e=t.arcsScale,n=void 0===e?1:e,a=t.arcsOpacity,o=void 0===a?1:a,r=1-n,c=1-o;i.createAnimation("anim-arcs-scale",function(t){var e=r*t,a=c*t;i.setState({animationsValues:s()({},i.state.animationsValues,{arcsScale:n+e,arcsOpacity:o+a})})},400)}),f()(u()(i),"handleFadeOutArcs",function(){var t=i.state.animationsValues,e=t.arcsScale,n=void 0===e?1:e,a=t.arcsOpacity,o=void 0===a?1:a,r=0-n,c=0-o;i.createAnimation("anim-arcs-scale",function(t){var e=r*t,a=c*t;i.setState({animationsValues:s()({},i.state.animationsValues,{arcsScale:n+e,arcsOpacity:o+a})})},400)}),f()(u()(i),"handleFadeInAreas",function(){var t=i.state.animationsValues,e=t.areaScale,n=void 0===e?1:e,a=t.areaOpacity,o=void 0===a?1:a,r=1-n,c=1-o;i.createAnimation("anim-area-scale",function(t){var e=r*t,a=c*t;i.setState({animationsValues:s()({},i.state.animationsValues,{areaScale:n+e,areaOpacity:o+a})})},400)}),f()(u()(i),"handleFadeOutAreas",function(){var t=i.state.animationsValues,e=t.areaScale,n=void 0===e?1:e,a=t.areaOpacity,o=void 0===a?1:a,r=0-n,c=0-o;i.createAnimation("anim-area-scale",function(t){var e=r*t,a=c*t;i.setState({animationsValues:s()({},i.state.animationsValues,{areaScale:n+e,areaOpacity:o+a})})},400)}),f()(u()(i),"minMaxLines",{}),f()(u()(i),"handleApplyVisibility",function(t){for(var e=i.props.dataset,n=void 0===e?[]:e,a=i.state.visibility,o=void 0===a?{}:a,s=Object.keys(o),r=n.map(function(t){return t.id}),c=0;c<r.length;c++){var l=r[c],h=s.includes(l)&&1==o[l];h&&!t.includes(l)?i.handleFadeOutLine(l):!h&&t.includes(l)&&i.handleFadeInLine(l)}}),i.safeCalc=E(i.calc,1),i.props.allowYAsix?i.state.graphOffset.bottom=30:i.state.graphOffset.bottom=0,i}return M()(e,t),w()(e,null,[{key:"getXLabelText",value:function(t){var e=new Date(t),i=j[e.getMonth()],n=e.getDate();return"".concat(i," ").concat(n)}}]),w()(e,[{key:"componentDidMount",value:function(){this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mouseup",this.documentEventMouseUp),this.initialize()}},{key:"componentDidUpdate",value:function(t,e){var i=this.props,n=i.dataset,a=i.visibled,o=i.layout,s=i.labels,r=i.arcMode,c=void 0!==r&&r,l=this.state,h=l.step,d=l.graphOffset,u=l.graphMinMax,p=l.visibility,f=l.graphScale,v=l.showInfo,m=l.mouse,_=l.selectArc,w=l.zoom;t.arcMode!==c&&(!1===c?(this.handleFadeInYAsix(),this.handleFadeInXAsix(),this.handleFadeOutArcs(),this.handleFadeInAreas()):(this.handleFadeInArcs(),this.handleFadeOutYAsix(),this.handleFadeOutXAsix(),this.handleFadeOutAreas()));var y=this.props,g=y.layout,b=g.width,x=void 0===b?0:b,S=g.height,M=void 0===S?0:S,k=y.limit,z=y.offset,L=y.scroll,O=y.colors;y.id!==t.id&&this.setState({showInfo:!1}),t.visibled===a&&t.dataset===n&&t.layout.width===o.width&&t.layout.height===o.height&&t.limit===k&&t.offset===z||(t.layout.width===x&&t.layout.height===M||this.canvas.resize(x,M),t.visibled!==a&&this.handleApplyVisibility(a),this.reInit()),e.step===h&&e.graphOffset.top===d.top&&e.graphOffset.bottom===d.bottom&&e.graphOffset.left===d.left&&e.graphOffset.right===d.right&&t.scroll===L&&t.width===x&&t.colors===O&&t.labels===s&&e.graphMinMax===u&&e.graphScale===f&&e.showInfo===v&&e.visibility===p&&e.mouse===m&&e.selectArc===_&&e.zoom===w||(this.needDraw=!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.documentEventMouseUp),this.cart&&(this.cart.destroy(),this.cart=null),this.cartMiniMap&&(this.cartMiniMap.destroy(),this.cartMiniMap=null)}},{key:"findMinMaxForLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.min,a=void 0===n?99999999999:n,o=i.max,s=void 0===o?0:o,r=e.offset,c=r+e.limit;0===c&&(c=t.length);for(var l=r;l<t.length&&l<c;l+=1){var h=t[l];a=h<a?h:a,s=h>s?h:s}return[a,s]}},{key:"findMinMaxForBars",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.min,a=void 0===n?99999999999:n,o=i.max,s=void 0===o?0:o,r=e.visibled,c=void 0===r?[]:r,l=e.offset,h=l+e.limit;0===h&&(h=t[0].list.length);for(var d=function(e){var i=0;t.filter(function(t){return c.includes(t.id)}).forEach(function(t){i+=t.list[e],a=t.list[e]<a?t.list[e]:a}),s=i>s?i:s},u=l;u<t[0].list.length&&u<h;u+=1)d(u);return[a,s]}},{key:"findMinMax",value:function(){var t=this,e=this.props,i=e.dataset,n=void 0===i?[]:i,a=e.visibled,o=void 0===a?[]:a,r=e.offset,c=e.limit,l=99999999,h=0,d={};if(n.length>0){n.filter(function(t){return"line"===t.type}).forEach(function(e){var i=e.id,n=e.list,a=t.findMinMaxForLine(n,{offset:r,limit:c});d[i]=a,o.includes(i)&&(l=a[0]<l?a[0]:l,h=a[1]>h?a[1]:h)});var u=n.filter(function(t){return"bar"===t.type||"area"===t.type});if(u.length>0){var p=this.findMinMaxForBars(u,{visibled:o,offset:r,limit:c});l=p[0]<l?p[0]:l,h=p[1]>h?p[1]:h}}else l=0,h=10;return s()({common:[l,h]},d)}},{key:"nAsix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",n=this.props.layout.height,a=void 0===n?0:n,o=this.state,s=o.graphMinMax,r=o.graphScale,c=o.graphOffset,l=c.left,h=c.bottom,d=a-(e-A()(s[i],1)[0])*r[i]-h;return{x:l+t*r.x,y:d}}},{key:"getHeightGraph",value:function(){var t=this.props.layout,e=this.state.graphOffset,i=e.top,n=e.bottom;return t.height-i-n}},{key:"getWidthGraph",value:function(){var t=this.props.layout,e=this.state.graphOffset,i=e.left,n=e.right;return t.width-i-n}},{key:"setGraphOptions",value:function(t,i,n){var a=i.scroll,o=void 0===a?0:a,r=i.limit,c=void 0===r?0:r,l=i.length,h=i.animateYLines,d=void 0===h?0:h,u=n.width,p=this.getHeightGraph(),f=this.getWidthGraph(),v={};Object.keys(t).forEach(function(e){var i=A()(t[e],2),n=i[0],a=i[1]-n,o=a>0?p/a:1;v[e]=o});var m=f/u,_=e.calcXStep({width:u,limit:c,length:l}),w=_*l;this.setState({step:_,graphMinMax:t,graphScale:s()({},v,{x:m,animateYLines:d}),graphLayout:s()({},this.state.graphLayout,{width:f,height:p,fullWidth:w,offsetPx:w*(o-c)/100})})}},{key:"getLength",value:function(){var t=this.props.dataset,e=void 0===t?[]:t;return Math.max.apply(Math,h()(e.map(function(t){return t.list.length})))}},{key:"calc",value:function(){var t=this,e=this.props,i=e.dataset,n=void 0===i?[]:i,a=e.visibled,o=void 0===a?[]:a,s=e.yScaled,r=void 0!==s&&s,c=this.findMinMax();return r?n.filter(function(t){return o.includes(t.id)}).forEach(function(e){t.handleScale(e.id,c)}):this.handleScale("common",c),!0}},{key:"drawLine",value:function(t,e){for(var i=this.getWidthGraph(),n=this.props.yScaled,a=void 0!==n&&n,o=this.state.graphLayout.offsetPx,s=this.canvas.beginPath({color:e.color,opacity:e.opacity,lineWidth:e.lineWidth}),r=0;r<t.length;r++){var c=t[r],l=a?e.id:"common",h=this.nAsix(r*e.step-o,c,l),d=h.x,u=h.y;d>=0-2*e.step&&d<=i+2*e.step&&(0===r?s.moveTo(d,u):s.lineTo(d,u),e.drawPointValue&&this.canvas.text(c.value,{x:d,y:u,align:"center",font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}))}s.stroke()}},{key:"drawLines",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.visibility,a=void 0===n?{}:n,o=i.lineWidth,s=void 0===o?3:o,r=i.allowPointValue,c=void 0!==r&&r,l=0;l<t.length;l++){var h=t[l];this.drawLine(h.list,{id:h.id,opacity:a[h.id],color:h.color,step:e,lineWidth:s,drawPointValue:c})}}},{key:"drawBars",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getHeightGraph(),o=this.getWidthGraph(),s=this.state,r=A()(s.graphMinMax.common,2)[1],c=s.graphLayout.offsetPx,l=s.showInfo,h=void 0!==l&&l,d=n.visibility,u=void 0===d?{}:d,p=n.length,f=void 0===p?0:p;t=t.filter(function(t){return u[t.id]>0});for(var v=function(n){var s=i.nAsix(n*e-c,0).x;if(s>=0-2*e&&s<=o+2*e){var l=0;t.forEach(function(t){var e=t.list[n],i=u[t.id];l+=e*i});var d=2;t.forEach(function(t){var e=u[t.id];100*(t.list[n]*e)/l<2&&(d+=2)});var p=a-a*(100-100*l/r+d)/100,f=0;t.forEach(function(t){var o=u[t.id],r=100*(t.list[n]*o)/l;r<2&&(r=2);var c=p*r/100;!1!==h&&(o=h===n?1:.4);var d=t.color;if(1===o&&(o=.8),o<1){var v=N(d);d="rgba(".concat(v.r,",").concat(v.g,",").concat(v.b,",").concat(o,")")}i.canvas.rect(s,a-(c+f),{width:e,height:c,color:d,fill:!0}),f+=c})}},m=0;m<f;m++)v(m)}},{key:"drawAreas",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.state.animationsValues,o=a.areaScale,s=void 0===o?1:o,r=a.areaOpacity,c=void 0===r?1:r,l=this.getHeightGraph(),h=this.getWidthGraph(),d=this.state.graphLayout.offsetPx,u=n.visibility,p=void 0===u?{}:u,f=n.length,v=void 0===f?0:f;t=t.filter(function(t){return p[t.id]>0});for(var m={},_=function(n){var a=i.nAsix(n*e-d,0).x;if(a>=0-2*e&&a<=h+2*e){var o=0;t.forEach(function(t){var e=t.list[n],i=p[t.id];o+=e*i});var r=0;t.forEach(function(t){var e=p[t.id],i=t.list[n]*e,c=l*(100*i/o)/100*(1/s);m[t.id]||(m[t.id]=[]),m[t.id].push({x:a,y:l-(c+r)}),r+=c})}},w=0;w<v;w++)_(w);for(w=t.length-1;w>=0;w-=1){var y=t[w],g=p[y.id];c<1&&(g=c);var b=y.color;if(g<1){var x=N(b);b="rgba(".concat(x.r,",").concat(x.g,",").concat(x.b,",").concat(g,")")}var S=this.canvas.beginPath({color:b,opacity:g,lineWidth:n.lineWidth});S.moveTo(0,l);for(var M=0;M<m[y.id].length;M++){var k=m[y.id][M],z=k.x,L=k.y;S.lineTo(z,L)}S.lineTo(h,l),S.fill()}}},{key:"drawArc",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.state.animationsValues,o=a.arcsScale,s=void 0===o?1:o,r=a.arcsOpacity,c=void 0===r?1:r,l=this.getHeightGraph(),h=this.getWidthGraph(),d=this.state,u=d.graphLayout.offsetPx,p=d.mouse,f=p.pointX,v=void 0===f?0:f,m=p.pointY,_=void 0===m?0:m,w=d.selectArc,y=void 0!==w&&w,g=n.visibility,b=void 0===g?{}:g,x=n.length,S=void 0===x?0:x;t=t.filter(function(t){return b[t.id]>0});for(var M=0,k={},z=function(n){var a=i.nAsix(n*e-u,0).x;a>=0-2*e&&a<=h+2*e&&t.forEach(function(t){var e=b[t.id],i=t.list[n]*e;k[t.id]||(k[t.id]=0),k[t.id]+=i,M+=i})},L=0;L<S;L++)z(L);var O=0,A=Math.round(Math.min(h/2.3,l/2.3))*s,E=Math.round(A/1.5)*s,D=Math.round(h/2),I=Math.round(l/2),T=!1;t.forEach(function(t){var e=k[t.id],n=2*Math.PI*e/M,a=y===t.id?D+10*Math.cos(O+n/2):D,o=y===t.id?I+10*Math.sin(O+n/2):I;i.canvas.arc(a,o,A,O,O+n,{opacity:c,color:t.color,mouseX:v,mouseY:_,mouseMove:function(){T=t.id}}),O+=n}),!1!==T&&y!==T?setTimeout(function(){i.setState({selectArc:T})},1):!1===T&&y!==T&&setTimeout(function(){i.setState({selectArc:!1})},1),O=0,t.forEach(function(t){var e=k[t.id],n=e/M*100,a=2*Math.PI*e/M,o=E,s=20;if(a*(180/Math.PI)<30&&(s=12,o=A-20,a+=.03),a*(180/Math.PI)>8){var r=o*Math.cos(O+a/2)+D,c=o*Math.sin(O+a/2)+I;i.canvas.text("".concat(Math.round(n),"%"),{x:r,y:c,size:s,align:"center",color:"#fff",font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}O+=a})}},{key:"drawGraphs",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.props.arcMode,a=void 0!==n&&n,o=t.filter(function(t){return"arc"===t.type}),s=t.filter(function(t){return"area"===t.type}),r=t.filter(function(t){return"bar"===t.type}),c=t.filter(function(t){return"line"===t.type});o.length>0&&this.drawArc(o,e,i),(!1!==a||this.isTypeAnimating("anim-arcs"))&&this.drawArc(s,e,i),(!1===a||this.isTypeAnimating("anim-area"))&&this.drawAreas(s,e,i),this.drawBars(r,e,i),this.drawLines(c,e,i)}},{key:"createYLabels",value:function(t,e,i,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",o=this.props,s=o.colors,r=o.layout,c=r.width,l=r.height,h=this.state,d=h.graphOffset,u=d.asixX,p=void 0===u?0:u,f=d.asixY,v=void 0===f?0:f,m=h.animationsValues.yAsixOpacity,_=void 0===m?100:m,w=A()(e[t],2),y=w[0],g=[],b=w[1]-y,x=b>0?b/6:l/6,S=b/6,M=-25;M<25;M+=1){var k=this.nAsix(0,x*M+y,t),z=Math.floor(S*M+y);g.push(new W(P(z),{x:"start"===a?0+p:c,y:k.y-10+v+i,align:a,color:n,opacity:_,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial",size:14})),g.push(new Z({x:0+p,y:k.y+v+i},{x:c+p,y:k.y+v+i},{color:M>0?s.lines:s.lastLine,opacity:_,lineWidth:2}))}return g}},{key:"getYLabels",value:function(){var t=this,e=this.props,i=e.yScaled,n=void 0!==i&&i,a=e.dataset,o=void 0===a?[]:a,s=e.visibled,r=void 0===s?[]:s,c=e.colors,l=this.state,d=l.graphMinMax,u=l.graphScale.animateYLines;if(n){var p=[];return o.filter(function(t){return r.includes(t.id)}).forEach(function(e,i){p=[].concat(h()(p),h()(t.createYLabels(e.id,d,u,e.color,0===i?"start":"end")))}),p}return this.createYLabels("common",d,u,c.text,"start")}},{key:"drawDebugInfo",value:function(){var t=this.props,e=t.layout,i=t.offset,n=t.limit,a=t.scroll,o=t.width,s=this.state,r=s.graphMinMax,c=r.minY,l=r.maxY,h=s.graphScale,d=s.graphOffset,u=d.left,p=d.top,f=d.right,v=d.bottom,m=s.step;this.canvas.rect(0,0,{width:300,height:150,color:"rgba(0, 0, 0, 0.5)",fill:!0}),this.canvas.text("Min/Max Y: ".concat(c," / ").concat(l),{x:10,y:20,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Scale X/Y: ".concat(h.x," / ").concat(h.y),{x:10,y:40,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset L/T/R/B: ".concat(u,"px / ").concat(p,"px / ").concat(f,"px / ").concat(v,"px"),{x:10,y:60,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Width/Height: ".concat(e.width.toFixed(2),"px / ").concat(e.height.toFixed(2),"px"),{x:10,y:80,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Step: ".concat(m,"px"),{x:10,y:100,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit: ".concat(i," / ").concat(n),{x:10,y:120,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit (%): ".concat(a.toFixed(2)," / ").concat(o.toFixed(2)),{x:10,y:140,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}},{key:"drawFpsInfo",value:function(){var t=new Date,e=1e3/(t-this.time);this.time=t,this.canvas.rect(0,0,{width:100,height:50,color:"rgba(0, 0, 0, 0.5)",fill:!0}),this.canvas.text("FPS: ".concat(10*Math.ceil(e/10)),{x:10,y:20,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}},{key:"draw",value:function(){var t=this,e=this.state,i=e.step,n=e.visibility,a=void 0===n?{}:n,o=e.showInfo,s=void 0!==o&&o,r=e.animationsValues.xAsixOpacity,c=void 0===r?100:r,l=this.props,h=l.dataset,d=void 0===h?[]:h,u=l.visibled,p=void 0===u?[]:u,f=l.allowXAsix,v=l.allowYAsix,m=l.allowPointValue,_=l.lineWidth,w=void 0===_?3:_;this.canvas.clear();var y=[];if(v&&(y=this.getYLabels()),f){var g=this.props,b=g.id,x=g.scroll,S=g.labels,M=g.layout,k=g.width,z=this.state.graphLayout;this.labelX.setProps({id:b,width:k,scroll:x,labels:S,layout:M,graphLayout:z,opacity:c})}y.filter(function(t){return t instanceof Z}).forEach(function(e){return t.canvas.draw(e)}),d.length>0&&d[0].list.length>0&&this.drawGraphs(d,i,{visibled:p,visibility:a,lineWidth:w,allowPointValue:m,length:d[0].list.length}),y.filter(function(t){return t instanceof W}).forEach(function(e){return t.canvas.draw(e)}),this.props.debug&&this.drawDebugInfo(),this.props.fps&&this.drawFpsInfo(),!1!==s?this.drawShowInfo():this.showInfoNode.setAttribute("style","opacity: 0;")}},{key:"drawShowInfo",value:function(){var t=this,e=this.props,i=e.scroll,n=e.labels,a=void 0===n?[]:n,o=e.dataset,r=void 0===o?[]:o,c=e.visibled,l=void 0===c?[]:c,h=e.lineWidth,d=e.colors,u=e.layout,p=e.yScaled,f=void 0!==p&&p,v=this.state,m=v.step,_=v.graphOffset,w=v.showInfo,y=a.length*m/100*(i-this.props.width),g=w,b=a[g],x=new Date(b),S=j[x.getMonth()],M=U[x.getDay()],z=x.getDate(),L="".concat(M,", ").concat(S," ").concat(z),O=this.nAsix(g*m-y,0).x,A=r.filter(function(t){return l.includes(t.id)}).map(function(e){return s()({value:e.list[g],color:e.color,label:e.label,type:e.type},t.nAsix(g*m-y,e.list[g],f?e.id:"common"))}),E=A.filter(function(t){return"area"===t.type}).reduce(function(t,e){return e.value+t},0),D=(A=A.map(function(t){return s()({},t,{percent:"area"===t.type?100*t.value/E:null})})).filter(function(t){return"line"===t.type});D.length>0&&(this.canvas.line({x:O,y:0},{x:O,y:u.height-_.bottom},{color:d.activeLine,lineWidth:2}),D.forEach(function(e){t.canvas.circle(e.x,e.y,5,{lineWidth:h+2,color:d.background,strokColor:e.color})}));var I=g*m-y+10;I<0&&(I=0),this.showInfoNode.innerHTML="";for(var T=[],P=0;P<A.length;P+=1){var N=A[P],F=[R.a.canvas__show_info__row__item];A.some(function(t){return null!==t.percent})&&A.length>1&&F.push(R.a.canvas__show_info__row__item_with_percent),T.push(k("div",{className:F,children:[k("div",{className:R.a.canvas__show_info__row__item__percent,text:Math.round(N.percent)+"%"}),k("div",{className:R.a.canvas__show_info__row__item__name,text:N.label}),k("div",{className:R.a.canvas__show_info__row__item__value,style:"color: ".concat(N.color),text:C(N.value)})]}))}this.showInfoNode.appendChild(k("div",{className:R.a.canvas__show_info__wrapper,children:[k("div",{className:R.a.canvas__show_info__title,text:L}),k("div",{className:R.a.canvas__show_info__rows,children:T})]})),I+this.showInfoNode.clientWidth+30>u.width&&(I=u.width-this.showInfoNode.clientWidth-30),this.showInfoNode.setAttribute("style","opacity: 1;left: ".concat(I,"px"))}},{key:"createAnimation",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&(this.animations=this.animations.filter(function(e){return e.type!==t})),this.animations.push({type:t,startAt:Date.now(),step:e,duration:i})}},{key:"handleFadeInLine",value:function(t){var e=this;this.animations=this.animations.filter(function(e){return e.type!=="anim-dataset-".concat(t)}),this.animations.push({type:"anim-dataset-".concat(t),startAt:Date.now(),step:function(i){e.setState({visibility:s()({},e.state.visibility,f()({},t,I(i)))})},duration:300})}},{key:"handleFadeOutLine",value:function(t){var e=this;this.animations=this.animations.filter(function(e){return e.type!=="anim-dataset-".concat(t)}),this.animations.push({type:"anim-dataset-".concat(t),startAt:Date.now(),step:function(i){e.setState({visibility:s()({},e.state.visibility,f()({},t,1-I(i)))})},duration:300})}},{key:"isTypeAnimating",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.some(function(e){return t.animations.filter(function(t){return!1!==t}).some(function(t){return t.type.indexOf(e)>-1})})}},{key:"handleScale",value:function(t,e){var i=this,n=this.props.layout;!1===Object.keys(this.minMaxLines).includes(t)&&(this.minMaxLines[t]=[9999999999,0]);var a,o,r,c,l,h,d,u,p=A()(e[t],2),v=p[0],m=p[1],_=this.minMaxLines[t][0],w=this.minMaxLines[t][1];if(_!==v||w!==m){var y=v-_,g=m-w,b=w>m?1:-1,x=Math.abs(g);if(w==m&&(b=_<v?1:-1,x=Math.abs(y)),Math.abs(x)>n.height/2){var S=x>=0?1:-1;x=n.height/2*S}this.animations=this.animations.filter(function(e){return e.type!=="anim-graph-".concat(t)}),this.animations.push({type:"anim-graph-".concat(t),startAt:Date.now(),step:(a=[y,g],o=[_,w],r=A()(a,2),c=r[0],l=r[1],h=A()(o,2),d=h[0],u=h[1],function(e){var n=c*e+d,a=l*e+u,o=e>0?e*b:b,r=o>=0?1:-1,h=1-Math.abs(o),p=0!==o&&0!==h?x*h*r:0;i.updateGraphOptions(s()({},i.state.graphMinMax,f()({},t,[n,a])),p)}),duration:300}),this.minMaxLines[t]=[v,m]}else this.updateGraphOptions(s()({},this.state.graphMinMax,f()({},t,[v,m])),0)}},{key:"handleCreateLabelX",value:function(){var t=this.props,i=t.id,n=t.scroll,a=t.labels,o=t.layout,s=t.width,r=this.state.graphLayout;return new H({id:i,width:s,scroll:n,labels:a,layout:o,graphLayout:r,getLabel:e.getXLabelText})}},{key:"handleZoom",value:function(){var t=this.state.showInfo,e=void 0!==t&&t;if(!1!==e){var i=this.props,n=i.labels,a=void 0===n?[]:n,o=i.zoomType;if("none"!==(void 0===o?"none":o)){var s=a[e];this.setState({showInfo:!1}),this.props.onZoom(s,e)}}}},{key:"render",value:function(){var t=this.props.allowXAsix,e=void 0!==t&&t;this.canvasNode=k("canvas"),this.showInfoNode=k("div",{className:R.a.canvas__show_info,style:"opacity: 0;",onMouseDown:this.handleZoom.bind(this)});var i=[this.canvasNode,this.showInfoNode];return this.element=k("div",{className:R.a.canvas_wrapper,children:i,onTouchMove:this.eventTouchMove.bind(this),onMouseMove:this.eventMouseMove.bind(this),onMouseLeave:this.eventMouseLeave.bind(this),onMouseEnter:this.eventMouseEnter.bind(this),onTouchStart:this.eventMouseDown.bind(this)}),e&&(this.labelX=this.handleCreateLabelX(),this.labelX.renderDom(this.element)),this.element}}]),e}(L);f()(G,"defaultProps",{allowXAsix:!0,allowYAsix:!0,allowPointValue:!1,offset:0,limit:0,dataset:[],visibled:[],width:0,scroll:0,layout:{width:0,height:0},yScaled:!1}),f()(G,"calcXStep",function(t){var e=t.width,i=t.limit,n=t.length,a=t.maxStep,o=void 0===a?1e3:a,s=t.minStep,r=void 0===s?1:s,c=i>0?e/((n-1)*i/100):e/n;return c=Math.min(c,o),c=Math.max(c,r)});var B=G,q=i(13),J=i.n(q),$=i(17),K=i.n($),Q=function(t){function e(){return m()(this,e),g()(this,x()(e).apply(this,arguments))}return M()(e,t),w()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.dataset,n=void 0===i?[]:i,a=e.visibled,o=void 0===a?[]:a;t.dataset!==n?this.handleReRender():t.visibled!==o&&this.handleApplayVisibled()}},{key:"handleApplayVisibled",value:function(){var t=this,e=this.props,i=e.dataset,n=void 0===i?[]:i,a=e.visibled,o=void 0===a?[]:a;n.forEach(function(e){var i=t.items.find(function(t){return t.id==="switcher-for-".concat(e.id)});if(!i)throw new Error("Can't find swticher for ".concat(e.id));var n=i.querySelector(".".concat(J.a.line__switchers__item__check__circle_blank));if(!n)throw new Error("Can't find circle-blank by selector ."+J.a.line__switchers__item__check__circle_blank+"in swticher for ".concat(e.id));n.style="".concat(J.a.line__switchers__item__check__circle_blank,";")+"transform: scale(".concat(o.includes(e.id)?0:.9,");")})}},{key:"handleReRender",value:function(){var t=this,i=this.props,n=i.dataset,a=void 0===n?[]:n,o=i.visibled,s=void 0===o?[]:o,r=i.onSwitch;this.items.forEach(function(t){return t.remove()}),this.items=e.createItems(a,s,r),this.items.forEach(function(e){return t.element.appendChild(e)})}},{key:"render",value:function(){var t=this.props,i=t.dataset,n=void 0===i?[]:i,a=t.visibled,o=void 0===a?[]:a,s=t.onSwitch;return this.items=e.createItems(n,o,s),this.element=k("div",{className:J.a.line__switchers,children:this.items}),this.element}}],[{key:"createItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t.map(function(t){return k("div",{id:"switcher-for-".concat(t.id),className:J.a.line__switchers__item,children:[k("div",{className:J.a.line__switchers__item__check,style:"background-color: ".concat(t.color),children:[k("div",{className:J.a.line__switchers__item__check__circle_blank,style:"transform: scale(".concat(e.includes(t.id)?0:1,");")}),k("div",{className:J.a.line__switchers__item__check__icon,style:"background-image: url(".concat(K.a,")")})]}),k("div",{className:J.a.line__switchers__item__label,text:t.label})],onClick:function(){return i(t.id)}})})}}]),e}(L);f()(Q,"defaultProps",{dataset:[],visibled:[]});var tt,et,it=Q,nt=function(){function t(e){m()(this,t),this.data=e}return w()(t,[{key:"getXAsix",value:function(){var t=this,e=Object.keys(this.data.types).find(function(e){return"x"===t.data.types[e]});if(!e)throw new Error("Can't found x type");var i=this.data.columns.find(function(t){return t.length>0&&t[0]===e});if(!i)throw new Error("Can't found x column");return i.slice(1)}},{key:"getCharts",value:function(){var t=this;return this.data.columns.filter(function(t){return"x"!==t[0]}).map(function(e){return{id:e[0],type:t.data.types[e[0]],label:t.data.names[e[0]],color:t.data.colors[e[0]],list:e.slice(1)}})}},{key:"getLines",value:function(){var t=this,e=Object.keys(this.data.types).filter(function(e){return"line"===t.data.types[e]});if(0===e.length)throw new Error("Can't found any lines");if(this.data.columns.filter(function(t){return t.length>0&&e.includes(t[0])}).length!==e.length)throw new Error("Can't found lines #".concat(e.join(",")," in columns"));return e.map(function(e){return t.getLine(e)})}},{key:"getLine",value:function(t){var e=this.data.columns.find(function(e){return e.length>0&&e[0]===t}),i=this.data.names[t],n=this.data.colors[t];if(!e)throw new Error("Can't found ".concat(t," column"));if(!i)throw new Error("Can't name for type #".concat(t));if(!n)throw new Error("Can't found color for type #".concat(t));return{id:t,label:i,color:n,list:e.slice(1)}}},{key:"IsYScaled",value:function(){return!!this.data.y_scaled}},{key:"length",get:function(){return this.data.length}}]),t}(),at=i(16),ot=i.n(at),st="day",rt=(tt={},f()(tt,st,"Switch to Night Mode"),f()(tt,"night","Switch to Day Mode"),tt),ct=(et={},f()(et,st,{background:"#fff",text:"#96A2AA",lines:"#F2F4F5",lastLine:"#F2F4F5",activeLine:"#F2F4F5"}),f()(et,"night",{background:"#242F3E",text:"#546778",lines:"#293544",lastLine:"#313D4D",activeLine:"#3B4A5A"}),et),lt=i(3),ht=i.n(lt),dt=i(12),ut=i.n(dt),pt=function(t){function e(t){var i;m()(this,e),i=g()(this,x()(e).call(this,t)),f()(u()(i),"eventMouseMove",function(t){if(i.isChangePosition){var e=i.props,n=e.layout,a=e.width,o=i.changePositionEvent.scroll,s={x:i.changePositionEvent.x,y:i.changePositionEvent.y},r=T(t),c=s.x-r.x,l=c>0?1:0;if(0!==(c=Math.abs(c))){var h=100*c/n.width,d=o+h;1===l&&(d=o-h),d-a<0&&(d=a),d>100&&(d=100),i.props.scroll!==d&&i.props.onChange({scroll:d,width:a})}}if(i.isChangeSize){var u=i.props.layout,p=i.changeSizeEvent,f=p.width,v=p.side,m=void 0===v?"left":v,_={x:i.changeSizeEvent.x,y:i.changeSizeEvent.y},w=T(t),y=_.x-w.x,g=y>0?1:0;if(0!==(y=Math.abs(y)))if("left"===m){var b=i.props.scroll,x=100*y/u.width,S=f-x;1===g&&(S=f+x),S>b&&(S=b),S<5&&(S=5),i.props.width!==S&&i.props.onChange({width:S,scroll:b})}else if("right"===m){var M=i.changeSizeEvent.scroll,k=100*y/u.width,z=f+k,L=M+k;if(1===g&&(z=f-k,L=M-k),L>100)L=100,z=100-(M-f);z<5&&(z=5),i.props.width!==z&&i.props.onChange({width:z,scroll:L})}}}),f()(u()(i),"eventMouseUp",function(){i.isChangePosition=!1,i.isChangeSize=!1,i.changePositionEvent=!1,i.changeSizeEvent=!1}),f()(u()(i),"eventLeftZoneMouseDown",function(t){var e=i.props,n=e.width,a=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=s()({},T(t),{side:"left",width:n,scroll:a})}),f()(u()(i),"eventRightZoneMouseDown",function(t){var e=i.props,n=e.width,a=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=s()({},T(t),{side:"right",width:n,scroll:a})}),f()(u()(i),"eventZoneMouseDown",function(t){var e=i.props.scroll;i.isChangePosition=!0,i.changePositionEvent=s()({},T(t),{scroll:e})});var n=t.id,a=t.dataset,o=void 0===a?[]:a,r=t.layout,c=t.yScaled;return i.cartMiniMap=new B({id:n,lineWidth:2,dataset:o,yScaled:c,allowXAsix:!1,allowYAsix:!1,layout:{width:r.width,height:50}}),i}return M()(e,t),w()(e,[{key:"componentDidMount",value:function(){this.attachEvents()}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.scroll,n=e.width,a=e.dataset,o=e.layout,s=e.visibled,r=e.yScaled;t.scroll===i&&t.width===n||(this.minimapZone.style.left="".concat(i-n,"%"),this.minimapZone.style.width="".concat(n,"%"),this.minimapLeftZone.style="width: ".concat(i-n,"%"),this.minimapRightZone.style="width: ".concat(100-i,"%"),this.minimapLeftSizeZone.style="left: ".concat(i-n,"%;"),this.minimapRightSizeZone.style="left: ".concat(i,"%;")),t.dataset===a&&t.yScaled===r&&t.visibled===s&&t.layout===o||this.cartMiniMap.setProps({yScaled:r,visibled:s,dataset:a,layout:{width:o.width,height:50}})}},{key:"dettachEvents",value:function(){document.removeEventListener("mousemove",this.documentEventMouseMove),document.removeEventListener("mouseup",this.documentEventMouseUp),document.removeEventListener("touchmove",this.documentEventMouseMove),document.removeEventListener("touchend",this.documentEventMouseUp)}},{key:"attachEvents",value:function(){this.documentEventMouseMove=this.eventMouseMove.bind(this),this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mousemove",this.documentEventMouseMove),document.addEventListener("mouseup",this.documentEventMouseUp),document.addEventListener("touchmove",this.documentEventMouseMove),document.addEventListener("touchend",this.documentEventMouseUp)}},{key:"render",value:function(){var t=this.props,e=t.scroll,i=t.width;return this.minimapLeftZone=k("div",{className:ut.a.minimap__left_zone,style:"width: ".concat(e-i,"%")}),this.minimapLeftSizeZone=k("div",{className:ut.a.minimap__left_size_zone,style:"left: ".concat(e-i,"%;"),children:k("div",{className:ut.a.minimap__size_zone__helper,onMouseDown:this.eventLeftZoneMouseDown.bind(this),onTouchStart:this.eventLeftZoneMouseDown.bind(this)})}),this.minimapZone=k("div",{className:ut.a.minimap__zone,style:"left: ".concat(e-i,"%; width: ").concat(i,"%"),onMouseDown:this.eventZoneMouseDown.bind(this),onTouchStart:this.eventZoneMouseDown.bind(this)}),this.minimapRightSizeZone=k("div",{className:ut.a.minimap__right_size_zone,style:"left: ".concat(e,"%;"),children:k("div",{className:ut.a.minimap__size_zone__helper,onMouseDown:this.eventRightZoneMouseDown.bind(this),onTouchStart:this.eventRightZoneMouseDown.bind(this)})}),this.minimapRightZone=k("div",{className:ut.a.minimap__right_zone,style:"width: ".concat(100-e,"%")}),this.minimap=k("div",{className:ut.a.minimap,children:[this.minimapLeftZone,this.minimapLeftSizeZone,this.minimapZone,this.minimapRightSizeZone,this.minimapRightZone]}),this.canvasWrapper=k("div",{className:ut.a.minimap__canvas_wrapper}),this.element=k("div",{className:ut.a.charts__minimap_wrapper,children:[this.minimap,this.canvasWrapper]}),this.cartMiniMap.renderDom(this.canvasWrapper),this.element}}]),e}(L);f()(pt,"defaultProps",{id:0,dataset:[],visibled:[],layout:{},scroll:0,width:0,yScaled:!1});var ft=pt,vt=function(t){function e(){return m()(this,e),g()(this,x()(e).apply(this,arguments))}return M()(e,t),w()(e,[{key:"componentWillUnmount",value:function(){this.cart&&(this.cart.destroy(),this.cart=null),this.miniMap&&(this.miniMap.destroy(),this.miniMap=null)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.arcMode,n=e.fontSize,a=e.loading,o=e.zoom,s=e.colors,r=e.layout,c=e.mode,l=e.data;if(t!==n&&this.element.setAttribute("style","font-size: ".concat(n,"px")),t.mode!==c&&this.applyColorMode(),t.arcMode!==i&&this.cart.setProps({arcMode:i}),t.colors!==s&&(this.cart.setProps({colors:s}),this.miniMap.setProps({colors:s})),t.data.title===l.title&&t.loading===a||this.updateTitle(),t.data!==l){var h=this.props.data,d=h.visibled,u=void 0===d?[]:d,p=h.dataset,f=void 0===p?[]:p,v=h.labels,m=h.scroll,_=h.width,w=h.yScaled,y=void 0!==w&&w,g=f.length>0?f[0].list.length:0,b=_t.calcLimitOffset(g,_,m),x=b.limit,S=b.offset;this.cart.setProps({yScaled:y,dataset:f,labels:v,visibled:u,offset:S,limit:x,scroll:m,width:_}),t.data.dataset===f&&t.data.yScaled===y&&t.data.scroll===m&&t.data.width===_&&t.data.visibled===u||(this.miniMap.setProps({scroll:m,width:_,yScaled:y,visibled:u,dataset:f}),this.lineSwitcher.setProps({dataset:f,visibled:u})),t.data.scroll===m&&t.data.width===_||(this.datesTitle.innerText="".concat(_t.getXLabelText(v[S])," - ").concat(_t.getXLabelText(v[S+x-1])))}!1!==t.zoom&&!1===o?this.zoomOut.classList.toggle(ht.a.charts__zoom_out__show):!1===t.zoom&&!1!==o&&this.zoomOut.classList.toggle(ht.a.charts__zoom_out__show),t.layout!==r&&(this.cart.setProps({layout:{width:r.width,height:window.innerHeight/100*40}}),this.miniMap.setProps({layout:r}))}},{key:"applyColorMode",value:function(){var t=this.props.mode;this.ownElement.classList.toggle(ht.a.mode_night,"night"===t),this.colorSwitcherItem.innerText=rt[t]}},{key:"updateTitle",value:function(){var t=this.props,e=t.data.title,i=void 0===e?"":e,n=t.loading,a=void 0!==n&&n;this.title.innerText=a?"Loading...":i}},{key:"changeMiniMap",value:function(t){var e=t.width,i=t.scroll;this.props.onChangeOffsets({width:e,scroll:i})}},{key:"render",value:function(){var t=this.props,e=t.fontSize,i=void 0===e?16:e,n=t.loading,a=void 0!==n&&n,o=t.arcMode,s=void 0!==o&&o,r=t.zoomType,c=void 0===r?"none":r,l=t.zoom,h=void 0!==l&&l,d=t.colors,u=t.layout,p=t.mode,f=t.data,v=f.title,m=void 0===v?"":v,_=f.visibled,w=void 0===_?[]:_,y=f.dataset,g=void 0===y?[]:y,b=f.labels,x=f.scroll,S=f.width,M=f.yScaled,z=void 0!==M&&M,L=g.length>0?g[0].list.length:0,O=_t.calcLimitOffset(L,S,x),A=O.limit,E=O.offset;return this.cart=new B({id:1,zoomType:c,lineWidth:3,zoom:h,arcMode:s,visibled:w,dataset:g,offset:E,limit:A,scroll:x,width:S,labels:b,yScaled:z,layout:{width:u.width,height:window.innerHeight/100*40},colors:d,onZoom:this.props.onZoom}),this.miniMap=new ft({id:1,dataset:g,layout:u,scroll:x,width:S,yScaled:z,onChange:this.changeMiniMap.bind(this)}),this.lineSwitcher=new it({dataset:g,visibled:w,onSwitch:this.props.onSwitchVisible.bind(this)}),this.colorSwitcherItem=k("div",{className:ht.a.color__switcher__item,text:rt[p],onClick:this.props.onToggleMode.bind(this)}),this.colorSwitcher=k("div",{className:ht.a.color__switcher,children:this.colorSwitcherItem}),this.title=k("h1",{className:ht.a.chart_title,text:a?"Loading...":m}),this.datesTitle=k("div",{className:ht.a.charts__dates,text:"".concat(E," - ").concat(E+A-1)}),this.zoomOut=k("div",{className:ht.a.charts__zoom_out,children:[k("div",{className:ht.a.charts__zoom_out__icon,style:"background-image: url(".concat(ot.a,")")}),k("div",{className:ht.a.charts__zoom_out__text,text:"Zoom Out"})],onClick:this.props.onZoomOut}),this.element=k("div",{className:ht.a.charts,style:"font-size: ".concat(i,"px"),children:[this.title,this.zoomOut,this.datesTitle]}),this.cart.renderDom(this.element),this.miniMap.renderDom(this.element),this.lineSwitcher.renderDom(this.element),this.element.appendChild(this.colorSwitcher),this.element}}]),e}(L),mt=function(t){function e(t){var i;return m()(this,e),i=g()(this,x()(e).call(this,t)),f()(u()(i),"state",{mode:st,title:"",scroll:100,width:25,dataset:[],labels:[],yScaled:!1,init:!1,loading:!0,zoom:!1}),f()(u()(i),"element",!1),f()(u()(i),"cart",!1),f()(u()(i),"handleSwitchDataSet",function(t){var e=i.state.visibled,n=void 0===e?[]:e;n.includes(t)?i.setState({visibled:n.filter(function(e){return e!==t})}):i.setState({visibled:[].concat(h()(n),[t])})}),f()(u()(i),"handleZoom",function(){var t=c()(a.a.mark(function t(e,n){var o,r,c,l,h,d,u,p,f,v;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.props,r=o.zoomType,c=void 0===r?"none":r,l=o.getZoomedDataUrl,"byDay"!==c){t.next=9;break}5,5,h=i.state.dataset.map(function(t){return s()({},t,{list:t.list.slice(n-5,n+5)})}),d=i.state.labels.slice(n-5,n+5),i.setState({zoom:{index:n,unixTimestamp:e,offsetBefore:5,offsetAfter:5,scroll:50,width:10,labels:d,dataset:h,visibled:i.state.visibled}}),t.next=18;break;case 9:if("byHours"!==c){t.next=18;break}return i.setState({loading:!0}),u=l(e),t.next=14,i.loadData(u);case 14:p=t.sent,f=p.getCharts(),v=p.getXAsix(),i.setState({zoom:{labels:v,dataset:f,visibled:f.map(function(t){return t.id})},loading:!1});case 18:case"end":return t.stop()}},t)}));return function(e,i){return t.apply(this,arguments)}}()),f()(u()(i),"handleZoomOut",function(){i.setState({zoom:!1})}),i.state.index=t.startIndex,i}return M()(e,t),w()(e,null,[{key:"getXLabelText",value:function(t){var e=new Date(t),i=j[e.getMonth()],n=e.getDate(),a=e.getFullYear();return"".concat(n," ").concat(i," ").concat(a)}},{key:"calcLimitOffset",value:function(t,e,i){var n=t>0?Math.round(t/100*e):0;return{limit:n,offset:t>0?Math.round(t/100*i)-n:0}}}]),w()(e,[{key:"componentDidMount",value:function(){this.prepareOwnElement(),this.attachEvents(),this.state.layout={width:this.element.clientWidth,height:this.element.clientHeight},this.setState({init:!0}),this.handleLoadDataCharts()}},{key:"componentDidUpdate",value:function(t,e){var i=this.state,n=i.labels,a=void 0===n?[]:n,o=i.dataset,s=void 0===o?[]:o,r=i.visibled,c=void 0===r?[]:r,l=i.scroll,h=i.width,d=i.layout,u=i.mode,p=i.title,f=void 0===p?"":p,v=i.index,m=void 0===v?0:v,_=i.loading,w=void 0!==_&&_,y=i.yScaled,g=void 0!==y&&y,b=i.zoom,x=void 0!==b&&b,S=this.props.arcMode,M=void 0!==S&&S,k=!!this.cart;if(this.handleUpdateFontSize(),this.element)if(k){if(e.visibled!==c||e.dataset!==s||e.labels!==a||e.scroll!==l||e.width!==h||e.yScaled!==g||t.arcMode!==M||e.mode!==u||e.zoom!==x){if(e.mode!==u&&this.handleApplyColorMode(),!1!==x){var z=x.dataset.length>0?x.dataset[0].list.length:0,L=_t.calcLimitOffset(z,x.width,x.scroll),O=L.limit,A=L.offset;this.cart.setProps({id:m,zoom:x,yScaled:g,dataset:x.dataset,labels:x.labels,visibled:c,offset:A,limit:O,scroll:x.scroll,width:x.width,arcMode:M,colors:ct[u]}),this.miniMap.setProps({yScaled:g,visibled:c,dataset:x.dataset,scroll:x.scroll,width:x.width}),this.lineSwitcher.setProps({dataset:x.dataset,visibled:c}),this.datesTitle.innerText="".concat(_t.getXLabelText(x.labels[A])," - ").concat(_t.getXLabelText(x.labels[A+O-1]))}else{var E=s.length>0?s[0].list.length:0,D=_t.calcLimitOffset(E,h,l),I=D.limit,T=D.offset;this.cart.setProps({id:m,zoom:x,yScaled:g,dataset:s,labels:a,visibled:c,offset:T,limit:I,scroll:l,width:h,arcMode:M,colors:ct[u]}),e.dataset===s&&e.yScaled===g&&e.visibled===c&&e.zoom===x||(this.miniMap.setProps({yScaled:g,visibled:c,dataset:s}),this.lineSwitcher.setProps({dataset:s,visibled:c})),e.scroll===l&&e.width===h&&e.zoom===x||(this.datesTitle.innerText="".concat(_t.getXLabelText(a[T])," - ").concat(_t.getXLabelText(a[T+I-1])))}!1!==e.zoom&&!1===x?(this.zoomOut.classList.toggle(ht.a.charts__zoom_out__show),this.miniMap.setProps({scroll:l,width:h})):!1===e.zoom&&!1!==x&&this.zoomOut.classList.toggle(ht.a.charts__zoom_out__show)}e.layout!==d&&(this.cart.setProps({layout:{width:d.width,height:window.innerHeight/100*40}}),this.miniMap.setProps({layout:d})),e.scroll===l&&e.width===h||this.miniMap.setProps({scroll:l,width:h}),e.title===f&&e.loading===w||this.handleUpdateTitle()}else this.handleInitilizeCharts()}},{key:"componentWillUnmount",value:function(){this.dettachEvents(),this.cart&&(this.cart.destroy(),this.cart=null),this.miniMap&&(this.miniMap.destroy(),this.miniMap=null)}},{key:"dettachEvents",value:function(){}},{key:"attachEvents",value:function(){var t=this;window.onresize=E(function(){t.setState({layout:{width:t.element.clientWidth,height:t.element.clientHeight}})},100)}},{key:"prepareOwnElement",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(ht.a.mode_night,"night"===t),this.ownElement.classList.add(ht.a.app)}},{key:"loadData",value:function(){var t=c()(a.a.mark(function t(e){var i,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return i=t.sent,n=JSON.parse(i),o=new nt(n),t.abrupt("return",o);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"setDataChart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart",i=t.getCharts(),n=t.getXAsix();this.setState({labels:n,yScaled:t.IsYScaled(),
//!!dataJson.y_scaled,
title:e,charts:t.length,dataset:i,visibled:i.map(function(t){return t.id}),scroll:100,width:25})}},{key:"handleLoadDataCharts",value:function(){var t=c()(a.a.mark(function t(){var e,i,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,i=e.name,n=e.dataUrl,this.setState({loading:!0}),t.next=4,this.loadData(n);case 4:o=t.sent,this.setDataChart(o,i),this.setState({loading:!1});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"handleInitilizeColorModeSwitcher",value:function(){var t=this.state.mode;this.colorSwitcherItem=k("div",{className:ht.a.color__switcher__item,text:rt[t],onClick:this.handleToggleColorMode.bind(this)}),this.colorSwitcher=k("div",{className:ht.a.color__switcher,children:this.colorSwitcherItem})}},{key:"handleInitilizeCharts",value:function(){var t=this.props,e=t.arcMode,i=void 0!==e&&e,n=t.zoomType,a=void 0===n?"none":n,o=this.state,s=o.visibled,r=void 0===s?[]:s,c=o.dataset,l=void 0===c?[]:c,h=o.labels,d=o.scroll,u=o.width,p=o.layout,f=o.mode,v=o.index,m=o.yScaled,_=void 0!==m&&m,w=o.zoom,y=void 0!==w&&w,g=l.length>0?l[0].list.length:0,b=_t.calcLimitOffset(g,u,d),x=b.limit,S=b.offset;this.cart=new B({id:v,zoomType:a,lineWidth:3,zoom:y,arcMode:i,visibled:r,dataset:l,offset:S,limit:x,scroll:d,width:u,labels:h,yScaled:_,layout:{width:p.width,height:window.innerHeight/100*40},colors:ct[f],onZoom:this.handleZoom.bind(this)}),this.miniMap=new ft({id:v,dataset:l,layout:p,scroll:d,width:u,yScaled:_,onChange:this.handleUpdateMiniMap.bind(this)}),this.lineSwitcher=new it({dataset:l,visibled:r,onSwitch:this.handleSwitchDataSet.bind(this)}),this.cart.renderDom(this.element),this.miniMap.renderDom(this.element),this.lineSwitcher.renderDom(this.element),this.handleInitilizeColorModeSwitcher(),this.element.appendChild(this.colorSwitcher),this.datesTitle.innerText="".concat(S," - ").concat(S+x-1)}},{key:"handleUpdateMiniMap",value:function(t){var e=t.width,i=t.scroll,n=this.state.zoom,a=void 0!==n&&n;!1===a?this.setState({width:e,scroll:i}):this.setState({zoom:s()({},a,{width:e,scroll:i})})}},{key:"handleUpdateFontSize",value:function(){var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.element.setAttribute("style","font-size: ".concat(t,"px"))}},{key:"handleToggleColorMode",value:function(){var t=this.state.mode;this.setState({mode:t===st?"night":st})}},{key:"handleApplyColorMode",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(ht.a.mode_night,"night"===t),this.colorSwitcherItem.innerText=rt[t]}},{key:"handleUpdateTitle",value:function(){var t=this.state,e=t.title,i=void 0===e?"":e,n=t.loading,a=void 0!==n&&n;this.title.innerText=a?"Loading...":i}},{key:"render",value:function(){var t=this.state,e=t.title,i=void 0===e?"":e,n=t.loading,a=void 0!==n&&n,o=+(window.innerWidth/40).toFixed(2);return o>16&&(o=16),this.title=k("h1",{className:ht.a.chart_title,text:a?"Loading...":i}),this.datesTitle=k("div",{className:ht.a.charts__dates}),this.zoomOut=k("div",{className:ht.a.charts__zoom_out,children:[k("div",{className:ht.a.charts__zoom_out__icon,style:"background-image: url(".concat(ot.a,")")}),k("div",{className:ht.a.charts__zoom_out__text,text:"Zoom Out"})],onClick:this.handleZoomOut.bind(this)}),this.element=k("div",{className:ht.a.charts,style:"font-size: ".concat(o,"px"),children:[this.title,this.zoomOut,this.datesTitle]}),this.element}}]),e}(L);f()(mt,"defaultProps",{startIndex:0});var _t=function(t){function e(){var t,i;m()(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=g()(this,(t=x()(e)).call.apply(t,[this].concat(o))),f()(u()(i),"state",{mode:st,layout:{width:0,height:0},data:{title:"",scroll:100,width:25,dataset:[],labels:[],visibled:[],yScaled:!1},fontSize:16,init:!1,loading:!0,zoom:!1}),f()(u()(i),"element",!1),f()(u()(i),"chart",!1),f()(u()(i),"handleZoom",function(){var t=c()(a.a.mark(function t(e,n){var o,r,c,l,h,d,u,p,f,v,m;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.props,r=o.zoomType,c=void 0===r?"none":r,l=o.getZoomedDataUrl,"byDay"!==c){t.next=10;break}h=i.getCurrentData(),5,5,d=h.dataset.map(function(t){return s()({},t,{list:t.list.slice(n-5,n+5)})}),u=h.labels.slice(n-5,n+5),i.setState({zoom:{title:h.title,visibled:h.visibled,yScaled:h.yScaled,index:n,unixTimestamp:e,offsetBefore:5,offsetAfter:5,scroll:50,width:10,labels:u,dataset:d}}),t.next=19;break;case 10:if("byHours"!==c){t.next=19;break}return i.setState({loading:!0}),p=l(e),t.next=15,i.loadData(p);case 15:f=t.sent,v=f.getCharts(),m=f.getXAsix(),i.setState({zoom:{labels:m,dataset:v,visibled:v.map(function(t){return t.id})},loading:!1});case 19:case"end":return t.stop()}},t)}));return function(e,i){return t.apply(this,arguments)}}()),f()(u()(i),"handleZoomOut",function(){i.setState({zoom:!1})}),f()(u()(i),"handleSwitchDataSet",function(t){var e=i.getCurrentData().visibled,n=void 0===e?[]:e;n.includes(t)?i.setCurrentData({visibled:n.filter(function(e){return e!==t})}):i.setCurrentData({visibled:[].concat(h()(n),[t])})}),i}return M()(e,t),w()(e,[{key:"componentDidMount",value:function(){this.prepareOwnElement();var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.setState({fontSize:t,init:!0,layout:{width:this.element.clientWidth,height:this.element.clientHeight}}),this.handleLoadDataCharts()}},{key:"componentDidUpdate",value:function(t,e){var i=this.props.arcMode,n=this.state,a=n.zoom,o=n.fontSize,s=n.loading,r=n.layout,c=n.mode,l=n.data;t.arcMode===i&&e.zoom===a&&e.fontSize===o&&e.loading===s&&e.layout===r&&e.mode===c&&e.data===l||this.chart.setProps({zoom:!1!==a,arcMode:!1!==a&&i,fontSize:o,loading:s,colors:ct[c],layout:r,mode:c,data:!1===a?l:a})}},{key:"attachEvents",value:function(){var t=this;window.onresize=E(function(){t.setState({layout:{width:t.element.clientWidth,height:t.element.clientHeight}}),t.updateFontSize()},100)}},{key:"getCurrentData",value:function(){var t=this.state,e=t.data,i=t.zoom,n=void 0!==i&&i;return!1!==n?n:e}},{key:"setCurrentData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.state,i=e.data,n=e.zoom,a=void 0!==n&&n;!1!==a?this.setState({zoom:s()({},a,t)}):this.setState({data:s()({},i,t)})}},{key:"prepareOwnElement",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(ht.a.mode_night,"night"===t),this.ownElement.classList.add(ht.a.app)}},{key:"loadData",value:function(){var t=c()(a.a.mark(function t(e){var i,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return i=t.sent,n=JSON.parse(i),o=new nt(n),t.abrupt("return",o);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"setDataChart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart",i=t.getCharts(),n=t.getXAsix();this.setState({data:{title:e,scroll:100,width:25,dataset:i,labels:n,visibled:i.map(function(t){return t.id}),yScaled:t.IsYScaled()}})}},{key:"handleLoadDataCharts",value:function(){var t=c()(a.a.mark(function t(){var e,i,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,i=e.name,n=e.dataUrl,this.setState({loading:!0}),t.next=4,this.loadData(n);case 4:o=t.sent,this.setDataChart(o,i),this.setState({loading:!1});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateFontSize",value:function(){var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.state.fontSize!==t&&this.setState({fontSize:t})}},{key:"handleToggleColorMode",value:function(){var t=this.state.mode;this.setState({mode:t===st?"night":st})}},{key:"handleUpdateMiniMap",value:function(t){var e=t.width,i=t.scroll;this.setCurrentData({width:e,scroll:i})}},{key:"render",value:function(){var t=this.state,e=t.loading,i=void 0!==e&&e,n=t.zoom,a=void 0!==n&&n,o=t.layout,s=t.mode,r=t.data,c=t.fontSize,l=void 0===c?16:c;return this.chart=new vt({arcMode:!1,zoomType:!1,zoom:a,fontSize:l,loading:i,colors:ct[s],layout:o,mode:s,data:r,onToggleMode:this.handleToggleColorMode.bind(this),onSwitchVisible:this.handleSwitchDataSet.bind(this),onChangeOffsets:this.handleUpdateMiniMap.bind(this),onZoom:this.handleZoom.bind(this),onZoomOut:this.handleZoomOut.bind(this)}),this.element=k("div",{className:ht.a.app,style:"font-size: ".concat(l,"px")}),this.chart.renderDom(this.element),this.element}}],[{key:"getXLabelText",value:function(t){var e=new Date(t),i=j[e.getMonth()],n=e.getDate(),a=e.getFullYear();return"".concat(n," ").concat(i," ").concat(a)}},{key:"calcLimitOffset",value:function(t,e,i){var n=t>0?Math.round(t/100*e):0;return{limit:n,offset:t>0?Math.round(t/100*i)-n:0}}}]),e}(L),wt=_t;-1===window.location.pathname.indexOf("stage-2.html")?(window.app0=new wt({name:"Chart 1",dataUrl:"data/data.0.json"}),window.app0.renderDom(document.getElementById("app0")),window.app1=new wt({name:"Chart 2",dataUrl:"data/data.1.json"}),window.app1.renderDom(document.getElementById("app1")),window.app2=new wt({name:"Chart 3",dataUrl:"data/data.2.json"}),window.app2.renderDom(document.getElementById("app2")),window.app3=new wt({name:"Chart 4",dataUrl:"data/data.3.json"}),window.app3.renderDom(document.getElementById("app3")),window.app4=new wt({name:"Chart 5",dataUrl:"data/data.4.json"}),window.app4.renderDom(document.getElementById("app4"))):window.location.pathname.indexOf("stage-2.html")>-1&&(window.app0=new wt({name:"Followers",dataUrl:"data/new/1/overview.json"}),window.app0.renderDom(document.getElementById("app0")),window.app1=new wt({name:"Interactions",dataUrl:"data/new/2/overview.json"}),window.app1.renderDom(document.getElementById("app1")),window.app2=new wt({name:"Chart 3",dataUrl:"data/new/3/overview.json"}),window.app2.renderDom(document.getElementById("app2")),window.app3=new wt({name:"Views",dataUrl:"data/new/4/overview.json"}),window.app3.renderDom(document.getElementById("app3")),window.app4=new wt({name:"Chart 5",dataUrl:"data/new/5/overview.json",arcMode:!0,zoomType:"byDay"}),window.app4.renderDom(document.getElementById("app4")))}]);
//# sourceMappingURL=main.9bfc3c047e36eddd048f.js.map