!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=31)}([function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,i){var a=i(0);t.exports=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){a(t,e,i[e])})}return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t.exports=function(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}},function(t,e,i){t.exports={canvas_wrapper:"canvas_wrapper",canvasWrapper:"canvas_wrapper",canvas__show_info:"canvas__show_info",canvasShowInfo:"canvas__show_info",canvas__show_info__wrapper:"canvas__show_info__wrapper",canvasShowInfoWrapper:"canvas__show_info__wrapper",mode_night:"mode_night",modeNight:"mode_night",canvas__show_info__title:"canvas__show_info__title",canvasShowInfoTitle:"canvas__show_info__title",canvas__show_info__title__value:"canvas__show_info__title__value",canvasShowInfoTitleValue:"canvas__show_info__title__value",canvas__show_info__title__zoom:"canvas__show_info__title__zoom",canvasShowInfoTitleZoom:"canvas__show_info__title__zoom",canvas__show_info__rows:"canvas__show_info__rows",canvasShowInfoRows:"canvas__show_info__rows",canvas__show_info__row__item:"canvas__show_info__row__item",canvasShowInfoRowItem:"canvas__show_info__row__item",canvas__show_info__row__item__percent:"canvas__show_info__row__item__percent",canvasShowInfoRowItemPercent:"canvas__show_info__row__item__percent",canvas__show_info__row__item__name:"canvas__show_info__row__item__name",canvasShowInfoRowItemName:"canvas__show_info__row__item__name",canvas__show_info__row__item__value:"canvas__show_info__row__item__value",canvasShowInfoRowItemValue:"canvas__show_info__row__item__value",canvas__show_info__row__item_with_percent:"canvas__show_info__row__item_with_percent",canvasShowInfoRowItemWithPercent:"canvas__show_info__row__item_with_percent",canvas_wrapper__x_labels_wrapper:"canvas_wrapper__x_labels_wrapper",canvasWrapperXLabelsWrapper:"canvas_wrapper__x_labels_wrapper",canvas_wrapper__x_labels_wrapper__item:"canvas_wrapper__x_labels_wrapper__item",canvasWrapperXLabelsWrapperItem:"canvas_wrapper__x_labels_wrapper__item"}},function(t,e,i){var a=i(26),n=i(1);t.exports=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?n(t):e}},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e,i){var a=i(27);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}},function(t,e,i){t.exports=i(25)},function(t,e,i){t.exports={app:"app",mode_night:"mode_night",modeNight:"mode_night",charts:"charts",chart_title:"chart_title",chartTitle:"chart_title",color__switcher:"color__switcher",colorSwitcher:"color__switcher",color__switcher__item:"color__switcher__item",colorSwitcherItem:"color__switcher__item",charts__title_wrapper:"charts__title_wrapper",chartsTitleWrapper:"charts__title_wrapper",charts__zoom_out:"charts__zoom_out",chartsZoomOut:"charts__zoom_out",charts__zoom_out__show:"charts__zoom_out__show",chartsZoomOutShow:"charts__zoom_out__show",charts__zoom_out__icon:"charts__zoom_out__icon",chartsZoomOutIcon:"charts__zoom_out__icon",charts__zoom_out__text:"charts__zoom_out__text",chartsZoomOutText:"charts__zoom_out__text",charts__dates:"charts__dates",chartsDates:"charts__dates"}},function(t,e,i){t.exports={charts__minimap_wrapper:"charts__minimap_wrapper",chartsMinimapWrapper:"charts__minimap_wrapper",minimap:"minimap",minimap__zone:"minimap__zone",minimapZone:"minimap__zone",minimap__left_zone:"minimap__left_zone",minimapLeftZone:"minimap__left_zone",minimap__right_zone:"minimap__right_zone",minimapRightZone:"minimap__right_zone",minimap__left_size_zone:"minimap__left_size_zone",minimapLeftSizeZone:"minimap__left_size_zone",minimap__right_size_zone:"minimap__right_size_zone",minimapRightSizeZone:"minimap__right_size_zone",mode_night:"mode_night",modeNight:"mode_night",minimap__size_zone__helper:"minimap__size_zone__helper",minimapSizeZoneHelper:"minimap__size_zone__helper",minimap__canvas_wrapper:"minimap__canvas_wrapper",minimapCanvasWrapper:"minimap__canvas_wrapper"}},function(t,e,i){t.exports={line__switchers:"line__switchers",lineSwitchers:"line__switchers",line__switchers__item:"line__switchers__item",lineSwitchersItem:"line__switchers__item",mode_night:"mode_night",modeNight:"mode_night",line__switchers__item__check:"line__switchers__item__check",lineSwitchersItemCheck:"line__switchers__item__check",line__switchers__item__check__circle_color:"line__switchers__item__check__circle_color",lineSwitchersItemCheckCircleColor:"line__switchers__item__check__circle_color",line__switchers__item__check__circle_blank:"line__switchers__item__check__circle_blank",lineSwitchersItemCheckCircleBlank:"line__switchers__item__check__circle_blank",line__switchers__item__check__icon:"line__switchers__item__check__icon",lineSwitchersItemCheckIcon:"line__switchers__item__check__icon",line__switchers__item__label:"line__switchers__item__label",lineSwitchersItemLabel:"line__switchers__item__label"}},function(t,e,i){var a=i(28),n=i(29),o=i(30);t.exports=function(t,e){return a(t)||n(t,e)||o()}},function(t,e){function i(t,e,i,a,n,o,r){try{var s=t[o](r),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(a,n)}t.exports=function(t){return function(){var e=this,a=arguments;return new Promise(function(n,o){var r=t.apply(e,a);function s(t){i(r,n,o,s,c,"next",t)}function c(t){i(r,n,o,s,c,"throw",t)}s(void 0)})}}},function(t,e,i){var a=i(22),n=i(23),o=i(24);t.exports=function(t){return a(t)||n(t)||o()}},function(t,e,i){t.exports={dates_range:"dates_range",datesRange:"dates_range",dates_range__item:"dates_range__item",datesRangeItem:"dates_range__item",dates_range__item__year:"dates_range__item__year",datesRangeItemYear:"dates_range__item__year",dates_range__item__month:"dates_range__item__month",datesRangeItemMonth:"dates_range__item__month",dates_range__item__day:"dates_range__item__day",datesRangeItemDay:"dates_range__item__day"}},function(t,e,i){t.exports={canvas_wrapper__bar_chart:"canvas_wrapper__bar_chart",canvasWrapperBarChart:"canvas_wrapper__bar_chart",canvas_wrapper__bar_chart__item:"canvas_wrapper__bar_chart__item",canvasWrapperBarChartItem:"canvas_wrapper__bar_chart__item"}},function(t,e,i){t.exports=i.p+"images/92680f0a2c2bc2e52a2b62cf576a7db7.svg"},function(t,e,i){t.exports=i.p+"images/505a4dc56acf8da7c358fbea5d7b5f2a.svg"},function(t,e,i){},function(t,e,i){t.exports={chromeframe:"chromeframe"}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,i){var a=function(t){"use strict";var e,i=Object.prototype,a=i.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(t,e,i,a){var n=e&&e.prototype instanceof v?e:v,o=Object.create(n.prototype),r=new z(a||[]);return o._invoke=function(t,e,i){var a=h;return function(n,o){if(a===u)throw new Error("Generator is already running");if(a===p){if("throw"===n)throw o;return A()}for(i.method=n,i.arg=o;;){var r=i.delegate;if(r){var s=M(r,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===h)throw a=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=u;var c=l(t,e,i);if("normal"===c.type){if(a=i.done?p:d,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(a=p,i.method="throw",i.arg=c.arg)}}}(t,i,r),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",u="executing",p="completed",f={};function v(){}function m(){}function _(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,g=w&&w(w(O([])));g&&g!==i&&a.call(g,o)&&(y=g);var x=_.prototype=v.prototype=Object.create(y);function b(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(i,n){function o(){return new Promise(function(e,o){!function e(i,n,o,r){var s=l(t[i],t,n);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==typeof h&&a.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,r)},function(t){e("throw",t,o,r)}):Promise.resolve(h).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,r)})}r(s.arg)}(i,n,e,o)})}return e=e?e.then(o,o):o()}}function M(t,i){var a=t.iterator[i.method];if(a===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,M(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(a,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,f;var o=n.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function O(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(a.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return r.next=r}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=x.constructor=_,_.constructor=m,_[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},b(S.prototype),S.prototype[r]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,a,n){var o=new S(c(e,i,a,n));return t.isGeneratorFunction(i)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},t.values=O,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(a,n){return s.type="throw",s.arg=t,i.next=a,n&&(i.method="next",i.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,a){return this.delegate={iterator:O(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=a}catch(t){Function("r","regeneratorRuntime = r")(a)}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=a=function(t){return i(t)}:t.exports=a=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},a(e)}t.exports=a},function(t,e){function i(e,a){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,a)}t.exports=i},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var i=[],a=!0,n=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(a=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return i}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){"use strict";i.r(e);i(20),i(21);var a=i(15),n=i.n(a),o=i(9),r=i.n(o),s=i(2),c=i.n(s),l=i(14),h=i.n(l),d=i(1),u=i.n(d),p=i(3),f=i.n(p),v=i(4),m=i.n(v),_=i(6),y=i.n(_),w=i(7),g=i.n(w),x=i(8),b=i.n(x),S=i(0),M=i.n(S),k=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=document.createElement(t),a=Object.keys(e),n=function(t){var n=a[t],o=e[n];if("className"===n)o&&o.constructor===Array?o.forEach(function(t){return i.classList.add(t)}):i.classList.add(o);else if("style"===n)i.setAttribute("style",o);else if("on"===n.substr(0,2))i.addEventListener(n.substr(2).toLocaleLowerCase(),o);else if("children"===n)if(o.constructor===Array)for(var r=0;r<o.length;r+=1)i.appendChild(o[r]);else i.appendChild(o);else if("text"===n)i.innerText=o;else if("data"===n){Object.keys(o).forEach(function(t){i.dataset[t]=o[t]})}else i.setAttribute(n,o)},o=0;o<a.length;o+=1)n(o);return i},L=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(this,t),M()(this,"state",{}),M()(this,"props",{}),M()(this,"node",null),M()(this,"setState",function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=c()({},e.state);e.state=c()({},e.state,t),e.componentDidUpdate(e.props,a),i&&i()}),M()(this,"setProps",function(t){var i=c()({},e.props);e.props=c()({},e.props,t),e.componentDidUpdate(i,e.state)}),this.props=c()({},this.constructor.defaultProps,i)}return m()(t,[{key:"componentDidMount",value:function(){return null}},{key:"componentDidUpdate",value:function(){return null}},{key:"componentWillUnmount",value:function(){}},{key:"destroy",value:function(){this.componentWillUnmount(),this.ownElement.removeChild(this.node)}},{key:"render",value:function(){return document.createElement("div")}},{key:"renderDom",value:function(t){this.node=this.render(),this.ownElement=t,t.appendChild(this.node),this.componentDidMount()}}]),t}();M()(L,"defaultProps",{});var z=L,O=i(13),A=i.n(O),I=function(t,e){var i,a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n,r=!1;return function s(){r||(n&&setTimeout(function(){o=!1,i&&(s.apply(a,i),i=null,a=null)},e),r=!0);for(var c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];if(o)return i=l,void(a=this);t.apply(this,l),o=!0,setTimeout(function(){o=!1,i&&(s.apply(a,i),i=null,a=null)},e)}},D=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i||(i=Date.now());var a=(i-t)/e;return a<0&&(a=0),a>1&&(a=1),a},E=function(t){return-t*(t-2)},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;if(i=t.touches&&t.touches.length>0?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.pageX,y:t.pageY},e){var a=function t(e){if(!e)return{top:0,left:0};var i=t(e.offsetParent);return{top:e.offsetTop+i.top,left:e.offsetLeft+i.left}}(e);i.x-=a.left,i.y-=a.top}return i},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=t>=0?1:-1,a=t=Math.abs(t);if(t>=e){for(var n=Math.floor((""+t).length/3),o="",r=2;r>=1;r=-1){if(((o=parseFloat((0!=n?t/Math.pow(1e3,n):t).toPrecision(r)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}o%1!=0&&(o=o.toFixed(1)),a=o+["","k","m","b","t"][n]}return-1===i?"-".concat(a):a},N=function(t){return"".concat(function(t,e,i,a){e=isNaN(e=Math.abs(e))?2:e,i=null==i?".":i,a=null==a?",":a;var n=t<0?"-":"",o=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),r=(r=o.length)>3?r%3:0;return n+(r?o.substr(0,r)+a:"")+o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?i+Math.abs(t-o).toFixed(e).slice(2):"")}(parseFloat(t),0,"."," ")).replace(".00","")},C=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},F=function(t){return new Promise(function(e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.send(null),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=i.getResponseHeader("Content-Type");e(i.responseText,t,i)}}})},W=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f()(this,t),this.text=e,this.params=i},j=function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f()(this,t),this.from=e,this.to=i,this.params=a},Z=function(){function t(e,i){f()(this,t),this.element=e,this.props=i,this.dpr=t.getRetinaRatio(),this.resize(i.width,i.height)}return m()(t,null,[{key:"getRetinaRatio",value:function(){var t=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d");return t/[e.webkitBackingStorePixelRatio,e.mozBackingStorePixelRatio,e.msBackingStorePixelRatio,e.oBackingStorePixelRatio,e.backingStorePixelRatio,1].reduce(function(t,e){return t||e})}}]),m()(t,[{key:"resize",value:function(e,i){this.props.width=e,this.props.height=i,this.ctx=this.element.getContext("2d"),this.dpr=t.getRetinaRatio(),this.ctx.scale(this.dpr,this.dpr),this.element.style.width="".concat(e,"px"),this.element.style.height="".concat(i,"px"),this.element.setAttribute("width",e*this.dpr),this.element.setAttribute("height",i*this.dpr)}},{key:"clear",value:function(){var t=this.props,e=t.width,i=void 0===e?0:e,a=t.height,n=void 0===a?0:a;this.ctx.clearRect(0,0,i*this.dpr,n*this.dpr)}},{key:"text",value:function(t,e){var i=e.x,a=e.y,n=e.size,o=void 0===n?12:n,r=e.align,s=void 0===r?"center":r,c=e.font,l=void 0===c?"serif":c,h=e.color,d=void 0===h?"#000000":h,u=e.opacity,p=void 0===u?1:u;if(p<1){var f=C(d);null!==f&&(d="rgba(".concat(f.r,", ").concat(f.g,", ").concat(f.b,", ").concat(p,")"))}this.ctx.font="".concat(Math.floor(o*this.dpr),"px ").concat(l),this.ctx.textAlign=s,this.ctx.fillStyle=d,this.ctx.fillText(t,i*this.dpr,a*this.dpr)}},{key:"line",value:function(t,e,i){var a=i.color,n=void 0===a?"#000000":a,o=i.lineWidth,r=void 0===o?2:o,s=i.opacity,c=void 0===s?1:s;if(c<1){var l=C(n);null!==l&&(n="rgba(".concat(l.r,", ").concat(l.g,", ").concat(l.b,", ").concat(c,")"))}this.ctx.beginPath(),this.ctx.strokeStyle=n,this.ctx.lineWidth=r*this.dpr,this.ctx.moveTo(t.x*this.dpr,t.y*this.dpr),this.ctx.lineTo(e.x*this.dpr,e.y*this.dpr),this.ctx.stroke()}},{key:"rect",value:function(t,e,i){var a=i.width,n=void 0===a?10:a,o=i.height,r=void 0===o?10:o,s=i.color,c=void 0===s?"black":s,l=i.fill,h=void 0!==l&&l;this.ctx.strokeStyle=c,this.ctx.fillStyle=c,h&&this.ctx.fillRect(t*this.dpr,e*this.dpr,n*this.dpr,r*this.dpr),h||this.ctx.strokeRect(t*this.dpr,e*this.dpr,n*this.dpr,r*this.dpr)}},{key:"arc",value:function(t,e,i,a,n,o){var r=o.color,s=void 0===r?"#0000":r,c=o.opacity,l=void 0===c?1:c,h=o.mouseX,d=void 0===h?0:h,u=o.mouseY,p=void 0===u?0:u,f=o.mouseMove,v=void 0!==f&&f;if(l<1){var m=C(s);null!==m&&(s="rgba(".concat(m.r,", ").concat(m.g,", ").concat(m.b,", ").concat(l,")"))}(this.ctx.beginPath(),this.ctx.moveTo(t*this.dpr,e*this.dpr),this.ctx.arc(t*this.dpr,e*this.dpr,i*this.dpr,a,n),this.ctx.fillStyle=s,v)&&(this.ctx.isPointInPath(d*this.dpr,p*this.dpr)&&v());this.ctx.closePath(),this.ctx.fill()}},{key:"circle",value:function(t,e,i,a){var n=a.color,o=void 0===n?"black":n,r=a.strokColor,s=void 0!==r&&r,c=a.lineWidth,l=void 0===c?1:c;this.ctx.beginPath(),this.ctx.arc(t*this.dpr,e*this.dpr,i*this.dpr,0,2*Math.PI,!0),s&&(this.ctx.strokeStyle=s,this.ctx.lineWidth=l*this.dpr,this.ctx.stroke()),o&&(this.ctx.fillStyle=o,this.ctx.fill())}},{key:"beginPath",value:function(t){var e=this,i=t.opacity,a=void 0===i?1:i,n=t.color,o=t.lineWidth;if(this.ctx.beginPath(),this.ctx.lineJoin="bevel",this.ctx.lineCap="butt",a<1){var r=C(n);null!==r&&(n="rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(a,")"))}return{moveTo:function(t,i){e.ctx.moveTo(t*e.dpr,i*e.dpr)},lineTo:function(t,i){e.ctx.lineTo(t*e.dpr,i*e.dpr)},stroke:function(){e.ctx.strokeStyle=n,e.ctx.lineWidth=o*e.dpr,e.ctx.stroke()},fill:function(){e.ctx.fillStyle=n,e.ctx.lineWidth=o*e.dpr,e.ctx.fill()}}}},{key:"draw",value:function(t){t instanceof W&&this.text(t.text,t.params),t instanceof j&&this.line(t.from,t.to,t.params)}}]),t}(),R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],X=i(5),V=i.n(X),Y=function(t){function e(){var t,i;f()(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=y()(this,(t=g()(e)).call.apply(t,[this].concat(n))),M()(u()(i),"domLabels",{}),i}return b()(e,t),m()(e,[{key:"drawXLabels",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.props,a=i.labels,n=void 0===a?[]:a,o=i.getLabel,r=i.opacity,s=void 0===r?1:r;if(n.length>0){for(var c=this.calcXLabels(),l=c.positions,h=c.intervalFactor,d=c.removed,u=Object.keys(l),p=Object.keys(this.domLabels),f=function(e){var i,a,o,r,s,c,l,u,f=+p[e],v=t.domLabels[f];f%h!=0?(v.style.opacity=0,i=function(){var e=100/t.props.width,i=(t.props.scroll-t.props.width)/100,a=t.props.layout.width*(f/(n.length-1)-i)*e;v.style.left="".concat(a,"px")},a=200,o=function(){v.remove()},s=!1,c=Date.now(),l=!1,u=function(){l=!0},requestAnimationFrame(function t(){if(s||(s=!0,r&&r()),!l){var e=D(c,a);i(100*e),e<1?requestAnimationFrame(t):(u(),o&&o())}}),delete t.domLabels[f]):d.includes(f)&&(v.remove(),delete t.domLabels[f])},v=0;v<p.length;v+=1)f(v);var m=function(i){var a=+u[i],r=l[a],c=o(n[a]),h=t.domLabels[a];if(h){var d="left: ".concat(r.toFixed(2),"px;opacity: ").concat(s,";");h.setAttribute("style",d)}else{var p="left: ".concat(r.toFixed(2),"px;opacity: ").concat(e?0:s,";");h=k("div",{id:a,className:V.a.canvas_wrapper__x_labels_wrapper__item,text:c,style:p,data:{state:"rendered"}}),t.element.appendChild(h),e&&setTimeout(function(){h.style.opacity=1},1),t.domLabels[a]=h}};for(v=0;v<u.length;v+=1)m(v);this.indexes=u}}},{key:"clear",value:function(){for(var t=Object.keys(this.domLabels),e=0;e<t.length;e+=1){var i=+t[e];this.domLabels[i].remove(),delete this.domLabels[i]}}},{key:"calcXLabels",value:function(){for(var t=this.props,e=t.scroll,i=t.labels,a=void 0===i?[]:i,n=t.layout,o=t.graphLayout.labelsXWidth,r=void 0===o?0:o,s=[],c=100/this.props.width,l=Math.ceil(n.width/r),h=n.width/l,d=l<=a.length?Math.floor(a.length/l):1,u=Math.ceil(Math.log2(d/c)),p=Math.pow(2,u),f=Math.ceil(c*a.length/p),v={},m=0;m<f;m+=1){var _=m*p,y=(e-this.props.width)/100,w=n.width*(_/(a.length-1)-y)*c;a[_]&&(n.width>=w&&w>=0-h?v[_]=w:s.push(_))}return{positions:v,count:f,intervalFactor:p,removed:s}}},{key:"componentDidMount",value:function(){this.clear(),this.drawXLabels()}},{key:"componentDidUpdate",value:function(t){this.props.labels===t.labels&&this.props.id===t.id||this.clear(),this.props.labels===t.labels&&this.props.width===t.width&&this.props.scroll===t.scroll||(this.props.width!==t.width?this.drawXLabels(!0):this.drawXLabels(!1))}},{key:"render",value:function(){return this.element=k("div",{className:V.a.canvas_wrapper__x_labels_wrapper}),this.element}}]),e}(z);M()(Y,"defaultProps",{width:0,labels:[],scroll:0,layout:{width:0,height:0},graphLayout:{labelsXWidth:0},getLabel:function(t){return t}});var H=Y,G=i(17),B=i.n(G),q=function(t){function e(){var t,i;f()(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=y()(this,(t=g()(e)).call.apply(t,[this].concat(n))),M()(u()(i),"domLabels",{}),i}return b()(e,t),m()(e,[{key:"drawXLabels",value:function(){for(var t=this.props.data,e=t.positions,i=void 0===e?{}:e,a=t.removed,n=void 0===a?[]:a,o=Object.keys(i),r=Object.keys(this.domLabels),s=0;s<r.length;s+=1){var c=r[s],l=this.domLabels[c];n.includes(c)&&(l.remove(),delete this.domLabels[c])}for(var h=0;h<o.length;h+=1){var d=o[h],u=i[d],p=u.x,f=u.y,v=u.width,m=u.height,_=u.opacity,y=u.color,w=this.domLabels[d];if(w)w.style.left!=="".concat(p,"px")&&(w.style.left="".concat(p,"px")),w.style.top!=="".concat(f,"px")&&(w.style.top="".concat(f,"px")),w.style.width!=="".concat(v,"px")&&(w.style.width="".concat(v,"px")),w.style.height!=="".concat(m,"px")&&(w.style.height="".concat(m,"px")),w.style.opacity!=="".concat(_)&&(w.style.opacity="".concat(_)),w.style["background-color"]!=="".concat(y)&&(w.style["background-color"]="".concat(y));else{var g=["left: ".concat(p,"px"),"top: ".concat(f,"px"),"width: ".concat(v,"px"),"height: ".concat(m,"px"),"opacity: ".concat(_),"background-color: ".concat(y)].join(";");w=k("div",{id:d,className:B.a.canvas_wrapper__bar_chart__item,style:g}),this.element.appendChild(w),this.domLabels[d]=w}}}},{key:"clear",value:function(){for(var t=Object.keys(this.domLabels),e=0;e<t.length;e+=1){var i=+t[e];this.domLabels[i].remove(),delete this.domLabels[i]}}},{key:"componentDidMount",value:function(){this.clear(),this.drawXLabels()}},{key:"componentDidUpdate",value:function(t){this.props.id!==t.id&&this.clear(),this.props.data!==t.data&&this.drawXLabels()}},{key:"render",value:function(){return this.element=k("div",{className:B.a.canvas_wrapper__bar_chart}),this.element}}]),e}(z);M()(q,"defaultProps",{id:1,data:{position:{},removed:[]}});var J=q,$=function(t){function e(t){var i;return f()(this,e),i=y()(this,g()(e).call(this,t)),M()(u()(i),"animations",[]),M()(u()(i),"state",{step:10,showInfo:!1,graphLayout:{width:0,height:0,labelsXWidth:70,labelsXOffset:10},graphMinMax:{},offset:0,graphOffset:{top:0,left:0,bottom:0,right:0,asixX:0,asixY:0},graphScale:{x:0,y:0},minStep:1,maxStep:1e3,visibility:{},mouse:{pointX:0,pointY:0},selectArc:!1,zoom:!1,animationsValues:{yAsixOpacity:100,xAsixOpacity:100,arcsScale:0,areasScale:0,yMinMax:0}}),M()(u()(i),"init",!1),M()(u()(i),"initialize",h()(r.a.mark(function t(){var e,a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.props,a=e.layout,n=e.visibled,i.handleApplyVisibility(n),i.canvas=new Z(i.canvasNode,c()({},a)),t.next=5,i.calc();case 5:i.init=!0,requestAnimationFrame(i.reDraw);case 7:case"end":return t.stop()}},t)}))),M()(u()(i),"time",0),M()(u()(i),"reDraw",function(t){if(i.time=t,i.animations=i.animations.filter(function(t){return!1!==t}),i.animations.length>0||i.needDraw){for(var e=0;e<i.animations.length;e++){var a=i.animations[e];if(!1!==a){var n=t-a.startAt,o=D(a.startAt,a.duration,t);i.animations[e].progress=o,i.animations[e].lastUpdateAt=t,i.animations[e].timePassed=n,a.step(E(o),n,a.duration),(1===o||t-a.startAt<-1e4)&&(i.animations[e]=!1)}}i.draw(),i.needDraw&&(i.needDraw=!1)}requestAnimationFrame(i.reDraw)}),M()(u()(i),"reInit",h()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.calc();case 2:case"end":return t.stop()}},t)}))),M()(u()(i),"updateState",function(){var t=h()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){i.setState(e,t)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),M()(u()(i),"updateAnimateYLines",I(function(t){i.setState({graphScale:c()({},i.state.graphScale,{animateYLines:t})})},10)),M()(u()(i),"updateGraphOptions",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=i.props,n=a.scroll,o=a.width,r=a.layout,s=i.getLength();i.setGraphOptions(t,{scroll:n,limit:o,length:s,animateYLines:e},r)}),M()(u()(i),"animationInterval",!1),M()(u()(i),"lastMinMax",[0,0]),M()(u()(i),"time",new Date),M()(u()(i),"eventStartShowInfo",function(t){var e=T(t),a=i.state.step,n=i.props,o=n.scroll,r=n.labels,s=void 0===r?[]:r,c=e.x-i.element.offsetLeft,l=s.length*a/100*(o-i.props.width),h=i.nAsix(c,0).x+l,d=Math.round(h/a);d>0&&d<s.length?i.setState({showInfo:d}):i.setState({showInfo:!1})}),M()(u()(i),"eventMouseDown",function(t){var e=i.props.arcMode,a=void 0!==e&&e;i.isShowInfo||!1!==a||(i.tapPosition=T(t),i.isShowInfo=!0,i.eventStartShowInfo(t))}),M()(u()(i),"eventTouchMove",function(t){var e=i.props.arcMode,a=void 0!==e&&e;t.target.closest(".".concat(V.a.canvas__show_info))!=i.showInfoNode&&i.isShowInfo&&!1===a&&i.eventStartShowInfo(t)}),M()(u()(i),"eventUpdateMouse",function(t){var e=T(t,i.element);e.x===i.state.mouse.pointX&&e.y===i.state.mouse.pointY||i.setState({mouse:{pointX:e.x,pointY:e.y}})}),M()(u()(i),"eventMouseMove",function(t){var e=i.props.arcMode,a=void 0!==e&&e;t.target.closest(".".concat(V.a.canvas__show_info))!=i.showInfoNode&&i.isShowInfo&&!1===a&&i.eventStartShowInfo(t),i.eventUpdateMouse(t)}),M()(u()(i),"eventMouseUp",function(t){var e=i.props.arcMode,a=void 0!==e&&e,n=t.target.closest(".".concat(V.a.canvas_wrapper))!=i.element;console.log("[Charts][Event: MouseUp]",{isOutside:n},t),n&&!1===a&&i.isShowInfo&&(i.isShowInfo=!1,i.setState({showInfo:!1}))}),M()(u()(i),"eventMouseLeave",function(){var t=i.props.arcMode,e=void 0!==t&&t;i.isShowInfo&&!1===e&&(i.isShowInfo=!1,i.setState({showInfo:!1}))}),M()(u()(i),"eventMouseEnter",function(t){var e=i.props.arcMode,a=void 0!==e&&e;i.isShowInfo||!1!==a||(i.isShowInfo=!0,i.eventStartShowInfo(t))}),M()(u()(i),"handleFadeOutYAsix",function(){var t=i.state.animationsValues.yAsixOpacity,e=void 0===t?100:t,a=0-e;i.createAnimation("anim-y-asix",function(t){var n=a*t;i.setState({animationsValues:c()({},i.state.animationsValues,{yAsixOpacity:e+n})})},150)}),M()(u()(i),"handleFadeOutXAsix",function(){var t=i.state.animationsValues.xAsixOpacity,e=void 0===t?100:t,a=0-e;i.createAnimation("anim-x-asix",function(t){var n=a*t;i.setState({animationsValues:c()({},i.state.animationsValues,{xAsixOpacity:e+n})})},150)}),M()(u()(i),"handleFadeInYAsix",function(){var t=i.state.animationsValues.yAsixOpacity,e=void 0===t?100:t,a=100-e;i.createAnimation("anim-y-asix",function(t){var n=a*t;i.setState({animationsValues:c()({},i.state.animationsValues,{yAsixOpacity:e+n})})},150)}),M()(u()(i),"handleFadeInXAsix",function(){var t=i.state.animationsValues.xAsixOpacity,e=void 0===t?100:t,a=100-e;i.createAnimation("anim-x-asix",function(t){var n=a*t;i.setState({animationsValues:c()({},i.state.animationsValues,{xAsixOpacity:e+n})})},150)}),M()(u()(i),"handleFadeInArcs",function(){var t=i.state.animationsValues,e=t.arcsScale,a=void 0===e?1:e,n=t.arcsOpacity,o=void 0===n?1:n,r=1-a,s=1-o;i.createAnimation("anim-arcs-scale",function(t){var e=r*t,n=s*t;i.setState({animationsValues:c()({},i.state.animationsValues,{arcsScale:a+e,arcsOpacity:o+n})})},400)}),M()(u()(i),"handleFadeOutArcs",function(){var t=i.state.animationsValues,e=t.arcsScale,a=void 0===e?1:e,n=t.arcsOpacity,o=void 0===n?1:n,r=0-a,s=0-o;i.createAnimation("anim-arcs-scale",function(t){var e=r*t,n=s*t;i.setState({animationsValues:c()({},i.state.animationsValues,{arcsScale:a+e,arcsOpacity:o+n})})},400)}),M()(u()(i),"handleFadeInAreas",function(){var t=i.state.animationsValues,e=t.areaScale,a=void 0===e?1:e,n=t.areaOpacity,o=void 0===n?1:n,r=1-a,s=1-o;i.createAnimation("anim-area-scale",function(t){var e=r*t,n=s*t;i.setState({animationsValues:c()({},i.state.animationsValues,{areaScale:a+e,areaOpacity:o+n})})},400)}),M()(u()(i),"handleFadeOutAreas",function(){var t=i.state.animationsValues,e=t.areaScale,a=void 0===e?1:e,n=t.areaOpacity,o=void 0===n?1:n,r=0-a,s=0-o;i.createAnimation("anim-area-scale",function(t){var e=r*t,n=s*t;i.setState({animationsValues:c()({},i.state.animationsValues,{areaScale:a+e,areaOpacity:o+n})})},400)}),M()(u()(i),"minMaxLines",{}),M()(u()(i),"handleApplyVisibility",function(t){for(var e=i.props.dataset,a=void 0===e?[]:e,n=i.state.visibility,o=void 0===n?{}:n,r=Object.keys(o),s=a.map(function(t){return t.id}),c=0;c<s.length;c++){var l=s[c],h=r.includes(l)&&1==o[l];h&&!t.includes(l)?i.handleFadeOutLine(l):!h&&t.includes(l)&&i.handleFadeInLine(l)}}),i.safeCalc=I(i.calc,1),i.props.allowYAsix?i.state.graphOffset.bottom=30:i.state.graphOffset.bottom=0,i}return b()(e,t),m()(e,null,[{key:"getXLabelText",value:function(t){var e=new Date(t),i=R[e.getMonth()],a=e.getDate();return"".concat(i," ").concat(a)}}]),m()(e,[{key:"componentDidMount",value:function(){var t=this.props.mini;void 0!==t&&t||(this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mouseup",this.documentEventMouseUp)),this.initialize()}},{key:"componentDidUpdate",value:function(t,e){var i=this.props,a=i.dataset,n=i.visibled,o=i.layout,r=i.labels,s=i.arcMode,c=this.state,l=c.step,h=c.graphOffset,d=c.graphMinMax,u=c.visibility,p=c.graphScale,f=c.showInfo,v=c.mouse,m=c.selectArc,_=c.zoom;t.arcMode!==s&&(console.log("change arc mode: ",t.arcMode,s),!1===s?(this.handleFadeInYAsix(),this.handleFadeInXAsix(),this.handleFadeOutArcs(),this.handleFadeInAreas()):(this.handleFadeInArcs(),this.handleFadeOutYAsix(),this.handleFadeOutXAsix(),this.handleFadeOutAreas()));var y=this.props,w=y.layout,g=w.width,x=void 0===g?0:g,b=w.height,S=void 0===b?0:b,M=y.limit,k=y.offset,L=y.scroll,z=y.colors;y.id!==t.id&&this.setState({showInfo:!1}),t.visibled===n&&t.dataset===a&&t.layout.width===o.width&&t.layout.height===o.height&&t.limit===M&&t.offset===k||(t.layout.width===x&&t.layout.height===S||this.canvas.resize(x,S),t.visibled!==n&&this.handleApplyVisibility(n),this.reInit()),e.step===l&&e.graphOffset.top===h.top&&e.graphOffset.bottom===h.bottom&&e.graphOffset.left===h.left&&e.graphOffset.right===h.right&&t.scroll===L&&t.width===x&&t.colors===z&&t.labels===r&&e.graphMinMax===d&&e.graphScale===p&&e.showInfo===f&&e.visibility===u&&e.mouse===v&&e.selectArc===m&&e.zoom===_||(this.needDraw=!0)}},{key:"componentWillUnmount",value:function(){var t=this.props.mini;void 0!==t&&t||document.removeEventListener("mouseup",this.documentEventMouseUp),this.cart&&(this.cart.destroy(),this.cart=null),this.cartMiniMap&&(this.cartMiniMap.destroy(),this.cartMiniMap=null)}},{key:"findMinMaxForLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.min,n=void 0===a?99999999999:a,o=i.max,r=void 0===o?0:o,s=e.offset,c=s+e.limit;0===c&&(c=t.length);for(var l=s;l<t.length&&l<c;l+=1){var h=t[l];n=h<n?h:n,r=h>r?h:r}return[n,r]}},{key:"findMinMaxForBars",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.min,n=void 0===a?99999999999:a,o=i.max,r=void 0===o?0:o,s=e.visibled,c=void 0===s?[]:s,l=e.offset,h=l+e.limit;0===h&&(h=t[0].list.length);for(var d=function(e){var i=0;t.filter(function(t){return c.includes(t.id)}).forEach(function(t){i+=t.list[e],n=t.list[e]<n?t.list[e]:n}),r=i>r?i:r},u=l;u<t[0].list.length&&u<h;u+=1)d(u);return[n,r]}},{key:"findMinMax",value:function(){var t=this,e=this.props,i=e.dataset,a=void 0===i?[]:i,n=e.visibled,o=void 0===n?[]:n,r=e.offset,s=e.limit,l=99999999,h=0,d={};if(a.length>0){a.filter(function(t){return"line"===t.type}).forEach(function(e){var i=e.id,a=e.list,n=t.findMinMaxForLine(a,{offset:r,limit:s});d[i]=n,o.includes(i)&&(l=n[0]<l?n[0]:l,h=n[1]>h?n[1]:h)});var u=a.filter(function(t){return"bar"===t.type||"area"===t.type});if(u.length>0){var p=this.findMinMaxForBars(u,{visibled:o,offset:r,limit:s});l=p[0]<l?p[0]:l,h=p[1]>h?p[1]:h}}else l=0,h=10;return c()({common:[l,h]},d)}},{key:"nAsix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",a=this.props.layout.height,n=void 0===a?0:a,o=this.state,r=o.graphMinMax,s=o.graphScale,c=o.graphOffset,l=c.left,h=c.bottom,d=n-(e-A()(r[i],1)[0])*s[i]-h;return{x:l+t*s.x,y:d}}},{key:"getHeightGraph",value:function(){var t=this.props.layout,e=this.state.graphOffset,i=e.top,a=e.bottom;return t.height-i-a}},{key:"getWidthGraph",value:function(){var t=this.props.layout,e=this.state.graphOffset,i=e.left,a=e.right;return t.width-i-a}},{key:"setGraphOptions",value:function(t,i,a){var n=i.scroll,o=void 0===n?0:n,r=i.limit,s=void 0===r?0:r,l=i.length,h=i.animateYLines,d=void 0===h?0:h,u=a.width,p=this.getHeightGraph(),f=this.getWidthGraph(),v={};Object.keys(t).forEach(function(e){var i=A()(t[e],2),a=i[0],n=i[1]-a,o=n>0?p/n:1;v[e]=o});var m=f/u,_=e.calcXStep({width:u,limit:s,length:l}),y=_*l;this.setState({step:_,graphMinMax:t,graphScale:c()({},v,{x:m,animateYLines:d}),graphLayout:c()({},this.state.graphLayout,{width:f,height:p,fullWidth:y,offsetPx:y*(o-s)/100})})}},{key:"getLength",value:function(){var t=this.props.dataset,e=void 0===t?[]:t;return Math.max.apply(Math,n()(e.map(function(t){return t.list.length})))}},{key:"calc",value:function(){var t=this,e=this.props,i=e.dataset,a=void 0===i?[]:i,n=e.visibled,o=void 0===n?[]:n,r=e.yScaled,s=void 0!==r&&r,c=e.animateScale,l=void 0===c||c,h=this.findMinMax();return l?s?a.filter(function(t){return o.includes(t.id)}).forEach(function(e){t.handleAnimScale(e.id,h,400)}):this.handleAnimScale("common",h,400):this.updateGraphOptions(h),!0}},{key:"drawLine",value:function(t,e){for(var i=this.getWidthGraph(),a=this.props.yScaled,n=void 0!==a&&a,o=this.state.graphLayout.offsetPx,r=this.canvas.beginPath({color:e.color,opacity:e.opacity,lineWidth:e.lineWidth}),s=0;s<t.length;s++){var c=t[s],l=n?e.id:"common",h=this.nAsix(s*e.step-o,c,l),d=h.x,u=h.y;d>=0-2*e.step&&d<=i+2*e.step&&(0===s?r.moveTo(d,u):r.lineTo(d,u),e.drawPointValue&&this.canvas.text(c.value,{x:d,y:u,align:"center",font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}))}r.stroke()}},{key:"drawLines",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.visibility,n=void 0===a?{}:a,o=i.lineWidth,r=void 0===o?3:o,s=i.allowPointValue,c=void 0!==s&&s,l=0;l<t.length;l++){var h=t[l];this.drawLine(h.list,{id:h.id,opacity:n[h.id],color:h.color,step:e,lineWidth:r,drawPointValue:c})}}},{key:"drawBars",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getHeightGraph(),o=this.getWidthGraph(),r=this.state,s=A()(r.graphMinMax.common,2)[1],c=r.graphLayout.offsetPx,l=r.showInfo,h=void 0!==l&&l,d=a.visibility,u=void 0===d?{}:d,p=a.length,f=void 0===p?0:p;t=t.filter(function(t){return u[t.id]>0});for(var v=function(a){var r=i.nAsix(a*e-c,0).x;if(r>=0-2*e&&r<=o+2*e){var l=0;t.forEach(function(t){var e=t.list[a],i=u[t.id];l+=e*i});var d=2;t.forEach(function(t){var e=u[t.id];100*(t.list[a]*e)/l<2&&(d+=2)});var p=n-n*(100-100*l/s+d)/100,f=0;t.forEach(function(t){"".concat(t.id,"_").concat(a);var o=u[t.id],s=100*(t.list[a]*o)/l;s<2&&(s=2);var c=p*s/100;!1!==h&&(o=h===a?1:.4);var d=t.color;if(o<1){var v=C(d);d="rgb(".concat(v.r*o+255*(1-o),",").concat(v.g*o+255*(1-o),",").concat(v.b*o+255*(1-o),")")}i.canvas.rect(Math.ceil(r),n-(c+f),{width:Math.ceil(e),height:c,color:d,fill:!0}),f+=c})}},m=0;m<f;m++)v(m);this.bars.setProps({data:{positions:{},removed:[]}})}},{key:"drawAreas",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.state.animationsValues,o=n.areaScale,r=void 0===o?1:o,s=n.areaOpacity,c=void 0===s?1:s,l=this.getHeightGraph(),h=this.getWidthGraph(),d=this.state.graphLayout.offsetPx,u=a.visibility,p=void 0===u?{}:u,f=a.length,v=void 0===f?0:f;t=t.filter(function(t){return p[t.id]>0});for(var m={},_=function(a){var n=i.nAsix(a*e-d,0).x;if(n>=0-2*e&&n<=h+2*e){var o=0;t.forEach(function(t){var e=t.list[a],i=p[t.id];o+=e*i});var s=0;t.forEach(function(t){var e=p[t.id],i=t.list[a]*e,c=l*(100*i/o)/100*(1/r);m[t.id]||(m[t.id]=[]),m[t.id].push({x:n,y:l-(c+s)}),s+=c})}},y=0;y<v;y++)_(y);for(y=t.length-1;y>=0;y-=1){var w=t[y],g=m.hasOwnProperty(w.id)?m[w.id]:[],x=p[w.id];c<1&&(x=c);var b=w.color;if(x<1){var S=C(b);b="rgba(".concat(S.r,",").concat(S.g,",").concat(S.b,",").concat(x,")")}var M=this.canvas.beginPath({color:b,opacity:x,lineWidth:a.lineWidth});M.moveTo(0,l);for(var k=0;k<g.length;k++){var L=g[k],z=L.x,O=L.y;M.lineTo(z,O)}M.lineTo(h,l),M.fill()}}},{key:"drawArc",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.state.animationsValues,o=n.arcsScale,r=void 0===o?1:o,s=n.arcsOpacity,c=void 0===s?1:s,l=this.getHeightGraph(),h=this.getWidthGraph(),d=this.state,u=d.graphLayout.offsetPx,p=d.mouse,f=p.pointX,v=void 0===f?0:f,m=p.pointY,_=void 0===m?0:m,y=d.selectArc,w=void 0!==y&&y,g=a.visibility,x=void 0===g?{}:g,b=a.length,S=void 0===b?0:b;t=t.filter(function(t){return x[t.id]>0});for(var M=0,k={},L=function(a){var n=i.nAsix(a*e-u,0).x;n>=0-2*e&&n<=h+2*e&&t.forEach(function(t){var e=x[t.id],i=t.list[a]*e;k[t.id]||(k[t.id]=0),k[t.id]+=i,M+=i})},z=0;z<S;z++)L(z);var O=0,A=Math.round(Math.min(h/2.3,l/2.3))*r,I=Math.round(A/1.5)*r,D=Math.round(h/2),E=Math.round(l/2),T=!1;t.forEach(function(t){var e=k[t.id],a=2*Math.PI*e/M,n=w===t.id?D+10*Math.cos(O+a/2):D,o=w===t.id?E+10*Math.sin(O+a/2):E;i.canvas.arc(n,o,A,O,O+a,{opacity:c,color:t.color,mouseX:v,mouseY:_,mouseMove:function(){T=t.id}}),O+=a}),!1!==T&&w!==T?setTimeout(function(){i.setState({selectArc:T})},1):!1===T&&w!==T&&setTimeout(function(){i.setState({selectArc:!1})},1),O=0,t.forEach(function(t){var e=k[t.id],a=e/M*100,n=2*Math.PI*e/M,o=I,s=20;if(n*(180/Math.PI)<30&&(s=12,o=A-20,n+=.03),n*(180/Math.PI)>8){var l=o*Math.cos(O+n/2)+D,h=o*Math.sin(O+n/2)+E;i.canvas.text("".concat(Math.round(a),"%"),{x:l,y:h,opacity:c,size:s*r,align:"center",color:"#fff",font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}O+=n})}},{key:"drawGraphs",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.props.arcMode,n=void 0!==a&&a,o=t.filter(function(t){return"arc"===t.type}),r=t.filter(function(t){return"area"===t.type}),s=t.filter(function(t){return"bar"===t.type}),c=t.filter(function(t){return"line"===t.type});o.length>0&&this.drawArc(o,e,i),(!1===n||this.isTypeAnimating("anim-area"))&&this.drawAreas(r,e,i),(!1!==n||this.isTypeAnimating("anim-arcs"))&&this.drawArc(r,e,i),this.drawBars(s,e,i),this.drawLines(c,e,i)}},{key:"createYLabels",value:function(t,e,i,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",o=this.props,r=o.colors,s=o.layout,c=s.width,l=s.height,h=this.state,d=h.graphOffset,u=d.asixX,p=void 0===u?0:u,f=d.asixY,v=void 0===f?0:f,m=h.animationsValues.yAsixOpacity,_=void 0===m?1:m,y=A()(e[t],2),w=y[0],g=[],x=y[1]-w,b=x>0?x/6:l/6,S=x/6,M=-25;M<25;M+=1){var k=this.nAsix(0,b*M+w,t),L=Math.floor(S*M+w);g.push(new W(P(L),{x:"start"===n?0+p:c,y:k.y-10+v+i,align:n,color:a,opacity:_<1?_:r.textOpacity,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial",size:12})),g.push(new j({x:0+p,y:k.y+v+i},{x:c+p,y:k.y+v+i},{color:M>0?r.lines:r.lastLine,opacity:_<1?_:r.lineOpacity,lineWidth:2}))}return g}},{key:"getYLabels",value:function(){var t=this,e=this.props,i=e.yScaled,a=void 0!==i&&i,o=e.dataset,r=void 0===o?[]:o,s=e.visibled,c=void 0===s?[]:s,l=e.colors,h=this.state,d=h.graphMinMax,u=h.graphScale.animateYLines;if(a){var p=[];return r.filter(function(t){return c.includes(t.id)}).forEach(function(e,i){p=[].concat(n()(p),n()(t.createYLabels(e.id,d,u,e.color,0===i?"start":"end")))}),p}return this.createYLabels("common",d,u,l.text,"start")}},{key:"drawDebugInfo",value:function(){var t=this.props,e=t.layout,i=t.offset,a=t.limit,n=t.scroll,o=t.width,r=this.state,s=r.graphMinMax,c=s.minY,l=s.maxY,h=r.graphScale,d=r.graphOffset,u=d.left,p=d.top,f=d.right,v=d.bottom,m=r.step;this.canvas.rect(0,0,{width:300,height:150,color:"rgba(0, 0, 0, 0.5)",fill:!0}),this.canvas.text("Min/Max Y: ".concat(c," / ").concat(l),{x:10,y:20,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Scale X/Y: ".concat(h.x," / ").concat(h.y),{x:10,y:40,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset L/T/R/B: ".concat(u,"px / ").concat(p,"px / ").concat(f,"px / ").concat(v,"px"),{x:10,y:60,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Width/Height: ".concat(e.width.toFixed(2),"px / ").concat(e.height.toFixed(2),"px"),{x:10,y:80,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Step: ".concat(m,"px"),{x:10,y:100,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit: ".concat(i," / ").concat(a),{x:10,y:120,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"}),this.canvas.text("Offset/Limit (%): ".concat(n.toFixed(2)," / ").concat(o.toFixed(2)),{x:10,y:140,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}},{key:"drawFpsInfo",value:function(){var t=new Date,e=1e3/(t-this.time);this.time=t,this.canvas.rect(0,0,{width:100,height:50,color:"rgba(0, 0, 0, 0.5)",fill:!0}),this.canvas.text("FPS: ".concat(10*Math.ceil(e/10)),{x:10,y:20,align:"start",color:"white",size:14,font:"NeueHaasDisplay,Tahoma,sans-serif,Arial"})}},{key:"draw",value:function(){var t=this,e=this.state,i=e.step,a=e.visibility,n=void 0===a?{}:a,o=e.showInfo,r=void 0!==o&&o,s=e.animationsValues.xAsixOpacity,c=void 0===s?100:s,l=this.props,h=l.dataset,d=void 0===h?[]:h,u=l.visibled,p=void 0===u?[]:u,f=l.allowXAsix,v=l.allowYAsix,m=l.allowPointValue,_=l.lineWidth,y=void 0===_?3:_,w=l.stacked,g=void 0!==w&&w;this.canvas.clear();var x=[];if(v&&(x=this.getYLabels()),f){var b=this.props,S=b.id,M=b.scroll,k=b.labels,L=b.layout,z=b.width,O=this.state.graphLayout;this.labelX.setProps({id:S,width:z,scroll:M,labels:k,layout:L,graphLayout:O,opacity:c})}g||x.filter(function(t){return t instanceof j}).forEach(function(e){return t.canvas.draw(e)}),d.length>0&&d[0].list.length>0&&this.drawGraphs(d,i,{visibled:p,visibility:n,lineWidth:y,allowPointValue:m,length:d[0].list.length}),g&&x.filter(function(t){return t instanceof j}).forEach(function(e){return t.canvas.draw(e)}),x.filter(function(t){return t instanceof W}).forEach(function(e){return t.canvas.draw(e)}),this.props.debug&&this.drawDebugInfo(),this.props.fps&&this.drawFpsInfo(),!1!==r?this.drawShowInfo():this.showInfoNode.setAttribute("style","opacity: 0;")}},{key:"drawShowInfo",value:function(){var t=this,e=this.props,i=e.scroll,a=e.labels,n=void 0===a?[]:a,o=e.dataset,r=void 0===o?[]:o,s=e.visibled,l=void 0===s?[]:s,h=e.lineWidth,d=e.colors,u=e.layout,p=e.yScaled,f=void 0!==p&&p,v=e.zoomType,m=void 0===v?"none":v,_=this.state,y=_.step,w=_.graphOffset,g=_.showInfo,x=n.length*y/100*(i-this.props.width),b=g,S=n[b],M=new Date(S),L=R[M.getMonth()],z=U[M.getDay()],O=M.getDate(),A="".concat(z,", ").concat(L," ").concat(O),I=this.nAsix(b*y-x,0).x,D=r.filter(function(t){return l.includes(t.id)}).map(function(e){return c()({value:e.list[b],color:e.color,label:e.label,type:e.type},t.nAsix(b*y-x,e.list[b],f?e.id:"common"))}),E=D.filter(function(t){return"area"===t.type}).reduce(function(t,e){return e.value+t},0),T=(D=D.map(function(t){return c()({},t,{percent:"area"===t.type?100*t.value/E:null})})).filter(function(t){return"line"===t.type});T.length>0&&(this.canvas.line({x:I,y:0},{x:I,y:u.height-w.bottom},{color:d.activeLine,lineWidth:2}),T.forEach(function(e){t.canvas.circle(e.x,e.y,5,{lineWidth:h+2,color:d.background,strokColor:e.color})}));var P=b*y-x+10;P<0&&(P=0),this.showInfoNode.innerHTML="";for(var C=[],F=0;F<D.length;F+=1){var W=D[F],j=[V.a.canvas__show_info__row__item];D.some(function(t){return null!==t.percent})&&D.length>1&&j.push(V.a.canvas__show_info__row__item_with_percent),C.push(k("div",{className:j,children:[k("div",{className:V.a.canvas__show_info__row__item__percent,text:Math.round(W.percent)+"%"}),k("div",{className:V.a.canvas__show_info__row__item__name,text:W.label}),k("div",{className:V.a.canvas__show_info__row__item__value,style:"color: ".concat(W.color),text:N(W.value)})]}))}var Z=[k("div",{className:V.a.canvas__show_info__title__value,text:A})];"none"!==m&&Z.push(k("div",{className:V.a.canvas__show_info__title__zoom,text:">"})),this.showInfoNode.appendChild(k("div",{className:V.a.canvas__show_info__wrapper,children:[k("div",{className:V.a.canvas__show_info__title,children:Z}),k("div",{className:V.a.canvas__show_info__rows,children:C})]})),P+this.showInfoNode.clientWidth+30>u.width&&(P=u.width-this.showInfoNode.clientWidth-30),this.showInfoNode.setAttribute("style","opacity: 1;left: ".concat(P,"px"))}},{key:"createAnimation",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&(this.animations=this.animations.filter(function(e){return e.type!==t})),this.animations.push({type:t,startAt:this.time,step:e,duration:i})}},{key:"handleFadeInLine",value:function(t){var e=this;this.animations=this.animations.filter(function(e){return e.type!=="anim-dataset-".concat(t)}),this.animations.push({type:"anim-dataset-".concat(t),startAt:this.time,step:function(i){e.setState({visibility:c()({},e.state.visibility,M()({},t,E(i)))})},duration:300})}},{key:"handleFadeOutLine",value:function(t){var e=this;this.animations=this.animations.filter(function(e){return e.type!=="anim-dataset-".concat(t)}),this.animations.push({type:"anim-dataset-".concat(t),startAt:this.time,step:function(i){e.setState({visibility:c()({},e.state.visibility,M()({},t,1-E(i)))})},duration:300})}},{key:"isTypeAnimating",value:function(){for(var t=this,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return i.some(function(e){return t.animations.filter(function(t){return!1!==t}).some(function(t){return t.type.indexOf(e)>-1})})}},{key:"handleScale",value:function(t,e){var i,a,n,o,r,s,l,h,d=this,u=this.props.layout,p=A()(e[t],2),f=p[0],v=p[1],m=9999999999,_=0;if(this.state.graphMinMax.hasOwnProperty(t)&&2===this.state.graphMinMax[t].length&&(m=this.state.graphMinMax[t][0],_=this.state.graphMinMax[t][1]),m!==f||_!==v){var y=f-m,w=v-_,g=_>v?1:-1,x=Math.abs(w);if(_==v&&(g=m<f?1:-1,x=Math.abs(y)),Math.abs(x)>u.height/2){var b=x>=0?1:-1;x=u.height/2*b}this.createAnimation("anim-graph-".concat(t),(i=[y,w],a=[m,_],n=A()(i,2),o=n[0],r=n[1],s=A()(a,2),l=s[0],h=s[1],function(e){var i=o*e+l,a=r*e+h,n=e>0?e*g:g,s=n>=0?1:-1,u=1-Math.abs(n),p=0!==n&&0!==u?x*u*s:0;d.updateGraphOptions(c()({},d.state.graphMinMax,M()({},t,[i,a])),p)}),100)}else this.updateGraphOptions(c()({},this.state.graphMinMax,M()({},t,[f,v])),0)}},{key:"handleAnimScale",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,n=9999999999,o=0,r=A()(e[t],2),s=r[0],l=r[1];this.state.graphMinMax.hasOwnProperty(t)&&2===this.state.graphMinMax[t].length&&(n=this.state.graphMinMax[t][0],o=this.state.graphMinMax[t][1]);var h=[n,o],d=[s,l];this.createAnimation("anim-y-minmax-".concat(t),function(e){var a=h[0]+(d[0]-h[0])*e,n=h[1]+(d[1]-h[1])*e;i.updateGraphOptions(c()({},i.state.graphMinMax,M()({},t,[a,n])))},a)}},{key:"handleScaleYMinMax",value:function(){var t=this;this.createAnimation("anim-y-minmax",function(e){var i=1*e;t.setState({animationsValues:c()({},t.state.animationsValues,{yMinMax:0+i})})},150)}},{key:"handleCreateLabelX",value:function(){var t=this.props,i=t.id,a=t.scroll,n=t.labels,o=t.layout,r=t.width,s=this.state.graphLayout;return new H({id:i,width:r,scroll:a,labels:n,layout:o,graphLayout:s,getLabel:e.getXLabelText})}},{key:"handleZoom",value:function(){var t=this.state.showInfo,e=void 0!==t&&t;if(!1!==e){var i=this.props,a=i.labels,n=void 0===a?[]:a,o=i.zoomType;if("none"!==(void 0===o?"none":o)){var r=n[e];this.isShowInfo=!1,this.setState({showInfo:!1}),this.props.onZoom(r,e)}}}},{key:"render",value:function(){var t=this.props,e=t.allowXAsix,i=void 0!==e&&e,a=t.mini,n=void 0!==a&&a;this.canvasNode=k("canvas"),this.showInfoNode=k("div",{className:V.a.canvas__show_info,style:"opacity: 0;",onClick:this.handleZoom.bind(this)});var o={};return n||(o={onTouchMove:this.eventTouchMove.bind(this),onMouseMove:this.eventMouseMove.bind(this),onMouseLeave:this.eventMouseLeave.bind(this),onMouseEnter:this.eventMouseEnter.bind(this),onTouchStart:this.eventMouseDown.bind(this)}),this.element=k("div",c()({className:V.a.canvas_wrapper,children:this.canvasNode},o)),this.bars=new J,this.bars.renderDom(this.element),this.element.appendChild(this.showInfoNode),i&&(this.labelX=this.handleCreateLabelX(),this.labelX.renderDom(this.element)),this.element}}]),e}(z);M()($,"defaultProps",{arcMode:!1,animateScale:!0,allowXAsix:!0,allowYAsix:!0,allowPointValue:!1,offset:0,limit:0,dataset:[],visibled:[],width:0,scroll:0,layout:{width:0,height:0},yScaled:!1,zoomType:"none"}),M()($,"calcXStep",function(t){var e=t.width,i=t.limit,a=t.length,n=t.maxStep,o=void 0===n?1e3:n,r=t.minStep,s=void 0===r?1:r,c=i>0?e/((a-1)*i/100):e/a;return c=Math.min(c,o),c=Math.max(c,s)});var K=$,Q=i(12),tt=i.n(Q),et=i(18),it=i.n(et),at=function(t){function e(){return f()(this,e),y()(this,g()(e).apply(this,arguments))}return b()(e,t),m()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.dataset,a=void 0===i?[]:i,n=e.visibled,o=void 0===n?[]:n;t.dataset!==a?this.handleReRender():t.visibled!==o&&this.handleApplayVisibled()}},{key:"handleApplayVisibled",value:function(){var t=this,e=this.props,i=e.dataset,a=void 0===i?[]:i,n=e.visibled,o=void 0===n?[]:n;a.forEach(function(e){var i=t.items.find(function(t){return t.id==="switcher-for-".concat(e.id)});if(!i)throw new Error("Can't find swticher for ".concat(e.id));var a=i.querySelector(".".concat(tt.a.line__switchers__item__check__circle_blank));if(!a)throw new Error("Can't find circle-blank by selector ."+tt.a.line__switchers__item__check__circle_blank+"in swticher for ".concat(e.id));a.style="".concat(tt.a.line__switchers__item__check__circle_blank,";")+"transform: scale(".concat(o.includes(e.id)?0:.9,");")})}},{key:"handleReRender",value:function(){var t=this,i=this.props,a=i.dataset,n=void 0===a?[]:a,o=i.visibled,r=void 0===o?[]:o,s=i.onSwitch;this.items.forEach(function(t){return t.remove()}),this.items=e.createItems(n,r,s),this.items.forEach(function(e){return t.element.appendChild(e)})}},{key:"render",value:function(){var t=this.props,i=t.dataset,a=void 0===i?[]:i,n=t.visibled,o=void 0===n?[]:n,r=t.onSwitch;return this.items=e.createItems(a,o,r),this.element=k("div",{className:tt.a.line__switchers,children:this.items}),this.element}}],[{key:"createItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t.map(function(t){return k("div",{id:"switcher-for-".concat(t.id),className:tt.a.line__switchers__item,children:[k("div",{className:tt.a.line__switchers__item__check,style:"background-color: ".concat(t.color),children:[k("div",{className:tt.a.line__switchers__item__check__circle_blank,style:"transform: scale(".concat(e.includes(t.id)?0:1,");")}),k("div",{className:tt.a.line__switchers__item__check__icon,style:"background-image: url(".concat(it.a,")")})]}),k("div",{className:tt.a.line__switchers__item__label,text:t.label})],onClick:function(){return i(t.id)}})})}}]),e}(z);M()(at,"defaultProps",{dataset:[],visibled:[]});var nt,ot,rt=at,st=function(){function t(e){f()(this,t),this.data=e}return m()(t,[{key:"getXAsix",value:function(){var t=this,e=Object.keys(this.data.types).find(function(e){return"x"===t.data.types[e]});if(!e)throw new Error("Can't found x type");var i=this.data.columns.find(function(t){return t.length>0&&t[0]===e});if(!i)throw new Error("Can't found x column");return i.slice(1)}},{key:"getCharts",value:function(){var t=this;return this.data.columns.filter(function(t){return"x"!==t[0]}).map(function(e){return{id:e[0],type:t.data.types[e[0]],label:t.data.names[e[0]],color:t.data.colors[e[0]],list:e.slice(1)}})}},{key:"getLines",value:function(){var t=this,e=Object.keys(this.data.types).filter(function(e){return"line"===t.data.types[e]});if(0===e.length)throw new Error("Can't found any lines");if(this.data.columns.filter(function(t){return t.length>0&&e.includes(t[0])}).length!==e.length)throw new Error("Can't found lines #".concat(e.join(",")," in columns"));return e.map(function(e){return t.getLine(e)})}},{key:"getLine",value:function(t){var e=this.data.columns.find(function(e){return e.length>0&&e[0]===t}),i=this.data.names[t],a=this.data.colors[t];if(!e)throw new Error("Can't found ".concat(t," column"));if(!i)throw new Error("Can't name for type #".concat(t));if(!a)throw new Error("Can't found color for type #".concat(t));return{id:t,label:i,color:a,list:e.slice(1)}}},{key:"IsYScaled",value:function(){return!!this.data.y_scaled}},{key:"IsStacked",value:function(){return!!this.data.stacked}},{key:"length",get:function(){return this.data.length}}]),t}(),ct=i(19),lt=i.n(ct),ht="day",dt=(nt={},M()(nt,ht,"Switch to Night Mode"),M()(nt,"night","Switch to Day Mode"),nt),ut=(ot={},M()(ot,ht,{background:"#fff",text:"#182D3B",lines:"#182D3B",lastLine:"#182D3B",activeLine:"#182D3B",textOpacity:.7,lineOpacity:.1}),M()(ot,"night",{background:"#242F3E",text:"#546778",lines:"#293544",lastLine:"#313D4D",activeLine:"#3B4A5A"}),ot),pt=i(10),ft=i.n(pt),vt=i(11),mt=i.n(vt),_t=function(t){function e(t){var i;f()(this,e),i=y()(this,g()(e).call(this,t)),M()(u()(i),"eventMouseMove",function(t){if(i.isChangePosition){var e=i.props,a=e.layout,n=e.width,o=i.changePositionEvent.scroll,r={x:i.changePositionEvent.x,y:i.changePositionEvent.y},s=T(t),c=r.x-s.x,l=c>0?1:0;if(0!==(c=Math.abs(c))){var h=100*c/a.width,d=o+h;1===l&&(d=o-h),d-n<0&&(d=n),d>100&&(d=100),i.props.scroll!==d&&i.props.onChange({scroll:d,width:n})}}if(i.isChangeSize){var u=i.props.layout,p=i.changeSizeEvent,f=p.width,v=p.side,m=void 0===v?"left":v,_={x:i.changeSizeEvent.x,y:i.changeSizeEvent.y},y=T(t),w=_.x-y.x,g=w>0?1:0;if(0!==(w=Math.abs(w)))if("left"===m){var x=i.props.scroll,b=100*w/u.width,S=f-b;1===g&&(S=f+b),S>x&&(S=x),S<5&&(S=5),i.props.width!==S&&i.props.onChange({width:S,scroll:x})}else if("right"===m){var M=i.changeSizeEvent.scroll,k=100*w/u.width,L=f+k,z=M+k;if(1===g&&(L=f-k,z=M-k),z>100)z=100,L=100-(M-f);L<5&&(L=5),i.props.width!==L&&i.props.onChange({width:L,scroll:z})}}}),M()(u()(i),"eventMouseUp",function(){i.isChangePosition=!1,i.isChangeSize=!1,i.changePositionEvent=!1,i.changeSizeEvent=!1}),M()(u()(i),"eventLeftZoneMouseDown",function(t){var e=i.props,a=e.width,n=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=c()({},T(t),{side:"left",width:a,scroll:n})}),M()(u()(i),"eventRightZoneMouseDown",function(t){var e=i.props,a=e.width,n=e.scroll;i.isChangeSize=!0,i.changeSizeEvent=c()({},T(t),{side:"right",width:a,scroll:n})}),M()(u()(i),"eventZoneMouseDown",function(t){var e=i.props.scroll;i.isChangePosition=!0,i.changePositionEvent=c()({},T(t),{scroll:e})});var a=t.id,n=t.dataset,o=void 0===n?[]:n,r=t.layout,s=t.yScaled;return i.cartMiniMap=new K({id:a,mini:!0,lineWidth:2,dataset:o,yScaled:s,allowXAsix:!1,allowYAsix:!1,layout:{width:r.width,height:50}}),i}return b()(e,t),m()(e,[{key:"componentDidMount",value:function(){this.attachEvents()}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.scroll,a=e.width,n=e.dataset,o=e.layout,r=e.visibled,s=e.yScaled;t.scroll===i&&t.width===a||(this.minimapZone.style.left="".concat(i-a,"%"),this.minimapZone.style.width="".concat(a,"%"),this.minimapLeftZone.style="width: ".concat(i-a,"%"),this.minimapRightZone.style="width: ".concat(100-i,"%"),this.minimapLeftSizeZone.style="left: ".concat(i-a,"%;"),this.minimapRightSizeZone.style="left: ".concat(i,"%;")),t.dataset===n&&t.yScaled===s&&t.visibled===r&&t.layout===o||this.cartMiniMap.setProps({yScaled:s,visibled:r,dataset:n,layout:{width:o.width,height:50}})}},{key:"dettachEvents",value:function(){document.removeEventListener("mousemove",this.documentEventMouseMove),document.removeEventListener("mouseup",this.documentEventMouseUp),document.removeEventListener("touchmove",this.documentEventMouseMove),document.removeEventListener("touchend",this.documentEventMouseUp)}},{key:"attachEvents",value:function(){this.documentEventMouseMove=this.eventMouseMove.bind(this),this.documentEventMouseUp=this.eventMouseUp.bind(this),document.addEventListener("mousemove",this.documentEventMouseMove),document.addEventListener("mouseup",this.documentEventMouseUp),document.addEventListener("touchmove",this.documentEventMouseMove),document.addEventListener("touchend",this.documentEventMouseUp)}},{key:"render",value:function(){var t=this.props,e=t.scroll,i=t.width;return this.minimapLeftZone=k("div",{className:mt.a.minimap__left_zone,style:"width: ".concat(e-i,"%")}),this.minimapLeftSizeZone=k("div",{className:mt.a.minimap__left_size_zone,style:"left: ".concat(e-i,"%;"),children:k("div",{className:mt.a.minimap__size_zone__helper,onMouseDown:this.eventLeftZoneMouseDown.bind(this),onTouchStart:this.eventLeftZoneMouseDown.bind(this)})}),this.minimapZone=k("div",{className:mt.a.minimap__zone,style:"left: ".concat(e-i,"%; width: ").concat(i,"%"),onMouseDown:this.eventZoneMouseDown.bind(this),onTouchStart:this.eventZoneMouseDown.bind(this)}),this.minimapRightSizeZone=k("div",{className:mt.a.minimap__right_size_zone,style:"left: ".concat(e,"%;"),children:k("div",{className:mt.a.minimap__size_zone__helper,onMouseDown:this.eventRightZoneMouseDown.bind(this),onTouchStart:this.eventRightZoneMouseDown.bind(this)})}),this.minimapRightZone=k("div",{className:mt.a.minimap__right_zone,style:"width: ".concat(100-e,"%")}),this.minimap=k("div",{className:mt.a.minimap,children:[this.minimapLeftZone,this.minimapLeftSizeZone,this.minimapZone,this.minimapRightSizeZone,this.minimapRightZone]}),this.canvasWrapper=k("div",{className:mt.a.minimap__canvas_wrapper}),this.element=k("div",{className:mt.a.charts__minimap_wrapper,children:[this.minimap,this.canvasWrapper]}),this.cartMiniMap.renderDom(this.canvasWrapper),this.element}}]),e}(z);M()(_t,"defaultProps",{id:0,dataset:[],visibled:[],layout:{},scroll:0,width:0,yScaled:!1});var yt=_t,wt=i(16),gt=i.n(wt),xt=function(t){function e(t){var i;f()(this,e),i=y()(this,g()(e).call(this,t)),M()(u()(i),"nodes",{from:!1,to:!1});var a=t.from,n=void 0!==a&&a,o=t.to,r=void 0!==o&&o;return i.applyTimestamp(n,"from"),i.applyTimestamp(r,"to"),i.appearDatesRange(i.state.from,i.state.to),i}return b()(e,t),m()(e,[{key:"componentDidUpdate",value:function(t,e){var i=this.props,a=i.from,n=i.to,o=this.state,r=o.date_from,s=o.date_to;a!==t.from&&this.applyTimestamp(a,"from"),n!==t.to&&this.applyTimestamp(n,"to"),r!==e.date_from&&this.applyDateItem(r,"from"),s!==e.date_to&&this.applyDateItem(s,"to")}},{key:"parseTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1!==t){var e=new Date(t);return{year:e.getFullYear(),month:R[e.getMonth()],day:e.getDate()}}return!1}},{key:"applyTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from";this.setState(M()({},"date_".concat(e),this.parseTimestamp(t)))}},{key:"createDateItem",value:function(t){var e=t.year,i=t.month,a=t.day,n=k("div",{className:gt.a.dates_range__item__year,text:e}),o=k("div",{className:gt.a.dates_range__item__month,text:i}),r=k("div",{className:gt.a.dates_range__item__day,text:a});return{item:k("div",{className:gt.a.dates_range__item,children:[r,o,n]}),year:n,month:o,day:r}}},{key:"appearDateItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from";this.nodes[e]=!1!==t&&this.createDateItem(t)}},{key:"appearDatesRange",value:function(t,e){this.appearDateItem(t,"from"),this.appearDateItem(e,"to")}},{key:"updateDateItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from";!1!==t&&(this.nodes[e].year.innerText=t.year,this.nodes[e].month.innerText=t.month,this.nodes[e].day.innerText=t.day)}},{key:"applyDateItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from";this.nodes[e]?!1!==t?this.updateDateItem(t,e):this.element.removeChild(this.nodes[e].item):!1!==t&&(this.appearDateItem(t,e),this.nodes[e]&&this.element.appendChild(this.nodes[e].item))}},{key:"render",value:function(){var t=[];return this.nodes.from&&t.push(this.nodes.from.item),this.nodes.to&&t.push(this.nodes.to.item),this.element=k("div",{className:gt.a.dates_range,children:t}),this.element}}]),e}(z);M()(xt,"defaultProps",{from:!1,to:!1});var bt=xt,St=function(t){function e(){return f()(this,e),y()(this,g()(e).apply(this,arguments))}return b()(e,t),m()(e,[{key:"componentWillUnmount",value:function(){this.cart&&(this.cart.destroy(),this.cart=null),this.miniMap&&(this.miniMap.destroy(),this.miniMap=null)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.arcMode,a=e.fontSize,n=e.loading,o=e.zoom,r=e.colors,s=e.layout,c=e.mode,l=e.data;if(t!==a&&this.element.setAttribute("style","font-size: ".concat(a,"px")),t.mode!==c&&this.applyColorMode(),t.arcMode!==i&&this.cart.setProps({arcMode:i}),t.colors!==r&&(this.cart.setProps({colors:r}),this.miniMap.setProps({colors:r})),t.data.title===l.title&&t.loading===n||this.updateTitle(),t.data!==l){var h=this.props.data,d=h.visibled,u=void 0===d?[]:d,p=h.dataset,f=void 0===p?[]:p,v=h.labels,m=h.scroll,_=h.width,y=h.yScaled,w=void 0!==y&&y,g=h.stacked,x=void 0!==g&&g,b=f.length>0?f[0].list.length:0,S=Mt.calcLimitOffset(b,_,m),M=S.limit,k=S.offset;this.cart.setProps({yScaled:w,dataset:f,labels:v,visibled:u,offset:k,limit:M,scroll:m,width:_,stacked:x}),t.data.dataset===f&&t.data.yScaled===w&&t.data.scroll===m&&t.data.width===_&&t.data.visibled===u||(this.miniMap.setProps({scroll:m,width:_,yScaled:w,visibled:u,dataset:f}),this.lineSwitcher.setProps({dataset:f,visibled:u})),t.data.scroll===m&&t.data.width===_&&t.data.dataset===f&&t.data.labels===v||this.datesRange.setProps({from:v[k],to:v[k+M-1]})}!1!==t.zoom&&!1===o?this.zoomOut.classList.toggle(ft.a.charts__zoom_out__show):!1===t.zoom&&!1!==o&&this.zoomOut.classList.toggle(ft.a.charts__zoom_out__show),t.layout!==s&&(this.cart.setProps({layout:{width:s.width,height:window.innerHeight/100*40}}),this.miniMap.setProps({layout:s}))}},{key:"applyColorMode",value:function(){var t=this.props.mode;this.ownElement.classList.toggle(ft.a.mode_night,"night"===t),this.colorSwitcherItem.innerText=dt[t]}},{key:"updateTitle",value:function(){var t=this.props,e=t.data.title,i=void 0===e?"":e,a=t.loading,n=void 0!==a&&a;this.title.innerText=n?"Loading...":i}},{key:"changeMiniMap",value:function(t){var e=t.width,i=t.scroll;this.props.onChangeOffsets({width:e,scroll:i})}},{key:"render",value:function(){var t=this.props,e=t.animateScale,i=void 0===e||e,a=t.fontSize,n=void 0===a?16:a,o=t.loading,r=void 0!==o&&o,s=t.arcMode,c=void 0!==s&&s,l=t.zoomType,h=void 0===l?"none":l,d=t.zoom,u=void 0!==d&&d,p=t.colors,f=t.layout,v=t.mode,m=t.data,_=m.title,y=void 0===_?"":_,w=m.visibled,g=void 0===w?[]:w,x=m.dataset,b=void 0===x?[]:x,S=m.labels,M=m.scroll,L=m.width,z=m.yScaled,O=void 0!==z&&z,A=m.stacked,I=void 0!==A&&A,D=b.length>0?b[0].list.length:0,E=Mt.calcLimitOffset(D,L,M),T=E.limit,P=E.offset;return this.cart=new K({id:1,animateScale:i,zoomType:h,lineWidth:3,zoom:u,arcMode:c,visibled:g,dataset:b,offset:P,limit:T,scroll:M,width:L,labels:S,yScaled:O,stacked:I,layout:{width:f.width,height:window.innerHeight/100*40},colors:p,onZoom:this.props.onZoom}),this.miniMap=new yt({id:1,dataset:b,layout:f,scroll:M,width:L,yScaled:O,onChange:this.changeMiniMap.bind(this)}),this.lineSwitcher=new rt({dataset:b,visibled:g,onSwitch:this.props.onSwitchVisible.bind(this)}),this.colorSwitcherItem=k("div",{className:ft.a.color__switcher__item,text:dt[v],onClick:this.props.onToggleMode.bind(this)}),this.colorSwitcher=k("div",{className:ft.a.color__switcher,children:this.colorSwitcherItem}),this.title=k("h1",{className:ft.a.chart_title,text:r?"Loading...":y}),this.datesRange=new bt({from:S[P],to:S[P+T-1]}),this.zoomOut=k("div",{className:ft.a.charts__zoom_out,children:[k("div",{className:ft.a.charts__zoom_out__icon,style:"background-image: url(".concat(lt.a,")")}),k("div",{className:ft.a.charts__zoom_out__text,text:"Zoom Out"})],onClick:this.props.onZoomOut}),this.element=k("div",{className:ft.a.charts,style:"font-size: ".concat(n,"px"),children:[this.title,this.zoomOut]}),this.datesRange.renderDom(this.element),this.cart.renderDom(this.element),this.miniMap.renderDom(this.element),this.lineSwitcher.renderDom(this.element),this.element.appendChild(this.colorSwitcher),this.element}}]),e}(z);M()(St,"defaultProps",{animateScale:!0});var Mt=function(t){function e(){var t,i;f()(this,e);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=y()(this,(t=g()(e)).call.apply(t,[this].concat(o))),M()(u()(i),"state",{mode:ht,layout:{width:0,height:0},data:{title:"",scroll:100,width:25,dataset:[],labels:[],visibled:[],yScaled:!1},fontSize:16,init:!1,loading:!0,zoom:!1}),M()(u()(i),"element",!1),M()(u()(i),"chart",!1),M()(u()(i),"handleZoom",function(){var t=h()(r.a.mark(function t(e,a){var n,o,s,l,h,d,u,p,f,v,m,_;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.props,o=n.zoomType,s=void 0===o?"none":o,l=n.getZoomedDataUrl,"byDay"!==s){t.next=10;break}h=i.getCurrentData(),5,5,d=h.dataset.map(function(t){return c()({},t,{list:t.list.slice(a-5,a+5)})}),u=h.labels.slice(a-5,a+5),i.setState({zoom:{title:h.title,visibled:h.visibled,yScaled:h.yScaled,index:a,unixTimestamp:e,offsetBefore:5,offsetAfter:5,scroll:60,width:10,labels:u,dataset:d}}),t.next=20;break;case 10:if("byHours"!==s){t.next=20;break}return p=i.getCurrentData(),i.setState({loading:!0}),f=l(e),t.next=16,i.loadData(f);case 16:v=t.sent,m=v.getCharts(),_=v.getXAsix(),i.setState({zoom:{title:p.title,yScaled:p.yScaled,scroll:50,width:10,labels:_,dataset:m,visibled:m.map(function(t){return t.id})},loading:!1});case 20:case"end":return t.stop()}},t)}));return function(e,i){return t.apply(this,arguments)}}()),M()(u()(i),"handleZoomOut",function(){i.setState({zoom:!1})}),M()(u()(i),"handleSwitchDataSet",function(t){var e=i.getCurrentData().visibled,a=void 0===e?[]:e;a.includes(t)?i.setCurrentData({visibled:a.filter(function(e){return e!==t})}):i.setCurrentData({visibled:[].concat(n()(a),[t])})}),i}return b()(e,t),m()(e,[{key:"componentDidMount",value:function(){this.prepareOwnElement();var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.setState({fontSize:t,init:!0,layout:{width:this.element.clientWidth,height:this.element.clientHeight}}),this.handleLoadDataCharts()}},{key:"componentDidUpdate",value:function(t,e){var i=this.props.arcMode,a=this.state,n=a.zoom,o=a.fontSize,r=a.loading,s=a.layout,c=a.mode,l=a.data;t.arcMode===i&&e.zoom===n&&e.fontSize===o&&e.loading===r&&e.layout===s&&e.mode===c&&e.data===l||this.chart.setProps({zoom:!1!==n,arcMode:!1!==n&&i,fontSize:o,loading:r,colors:ut[c],layout:s,mode:c,data:!1===n?l:n})}},{key:"attachEvents",value:function(){var t=this;window.onresize=I(function(){t.setState({layout:{width:t.element.clientWidth,height:t.element.clientHeight}}),t.updateFontSize()},100)}},{key:"getCurrentData",value:function(){var t=this.state,e=t.data,i=t.zoom,a=void 0!==i&&i;return!1!==a?a:e}},{key:"setCurrentData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.state,i=e.data,a=e.zoom,n=void 0!==a&&a;!1!==n?this.setState({zoom:c()({},n,t)}):this.setState({data:c()({},i,t)})}},{key:"prepareOwnElement",value:function(){var t=this.state.mode;this.ownElement.classList.toggle(ft.a.mode_night,"night"===t),this.ownElement.classList.add(ft.a.app)}},{key:"loadData",value:function(){var t=h()(r.a.mark(function t(e){var i,a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return i=t.sent,a=JSON.parse(i),n=new st(a),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"setDataChart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart",i=t.getCharts(),a=t.getXAsix();this.setState({data:{title:e,scroll:100,width:25,dataset:i,labels:a,visibled:i.map(function(t){return t.id}),yScaled:t.IsYScaled(),
//!!dataJson.y_scaled,
stacked:t.IsStacked()}})}},{key:"handleLoadDataCharts",value:function(){var t=h()(r.a.mark(function t(){var e,i,a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,i=e.name,a=e.dataUrl,this.setState({loading:!0}),t.next=4,this.loadData(a);case 4:n=t.sent,this.setDataChart(n,i),this.setState({loading:!1});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateFontSize",value:function(){var t=+(window.innerWidth/40).toFixed(2);t>16&&(t=16),this.state.fontSize!==t&&this.setState({fontSize:t})}},{key:"handleToggleColorMode",value:function(){var t=this.state.mode;this.setState({mode:t===ht?"night":ht})}},{key:"handleUpdateMiniMap",value:function(t){var e=t.width,i=t.scroll;this.setCurrentData({width:e,scroll:i})}},{key:"render",value:function(){var t=this.props,e=t.animateScale,i=void 0===e||e,a=t.zoomType,n=void 0===a?"none":a,o=this.state,r=o.loading,s=void 0!==r&&r,c=o.zoom,l=void 0!==c&&c,h=o.layout,d=o.mode,u=o.data,p=o.fontSize,f=void 0===p?16:p;return this.chart=new St({animateScale:i,arcMode:!1,zoomType:n,zoom:l,fontSize:f,loading:s,colors:ut[d],layout:h,mode:d,data:u,onToggleMode:this.handleToggleColorMode.bind(this),onSwitchVisible:this.handleSwitchDataSet.bind(this),onChangeOffsets:this.handleUpdateMiniMap.bind(this),onZoom:this.handleZoom.bind(this),onZoomOut:this.handleZoomOut.bind(this)}),this.element=k("div",{className:ft.a.app,style:"font-size: ".concat(f,"px")}),this.chart.renderDom(this.element),this.element}}],[{key:"getXLabelText",value:function(t){var e=new Date(t),i=R[e.getMonth()],a=e.getDate(),n=e.getFullYear();return"".concat(a," ").concat(i," ").concat(n)}},{key:"calcLimitOffset",value:function(t,e,i){var a=t>0?Math.round(t/100*e):0,n=t>0?Math.round(t/100*i)-a:0;return isNaN(a)&&(a=0,console.warn("[App][calcLimitOffset] invalid params:",{length:t,width:e,scroll:i})),isNaN(n)&&(n=0,console.warn("[App][calcLimitOffset] invalid params:",{length:t,width:e,scroll:i})),{limit:a,offset:n}}}]),e}(z);M()(Mt,"defaultProps",{animateScale:!0,arcMode:!1});var kt=Mt,Lt=function(t){return function(e){var i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1,o=i.getDate();1==="".concat(n).length&&(n="0".concat(n)),1==="".concat(o).length&&(o="0".concat(o));var r="".concat(a,"-").concat(n);return"".concat(t,"/").concat(r,"/").concat(o,".json")}};-1===window.location.pathname.indexOf("stage-2.html")?(window.app0=new kt({name:"Chart 1",dataUrl:"data/data.0.json"}),window.app0.renderDom(document.getElementById("app0")),window.app1=new kt({name:"Chart 2",dataUrl:"data/data.1.json"}),window.app1.renderDom(document.getElementById("app1")),window.app2=new kt({name:"Chart 3",dataUrl:"data/data.2.json"}),window.app2.renderDom(document.getElementById("app2")),window.app3=new kt({name:"Chart 4",dataUrl:"data/data.3.json"}),window.app3.renderDom(document.getElementById("app3")),window.app4=new kt({name:"Chart 5",dataUrl:"data/data.4.json"}),window.app4.renderDom(document.getElementById("app4"))):window.location.pathname.indexOf("stage-2.html")>-1&&(window.app0=new kt({name:"Followers",dataUrl:"data/new/1/overview.json",zoomType:"byHours",getZoomedDataUrl:Lt("data/new/1")}),window.app0.renderDom(document.getElementById("app0")),window.app1=new kt({name:"Interactions",dataUrl:"data/new/2/overview.json",zoomType:"byHours",getZoomedDataUrl:Lt("data/new/2")}),window.app1.renderDom(document.getElementById("app1")),window.app2=new kt({name:"Chart 3",dataUrl:"data/new/3/overview.json",zoomType:"byHours",getZoomedDataUrl:Lt("data/new/3")}),window.app2.renderDom(document.getElementById("app2")),window.app3=new kt({name:"Views",dataUrl:"data/new/4/overview.json",zoomType:"byHours",getZoomedDataUrl:Lt("data/new/4")}),window.app3.renderDom(document.getElementById("app3")),window.app4=new kt({name:"Chart 5",dataUrl:"data/new/5/overview.json",zoomType:"byDay",arcMode:!0}),window.app4.renderDom(document.getElementById("app4")))}]);
//# sourceMappingURL=main.655afe38cc67fe9f303b.js.map